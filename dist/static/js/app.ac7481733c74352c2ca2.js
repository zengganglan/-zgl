webpackJsonp([2],{"+Ggk":function(t,e){},"+Z75":function(t,e,a){t.exports=a.p+"static/img/bj@2x.a820298.png"},"+aSx":function(t,e,a){(function(t){var i,n=n||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},a=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in a,n=/constructor/i.test(t.HTMLElement),s=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},r=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},c=function(c,d,u){u||(c=r(c));var m,p=this,h="application/octet-stream"===c.type,f=function(){!function(t,e,a){for(var i=(e=[].concat(e)).length;i--;){var n=t["on"+e[i]];if("function"==typeof n)try{n.call(t,a||t)}catch(t){o(t)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,i)return m=e().createObjectURL(c),void setTimeout(function(){var t,e;a.href=m,a.download=d,t=a,e=new MouseEvent("click"),t.dispatchEvent(e),f(),l(m),p.readyState=p.DONE});!function(){if((s||h&&n)&&t.FileReader){var a=new FileReader;return a.onloadend=function(){var e=s?a.result:a.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,f()},a.readAsDataURL(c),void(p.readyState=p.INIT)}m||(m=e().createObjectURL(c)),h?t.location.href=m:t.open(m,"_blank")||(t.location.href=m);p.readyState=p.DONE,f(),l(m)}()},d=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,a){return e=e||t.name||"download",a||(t=r(t)),navigator.msSaveOrOpenBlob(t,e)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(t,e,a){return new c(t,e||t.name||"download",a)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */void 0!==t&&t.exports?(console.log(t),t.exports.saveAs=n):null!==a("LGuY")&&null!==a("nErl")&&(void 0===(i=function(){return n}.apply(e,[]))||(t.exports=i))}).call(e,a("3IRH")(t))},"+rYZ":function(t,e){},"+yXY":function(t,e){},"/oPU":function(t,e){},"/tUy":function(t,e){},"/uNm":function(t,e){},0:function(t,e,a){a("j1ja"),t.exports=a("NHnr")},"0Tss":function(t,e){},"0gKM":function(t,e){},"19oY":function(t,e){},"1Axe":function(t,e){},"1JXg":function(t,e){},"1NoI":function(t,e){},"2T5n":function(t,e,a){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"head"},[e("div",{staticClass:"a1"},[this._v(this._s(this.headson[0]))]),this._v(" "),e("span",{staticClass:"a2"},[this._v(this._s(this.headson[1]))])])},staticRenderFns:[]};var n=a("VU/8")({props:["headson"],created:function(){}},i,!1,function(t){a("Jl84")},"data-v-100fc464",null);e.a=n.exports},"2bHb":function(t,e){},"2w+2":function(t,e){},"2ycu":function(t,e){},"37E2":function(t,e){},"3HVV":function(t,e){},"3TXs":function(t,e,a){"use strict";(function(t,e){var i,n=a("pFYg"),s=a.n(n),o=t.exports;!function(i){if("object"==(void 0===o?"undefined":s()(o))&&void 0!==t)t.exports=i();else if("function"==typeof define&&a("nErl"))define([],i);else{var n;"undefined"!=typeof window?n=window:void 0!==e?n=e:"undefined"!=typeof self&&(n=self),n.htmlDocx=i(),console.log(n,t.exports,i(),n.htmlDocx,11111)}}(function(){return function t(e,a,n){function s(l,r){if(!a[l]){if(!e[l]){if(!r&&("function"==typeof i&&i))return i(l,!0);if(o)return o(l,!0);throw new Error("Cannot find module '"+l+"'")}var c=a[l]={exports:{}};e[l][0].call(c.exports,function(t){return s(e[l][1][t]||t)},c,c.exports,t,e,a,n)}return a[l].exports}for(var o="function"==typeof i&&i,l=0;l<n.length;l++)s(n[l]);return s}({1:[function(t,e,a){
/*!
            * The buffer module from node.js, for the browser.
            *
            * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
            * @license  MIT
            */
var i=t("base64-js"),n=t("ieee754"),o=t("is-array");a.Buffer=r,a.SlowBuffer=r,a.INSPECT_MAX_BYTES=50,r.poolSize=8192;var l=1073741823;function r(t,e,a){if(!(this instanceof r))return new r(t,e,a);var i,n,c,d=void 0===t?"undefined":s()(t);if("number"===d)i=t>0?t>>>0:0;else if("string"===d)"base64"===e&&(t=function(t){for(t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(C,"");t.length%4!=0;)t+="=";return t}(t)),i=r.byteLength(t,e);else{if("object"!==d||null===t)throw new TypeError("must start with number, buffer, array or string");"Buffer"===t.type&&o(t.data)&&(t=t.data),i=+t.length>0?Math.floor(+t.length):0}if(this.length>l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");if(r.TYPED_ARRAY_SUPPORT?n=r._augment(new Uint8Array(i)):((n=this).length=i,n._isBuffer=!0),r.TYPED_ARRAY_SUPPORT&&"number"==typeof t.byteLength)n._set(t);else if(function(t){return o(t)||r.isBuffer(t)||t&&"object"==(void 0===t?"undefined":s()(t))&&"number"==typeof t.length}(t))if(r.isBuffer(t))for(c=0;c<i;c++)n[c]=t.readUInt8(c);else for(c=0;c<i;c++)n[c]=(t[c]%256+256)%256;else if("string"===d)n.write(t,0,e);else if("number"===d&&!r.TYPED_ARRAY_SUPPORT&&!a)for(c=0;c<i;c++)n[c]=0;return n}function c(t,e,a,i){return F(function(t){for(var e=[],a=0;a<t.length;a++)e.push(255&t.charCodeAt(a));return e}(e),t,a,i)}function d(t,e,a){return 0===e&&a===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,a))}function u(t,e,a){var i="",n="";a=Math.min(t.length,a);for(var s=e;s<a;s++)t[s]<=127?(i+=A(n)+String.fromCharCode(t[s]),n=""):n+="%"+t[s].toString(16);return i+A(n)}function m(t,e,a){var i="";a=Math.min(t.length,a);for(var n=e;n<a;n++)i+=String.fromCharCode(t[n]);return i}function p(t,e,a){return m(t,e,a)}function h(t,e,a){var i=t.length;(!e||e<0)&&(e=0),(!a||a<0||a>i)&&(a=i);for(var n="",s=e;s<a;s++)n+=$(t[s]);return n}function f(t,e,a){for(var i=t.slice(e,a),n="",s=0;s<i.length;s+=2)n+=String.fromCharCode(i[s]+256*i[s+1]);return n}function g(t,e,a){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>a)throw new RangeError("Trying to access beyond buffer length")}function v(t,e,a,i,n,s){if(!r.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>n||e<s)throw new TypeError("value is out of bounds");if(a+i>t.length)throw new TypeError("index out of range")}function _(t,e,a,i){e<0&&(e=65535+e+1);for(var n=0,s=Math.min(t.length-a,2);n<s;n++)t[a+n]=(e&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function b(t,e,a,i){e<0&&(e=4294967295+e+1);for(var n=0,s=Math.min(t.length-a,4);n<s;n++)t[a+n]=e>>>8*(i?n:3-n)&255}function x(t,e,a,i,n,s){if(e>n||e<s)throw new TypeError("value is out of bounds");if(a+i>t.length)throw new TypeError("index out of range")}function y(t,e,a,i,s){return s||x(t,e,a,4,3.4028234663852886e38,-3.4028234663852886e38),n.write(t,e,a,i,23,4),a+4}function w(t,e,a,i,s){return s||x(t,e,a,8,1.7976931348623157e308,-1.7976931348623157e308),n.write(t,e,a,i,52,8),a+8}r.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(t){return!1}}(),r.isBuffer=function(t){return!(null==t||!t._isBuffer)},r.compare=function(t,e){if(!r.isBuffer(t)||!r.isBuffer(e))throw new TypeError("Arguments must be Buffers");for(var a=t.length,i=e.length,n=0,s=Math.min(a,i);n<s&&t[n]===e[n];n++);return n!==s&&(a=t[n],i=e[n]),a<i?-1:i<a?1:0},r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(t,e){if(!o(t))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===t.length)return new r(0);if(1===t.length)return t[0];var a;if(void 0===e)for(e=0,a=0;a<t.length;a++)e+=t[a].length;var i=new r(e),n=0;for(a=0;a<t.length;a++){var s=t[a];s.copy(i,n),n+=s.length}return i},r.byteLength=function(t,e){var a;switch(t+="",e||"utf8"){case"ascii":case"binary":case"raw":a=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":a=2*t.length;break;case"hex":a=t.length>>>1;break;case"utf8":case"utf-8":a=S(t).length;break;case"base64":a=z(t).length;break;default:a=t.length}return a},r.prototype.length=void 0,r.prototype.parent=void 0,r.prototype.toString=function(t,e,a){var i=!1;if(t||(t="utf8"),(e>>>=0)<0&&(e=0),(a=void 0===a||a===1/0?this.length:a>>>0)>this.length&&(a=this.length),a<=e)return"";for(;;)switch(t){case"hex":return h(this,e,a);case"utf8":case"utf-8":return u(this,e,a);case"ascii":return m(this,e,a);case"binary":return p(this,e,a);case"base64":return d(this,e,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,e,a);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}},r.prototype.equals=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return 0===r.compare(this,t)},r.prototype.inspect=function(){var t="",e=a.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},r.prototype.compare=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return r.compare(this,t)},r.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},r.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},r.prototype.write=function(t,e,a,i){if(isFinite(e))isFinite(a)||(i=a,a=void 0);else{var n=i;i=e,e=a,a=n}e=Number(e)||0;var s,o=this.length-e;switch(a?(a=Number(a))>o&&(a=o):a=o,i=String(i||"utf8").toLowerCase()){case"hex":s=function(t,e,a,i){a=Number(a)||0;var n=t.length-a;i?(i=Number(i))>n&&(i=n):i=n;var s=e.length;if(s%2!=0)throw new Error("Invalid hex string");i>s/2&&(i=s/2);for(var o=0;o<i;o++){var l=parseInt(e.substr(2*o,2),16);if(isNaN(l))throw new Error("Invalid hex string");t[a+o]=l}return o}(this,t,e,a);break;case"utf8":case"utf-8":s=function(t,e,a,i){return F(S(e),t,a,i)}(this,t,e,a);break;case"ascii":s=c(this,t,e,a);break;case"binary":s=function(t,e,a,i){return c(t,e,a,i)}(this,t,e,a);break;case"base64":s=function(t,e,a,i){return F(z(e),t,a,i)}(this,t,e,a);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":s=function(t,e,a,i){return F(function(t){for(var e,a,i,n=[],s=0;s<t.length;s++)a=(e=t.charCodeAt(s))>>8,i=e%256,n.push(i),n.push(a);return n}(e),t,a,i,2)}(this,t,e,a);break;default:throw new TypeError("Unknown encoding: "+i)}return s},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.slice=function(t,e){var a=this.length;if((t=~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),(e=void 0===e?a:~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),e<t&&(e=t),r.TYPED_ARRAY_SUPPORT)return r._augment(this.subarray(t,e));for(var i=e-t,n=new r(i,void 0,!0),s=0;s<i;s++)n[s]=this[s+t];return n},r.prototype.readUInt8=function(t,e){return e||g(t,1,this.length),this[t]},r.prototype.readUInt16LE=function(t,e){return e||g(t,2,this.length),this[t]|this[t+1]<<8},r.prototype.readUInt16BE=function(t,e){return e||g(t,2,this.length),this[t]<<8|this[t+1]},r.prototype.readUInt32LE=function(t,e){return e||g(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},r.prototype.readUInt32BE=function(t,e){return e||g(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},r.prototype.readInt8=function(t,e){return e||g(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},r.prototype.readInt16LE=function(t,e){e||g(t,2,this.length);var a=this[t]|this[t+1]<<8;return 32768&a?4294901760|a:a},r.prototype.readInt16BE=function(t,e){e||g(t,2,this.length);var a=this[t+1]|this[t]<<8;return 32768&a?4294901760|a:a},r.prototype.readInt32LE=function(t,e){return e||g(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},r.prototype.readInt32BE=function(t,e){return e||g(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},r.prototype.readFloatLE=function(t,e){return e||g(t,4,this.length),n.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,e){return e||g(t,4,this.length),n.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,e){return e||g(t,8,this.length),n.read(this,t,!0,52,8)},r.prototype.readDoubleBE=function(t,e){return e||g(t,8,this.length),n.read(this,t,!1,52,8)},r.prototype.writeUInt8=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,1,255,0),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},r.prototype.writeUInt16LE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):_(this,t,e,!0),e+2},r.prototype.writeUInt16BE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):_(this,t,e,!1),e+2},r.prototype.writeUInt32LE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):b(this,t,e,!0),e+4},r.prototype.writeUInt32BE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):b(this,t,e,!1),e+4},r.prototype.writeInt8=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,1,127,-128),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=t,e+1},r.prototype.writeInt16LE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):_(this,t,e,!0),e+2},r.prototype.writeInt16BE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):_(this,t,e,!1),e+2},r.prototype.writeInt32LE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):b(this,t,e,!0),e+4},r.prototype.writeInt32BE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):b(this,t,e,!1),e+4},r.prototype.writeFloatLE=function(t,e,a){return y(this,t,e,!0,a)},r.prototype.writeFloatBE=function(t,e,a){return y(this,t,e,!1,a)},r.prototype.writeDoubleLE=function(t,e,a){return w(this,t,e,!0,a)},r.prototype.writeDoubleBE=function(t,e,a){return w(this,t,e,!1,a)},r.prototype.copy=function(t,e,a,i){if(a||(a=0),i||0===i||(i=this.length),e||(e=0),i!==a&&0!==t.length&&0!==this.length){if(i<a)throw new TypeError("sourceEnd < sourceStart");if(e<0||e>=t.length)throw new TypeError("targetStart out of bounds");if(a<0||a>=this.length)throw new TypeError("sourceStart out of bounds");if(i<0||i>this.length)throw new TypeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-a&&(i=t.length-e+a);var n=i-a;if(n<1e3||!r.TYPED_ARRAY_SUPPORT)for(var s=0;s<n;s++)t[s+e]=this[s+a];else t._set(this.subarray(a,a+n),e)}},r.prototype.fill=function(t,e,a){if(t||(t=0),e||(e=0),a||(a=this.length),a<e)throw new TypeError("end < start");if(a!==e&&0!==this.length){if(e<0||e>=this.length)throw new TypeError("start out of bounds");if(a<0||a>this.length)throw new TypeError("end out of bounds");var i;if("number"==typeof t)for(i=e;i<a;i++)this[i]=t;else{var n=S(t.toString()),s=n.length;for(i=e;i<a;i++)this[i]=n[i%s]}return this}},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r.TYPED_ARRAY_SUPPORT)return new r(this).buffer;for(var t=new Uint8Array(this.length),e=0,a=t.length;e<a;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var k=r.prototype;r._augment=function(t){return t.constructor=r,t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=k.get,t.set=k.set,t.write=k.write,t.toString=k.toString,t.toLocaleString=k.toString,t.toJSON=k.toJSON,t.equals=k.equals,t.compare=k.compare,t.copy=k.copy,t.slice=k.slice,t.readUInt8=k.readUInt8,t.readUInt16LE=k.readUInt16LE,t.readUInt16BE=k.readUInt16BE,t.readUInt32LE=k.readUInt32LE,t.readUInt32BE=k.readUInt32BE,t.readInt8=k.readInt8,t.readInt16LE=k.readInt16LE,t.readInt16BE=k.readInt16BE,t.readInt32LE=k.readInt32LE,t.readInt32BE=k.readInt32BE,t.readFloatLE=k.readFloatLE,t.readFloatBE=k.readFloatBE,t.readDoubleLE=k.readDoubleLE,t.readDoubleBE=k.readDoubleBE,t.writeUInt8=k.writeUInt8,t.writeUInt16LE=k.writeUInt16LE,t.writeUInt16BE=k.writeUInt16BE,t.writeUInt32LE=k.writeUInt32LE,t.writeUInt32BE=k.writeUInt32BE,t.writeInt8=k.writeInt8,t.writeInt16LE=k.writeInt16LE,t.writeInt16BE=k.writeInt16BE,t.writeInt32LE=k.writeInt32LE,t.writeInt32BE=k.writeInt32BE,t.writeFloatLE=k.writeFloatLE,t.writeFloatBE=k.writeFloatBE,t.writeDoubleLE=k.writeDoubleLE,t.writeDoubleBE=k.writeDoubleBE,t.fill=k.fill,t.inspect=k.inspect,t.toArrayBuffer=k.toArrayBuffer,t};var C=/[^+\/0-9A-z]/g;function $(t){return t<16?"0"+t.toString(16):t.toString(16)}function S(t){for(var e=[],a=0;a<t.length;a++){var i=t.charCodeAt(a);if(i<=127)e.push(i);else{var n=a;i>=55296&&i<=57343&&a++;for(var s=encodeURIComponent(t.slice(n,a+1)).substr(1).split("%"),o=0;o<s.length;o++)e.push(parseInt(s[o],16))}}return e}function z(t){return i.toByteArray(t)}function F(t,e,a,i,n){n&&(i-=i%n);for(var s=0;s<i&&!(s+a>=e.length||s>=t.length);s++)e[s+a]=t[s];return s}function A(t){try{return decodeURIComponent(t)}catch(t){return String.fromCharCode(65533)}}},{"base64-js":2,ieee754:3,"is-array":4}],2:[function(t,e,a){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){var e="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),n="/".charCodeAt(0),s="0".charCodeAt(0),o="a".charCodeAt(0),l="A".charCodeAt(0);function r(t){var e=t.charCodeAt(0);return e===a?62:e===n?63:e<s?-1:e<s+10?e-s+26+26:e<l+26?e-l:e<o+26?e-o+26:void 0}t.toByteArray=function(t){var a,i,n,s,o,l;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;o="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,l=new e(3*t.length/4-o),n=o>0?t.length-4:t.length;var d=0;function u(t){l[d++]=t}for(a=0,i=0;a<n;a+=4,i+=3)u((16711680&(s=r(t.charAt(a))<<18|r(t.charAt(a+1))<<12|r(t.charAt(a+2))<<6|r(t.charAt(a+3))))>>16),u((65280&s)>>8),u(255&s);return 2===o?u(255&(s=r(t.charAt(a))<<2|r(t.charAt(a+1))>>4)):1===o&&(u((s=r(t.charAt(a))<<10|r(t.charAt(a+1))<<4|r(t.charAt(a+2))>>2)>>8&255),u(255&s)),l},t.fromByteArray=function(t){var e,a,n,s,o=t.length%3,l="";function r(t){return i.charAt(t)}for(e=0,n=t.length-o;e<n;e+=3)l+=r((s=a=(t[e]<<16)+(t[e+1]<<8)+t[e+2])>>18&63)+r(s>>12&63)+r(s>>6&63)+r(63&s);switch(o){case 1:l+=r((a=t[t.length-1])>>2),l+=r(a<<4&63),l+="==";break;case 2:l+=r((a=(t[t.length-2]<<8)+t[t.length-1])>>10),l+=r(a>>4&63),l+=r(a<<2&63),l+="="}return l}}(void 0===a?this.base64js={}:a)},{}],3:[function(t,e,a){a.read=function(t,e,a,i,n){var s,o,l=8*n-i-1,r=(1<<l)-1,c=r>>1,d=-7,u=a?n-1:0,m=a?-1:1,p=t[e+u];for(u+=m,s=p&(1<<-d)-1,p>>=-d,d+=l;d>0;s=256*s+t[e+u],u+=m,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=i;d>0;o=256*o+t[e+u],u+=m,d-=8);if(0===s)s=1-c;else{if(s===r)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),s-=c}return(p?-1:1)*o*Math.pow(2,s-i)},a.write=function(t,e,a,i,n,s){var o,l,r,c=8*s-n-1,d=(1<<c)-1,u=d>>1,m=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:s-1,h=i?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(r=Math.pow(2,-o))<1&&(o--,r*=2),(e+=o+u>=1?m/r:m*Math.pow(2,1-u))*r>=2&&(o++,r/=2),o+u>=d?(l=0,o=d):o+u>=1?(l=(e*r-1)*Math.pow(2,n),o+=u):(l=e*Math.pow(2,u-1)*Math.pow(2,n),o=0));n>=8;t[a+p]=255&l,p+=h,l/=256,n-=8);for(o=o<<n|l,c+=n;c>0;t[a+p]=255&o,p+=h,o/=256,c-=8);t[a+p-h]|=128*f}},{}],4:[function(t,e,a){var i=Array.isArray,n=Object.prototype.toString;e.exports=i||function(t){return!!t&&"[object Array]"==n.call(t)}},{}],5:[function(t,e,a){var i=t("./dataReader");function n(t){if(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0;for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}}n.prototype=new i,n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),a=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===e&&this.data[s+1]===a&&this.data[s+2]===i&&this.data[s+3]===n)return s-this.zero;return-1},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"./dataReader":10}],6:[function(t,e,a){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(t,e){for(var a,n,s,o,l,r,c,d="",u=0;u<t.length;)o=(a=t.charCodeAt(u++))>>2,l=(3&a)<<4|(n=t.charCodeAt(u++))>>4,r=(15&n)<<2|(s=t.charCodeAt(u++))>>6,c=63&s,isNaN(n)?r=c=64:isNaN(s)&&(c=64),d=d+i.charAt(o)+i.charAt(l)+i.charAt(r)+i.charAt(c);return d},a.decode=function(t,e){var a,n,s,o,l,r,c="",d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)a=i.indexOf(t.charAt(d++))<<2|(o=i.indexOf(t.charAt(d++)))>>4,n=(15&o)<<4|(l=i.indexOf(t.charAt(d++)))>>2,s=(3&l)<<6|(r=i.indexOf(t.charAt(d++))),c+=String.fromCharCode(a),64!=l&&(c+=String.fromCharCode(n)),64!=r&&(c+=String.fromCharCode(s));return c}},{}],7:[function(t,e,a){function i(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}i.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=i},{}],8:[function(t,e,a){a.STORE={magic:"\0\0",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},a.DEFLATE=t("./flate")},{"./flate":13}],9:[function(t,e,a){var i=t("./utils"),n=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if(void 0===t||!t.length)return 0;var a="string"!==i.getTypeOf(t);void 0===e&&(e=0);var s=0;e^=-1;for(var o=0,l=t.length;o<l;o++)s=a?t[o]:t.charCodeAt(o),e=e>>>8^n[255&(e^s)];return-1^e}},{"./utils":26}],10:[function(t,e,a){var i=t("./utils");function n(t){this.data=null,this.length=0,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,a=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)a=(a<<8)+this.byteAt(e);return this.index+=t,a},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=n},{"./utils":26}],11:[function(t,e,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!1,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],12:[function(t,e,a){var i=t("./utils");a.string2binary=function(t){return i.string2binary(t)},a.string2Uint8Array=function(t){return i.transformTo("uint8array",t)},a.uint8Array2String=function(t){return i.transformTo("string",t)},a.string2Blob=function(t){var e=i.transformTo("arraybuffer",t);return i.arrayBuffer2Blob(e)},a.arrayBuffer2Blob=function(t){return i.arrayBuffer2Blob(t)},a.transformTo=function(t,e){return i.transformTo(t,e)},a.getTypeOf=function(t){return i.getTypeOf(t)},a.checkSupport=function(t){return i.checkSupport(t)},a.MAX_VALUE_16BITS=i.MAX_VALUE_16BITS,a.MAX_VALUE_32BITS=i.MAX_VALUE_32BITS,a.pretty=function(t){return i.pretty(t)},a.findCompression=function(t){return i.findCompression(t)},a.isRegExp=function(t){return i.isRegExp(t)}},{"./utils":26}],13:[function(t,e,a){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=t("pako");a.uncompressInputType=i?"uint8array":"array",a.compressInputType=i?"uint8array":"array",a.magic="\b\0",a.compress=function(t,e){return n.deflateRaw(t,{level:e.level||-1})},a.uncompress=function(t){return n.inflateRaw(t)}},{pako:29}],14:[function(t,e,a){var i=t("./base64");function n(t,e){if(!(this instanceof n))return new n(t,e);this.files={},this.comment=null,this.root="",t&&this.load(t,e),this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}n.prototype=t("./object"),n.prototype.load=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.utils=t("./deprecatedPublicUtils"),n.base64={encode:function(t){return i.encode(t)},decode:function(t){return i.decode(t)}},n.compressions=t("./compressions"),e.exports=n},{"./base64":6,"./compressions":8,"./defaults":11,"./deprecatedPublicUtils":12,"./load":15,"./object":18,"./support":22}],15:[function(t,e,a){var i=t("./base64"),n=t("./utf8"),s=t("./utils"),o=t("./zipEntries");e.exports=function(t,e){var a,l,r,c;for((e=s.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode})).base64&&(t=i.decode(t)),a=(l=new o(t,e)).files,r=0;r<a.length;r++)c=a[r],this.file(c.fileNameStr,c.decompressed,{binary:!0,optimizedBinaryString:!0,date:c.date,dir:c.dir,comment:c.fileCommentStr.length?c.fileCommentStr:null,unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions,createFolders:e.createFolders});return l.zipComment.length&&(this.comment=l.zipComment),this}},{"./base64":6,"./utf8":25,"./utils":26,"./zipEntries":27}],16:[function(t,e,a){(function(t){e.exports=function(e,a){return new t(e,a)},e.exports.test=function(e){return t.isBuffer(e)}}).call(this,t("buffer").Buffer)},{buffer:1}],17:[function(t,e,a){var i=t("./uint8ArrayReader");function n(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0}n.prototype=new i,n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"./uint8ArrayReader":23}],18:[function(t,e,a){var i=t("./support"),n=t("./utils"),s=t("./crc32"),o=t("./signature"),l=t("./defaults"),r=t("./base64"),c=t("./compressions"),d=t("./compressedObject"),u=t("./nodeBuffer"),m=t("./utf8"),p=t("./stringWriter"),h=t("./uint8ArrayWriter"),f=function(t){if(t._data instanceof d&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===n.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},g=function(t){var e=f(t);return"string"===n.getTypeOf(e)?!t.options.binary&&i.nodebuffer?u(e,"utf-8"):t.asBinary():e},v=function(t){var e=f(this);return null==e?"":(this.options.base64&&(e=r.decode(e)),e=t&&this.options.binary?S.utf8decode(e):n.transformTo("string",e),t||this.options.binary||(e=n.transformTo("string",S.utf8encode(e))),e)},_=function(t,e,a){this.name=t,this.dir=a.dir,this.date=a.date,this.comment=a.comment,this.unixPermissions=a.unixPermissions,this.dosPermissions=a.dosPermissions,this._data=e,this.options=a,this._initialMetadata={dir:a.dir,date:a.date}};_.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var t=g(this);return n.transformTo("nodebuffer",t)},asUint8Array:function(){var t=g(this);return n.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var a,i="";for(a=0;a<e;a++)i+=String.fromCharCode(255&t),t>>>=8;return i},x=function(t,e,a){var i,s=n.getTypeOf(e);if("string"==typeof(a=function(t){return!0!==(t=t||{}).base64||null!==t.binary&&void 0!==t.binary||(t.binary=!0),(t=n.extend(t,l)).date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t}(a)).unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=w(t)),a.createFolders&&(i=y(t))&&k.call(this,i,!0),a.dir||null==e)a.base64=!1,a.binary=!1,e=null,s=null;else if("string"===s)a.binary&&!a.base64&&!0!==a.optimizedBinaryString&&(e=n.string2binary(e));else{if(a.base64=!1,a.binary=!0,!(s||e instanceof d))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===s&&(e=n.transformTo("uint8array",e))}var o=new _(t,e,a);return this.files[t]=o,o},y=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},w=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},k=function(t,e){return e=void 0!==e&&e,t=w(t),this.files[t]||x.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},C=function(t,e,a){var i,o=new d;return t._data instanceof d?(o.uncompressedSize=t._data.uncompressedSize,o.crc32=t._data.crc32,0===o.uncompressedSize||t.dir?(e=c.STORE,o.compressedContent="",o.crc32=0):t._data.compressionMethod===e.magic?o.compressedContent=t._data.getCompressedContent():(i=t._data.getContent(),o.compressedContent=e.compress(n.transformTo(e.compressInputType,i),a))):((i=g(t))&&0!==i.length&&!t.dir||(e=c.STORE,i=""),o.uncompressedSize=i.length,o.crc32=s(i),o.compressedContent=e.compress(n.transformTo(e.compressInputType,i),a)),o.compressedSize=o.compressedContent.length,o.compressionMethod=e.magic,o},$=function(t,e,a,i,l,r){a.compressedContent;var c,d,u,p,h=r!==m.utf8encode,f=n.transformTo("string",r(e.name)),g=n.transformTo("string",m.utf8encode(e.name)),v=e.comment||"",_=n.transformTo("string",r(v)),x=n.transformTo("string",m.utf8encode(v)),y=g.length!==e.name.length,w=x.length!==v.length,k=e.options,C="",$="",S="";u=e._initialMetadata.dir!==e.dir?e.dir:k.dir,p=e._initialMetadata.date!==e.date?e.date:k.date;var z,F,A=0,D=0;u&&(A|=16),"UNIX"===l?(D=798,A|=(F=z=e.unixPermissions,z||(F=u?16893:33204),(65535&F)<<16)):(D=20,A|=63&(e.dosPermissions||0)),c=p.getHours(),c<<=6,c|=p.getMinutes(),c<<=5,c|=p.getSeconds()/2,d=p.getFullYear()-1980,d<<=4,d|=p.getMonth()+1,d<<=5,d|=p.getDate(),y&&($=b(1,1)+b(s(f),4)+g,C+="up"+b($.length,2)+$),w&&(S=b(1,1)+b(this.crc32(_),4)+x,C+="uc"+b(S.length,2)+S);var V="";return V+="\n\0",V+=h||!y&&!w?"\0\0":"\0\b",V+=a.compressionMethod,V+=b(c,2),V+=b(d,2),V+=b(a.crc32,4),V+=b(a.compressedSize,4),V+=b(a.uncompressedSize,4),V+=b(f.length,2),V+=b(C.length,2),{fileRecord:o.LOCAL_FILE_HEADER+V+f+C,dirRecord:o.CENTRAL_FILE_HEADER+b(D,2)+V+b(_.length,2)+"\0\0\0\0"+b(A,4)+b(i,4)+f+C+_,compressedObject:a}},S={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,a,i,s,o=[];for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],s=new _(i.name,i._data,n.extend(i.options)),a=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(a,s)&&o.push(s));return o},file:function(t,e,a){if(1===arguments.length){if(n.isRegExp(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}return this.filter(function(e,a){return!a.dir&&e===t})[0]||null}return t=this.root+t,x.call(this,t,e,a),this},folder:function(t){if(!t)return this;if(n.isRegExp(t))return this.filter(function(e,a){return a.dir&&t.test(e)});var e=this.root+t,a=k.call(this,e),i=this.clone();return i.root=a.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var a=this.filter(function(e,a){return a.name.slice(0,t.length)===t}),i=0;i<a.length;i++)delete this.files[a[i].name];return this},generate:function(t){t=n.extend(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode}),n.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,a,i,s=[],l=0,d=0,u=n.transformTo("string",t.encodeFileName(t.comment||this.comment||""));for(var f in this.files)if(this.files.hasOwnProperty(f)){var g=this.files[f],v=g.options.compression||t.compression.toUpperCase(),_=c[v];if(!_)throw new Error(v+" is not a valid compression method !");var x=g.options.compressionOptions||t.compressionOptions||{},y=C.call(this,g,_,x),w=$.call(this,f,g,y,l,t.platform,t.encodeFileName);l+=w.fileRecord.length+y.compressedSize,d+=w.dirRecord.length,s.push(w)}i=o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(s.length,2)+b(s.length,2)+b(d,4)+b(l,4)+b(u.length,2)+u;var k=t.type.toLowerCase();for(e="uint8array"===k||"arraybuffer"===k||"blob"===k||"nodebuffer"===k?new h(l+d+i.length):new p(l+d+i.length),a=0;a<s.length;a++)e.append(s[a].fileRecord),e.append(s[a].compressedObject.compressedContent);for(a=0;a<s.length;a++)e.append(s[a].dirRecord);e.append(i);var S=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return n.transformTo(t.type.toLowerCase(),S);case"blob":return n.arrayBuffer2Blob(n.transformTo("arraybuffer",S),t.mimeType);case"base64":return t.base64?r.encode(S):S;default:return S}},crc32:function(t,e){return s(t,e)},utf8encode:function(t){return n.transformTo("string",m.utf8encode(t))},utf8decode:function(t){return m.utf8decode(t)}};e.exports=S},{"./base64":6,"./compressedObject":7,"./compressions":8,"./crc32":9,"./defaults":11,"./nodeBuffer":16,"./signature":19,"./stringWriter":21,"./support":22,"./uint8ArrayWriter":24,"./utf8":25,"./utils":26}],19:[function(t,e,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\b"},{}],20:[function(t,e,a){var i=t("./dataReader"),n=t("./utils");function s(t,e){this.data=t,e||(this.data=n.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}s.prototype=new i,s.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},s.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},s.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=s},{"./dataReader":10,"./utils":26}],21:[function(t,e,a){var i=t("./utils"),n=function(){this.data=[]};n.prototype={append:function(t){t=i.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=n},{"./utils":26}],22:[function(t,e,a){(function(t){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,a.nodebuffer=void 0!==t,a.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)a.blob=!1;else{var e=new ArrayBuffer(0);try{a.blob=0===new Blob([e],{type:"application/zip"}).size}catch(t){try{var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);i.append(e),a.blob=0===i.getBlob("application/zip").size}catch(t){a.blob=!1}}}}).call(this,t("buffer").Buffer)},{buffer:1}],23:[function(t,e,a){var i=t("./arrayReader");function n(t){t&&(this.data=t,this.length=this.data.length,this.index=0,this.zero=0)}n.prototype=new i,n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"./arrayReader":5}],24:[function(t,e,a){var i=t("./utils"),n=function(t){this.data=new Uint8Array(t),this.index=0};n.prototype={append:function(t){0!==t.length&&(t=i.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=n},{"./utils":26}],25:[function(t,e,a){for(var i=t("./utils"),n=t("./support"),s=t("./nodeBuffer"),o=new Array(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;o[254]=o[254]=1;var r=function(t,e){var a;for((e=e||t.length)>t.length&&(e=t.length),a=e-1;a>=0&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+o[t[a]]>e?a:e},c=function(t){var e,a,n,s,l=t.length,r=new Array(2*l);for(a=0,e=0;e<l;)if((n=t[e++])<128)r[a++]=n;else if((s=o[n])>4)r[a++]=65533,e+=s-1;else{for(n&=2===s?31:3===s?15:7;s>1&&e<l;)n=n<<6|63&t[e++],s--;s>1?r[a++]=65533:n<65536?r[a++]=n:(n-=65536,r[a++]=55296|n>>10&1023,r[a++]=56320|1023&n)}return r.length!==a&&(r.subarray?r=r.subarray(0,a):r.length=a),i.applyFromCharCode(r)};a.utf8encode=function(t){return n.nodebuffer?s(t,"utf-8"):function(t){var e,a,i,s,o,l=t.length,r=0;for(s=0;s<l;s++)55296==(64512&(a=t.charCodeAt(s)))&&s+1<l&&56320==(64512&(i=t.charCodeAt(s+1)))&&(a=65536+(a-55296<<10)+(i-56320),s++),r+=a<128?1:a<2048?2:a<65536?3:4;for(e=n.uint8array?new Uint8Array(r):new Array(r),o=0,s=0;o<r;s++)55296==(64512&(a=t.charCodeAt(s)))&&s+1<l&&56320==(64512&(i=t.charCodeAt(s+1)))&&(a=65536+(a-55296<<10)+(i-56320),s++),a<128?e[o++]=a:a<2048?(e[o++]=192|a>>>6,e[o++]=128|63&a):a<65536?(e[o++]=224|a>>>12,e[o++]=128|a>>>6&63,e[o++]=128|63&a):(e[o++]=240|a>>>18,e[o++]=128|a>>>12&63,e[o++]=128|a>>>6&63,e[o++]=128|63&a);return e}(t)},a.utf8decode=function(t){if(n.nodebuffer)return i.transformTo("nodebuffer",t).toString("utf-8");for(var e=[],a=0,s=(t=i.transformTo(n.uint8array?"uint8array":"array",t)).length;a<s;){var o=r(t,Math.min(a+65536,s));n.uint8array?e.push(c(t.subarray(a,o))):e.push(c(t.slice(a,o))),a=o}return e.join("")}},{"./nodeBuffer":16,"./support":22,"./utils":26}],26:[function(t,e,a){var i=t("./support"),n=t("./compressions"),s=t("./nodeBuffer");function o(t){return t}function l(t,e){for(var a=0;a<t.length;++a)e[a]=255&t.charCodeAt(a);return e}function r(t){var e=65536,i=[],n=t.length,o=a.getTypeOf(t),l=0,r=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,s(0))}}catch(t){r=!1}if(!r){for(var c="",d=0;d<t.length;d++)c+=String.fromCharCode(t[d]);return c}for(;l<n&&e>1;)try{"array"===o||"nodebuffer"===o?i.push(String.fromCharCode.apply(null,t.slice(l,Math.min(l+e,n)))):i.push(String.fromCharCode.apply(null,t.subarray(l,Math.min(l+e,n)))),l+=e}catch(t){e=Math.floor(e/2)}return i.join("")}function c(t,e){for(var a=0;a<t.length;a++)e[a]=t[a];return e}a.string2binary=function(t){for(var e="",a=0;a<t.length;a++)e+=String.fromCharCode(255&t.charCodeAt(a));return e},a.arrayBuffer2Blob=function(t,e){a.checkSupport("blob"),e=e||"application/zip";try{return new Blob([t],{type:e})}catch(a){try{var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return i.append(t),i.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}},a.applyFromCharCode=r;var d={};d.string={string:o,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return d.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,s(t.length))}},d.array={string:r,array:o,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s(t)}},d.arraybuffer={string:function(t){return r(new Uint8Array(t))},array:function(t){return c(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:o,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s(new Uint8Array(t))}},d.uint8array={string:r,array:function(t){return c(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:o,nodebuffer:function(t){return s(t)}},d.nodebuffer={string:r,array:function(t){return c(t,new Array(t.length))},arraybuffer:function(t){return d.nodebuffer.uint8array(t).buffer},uint8array:function(t){return c(t,new Uint8Array(t.length))},nodebuffer:o},a.transformTo=function(t,e){if(e||(e=""),!t)return e;a.checkSupport(t);var i=a.getTypeOf(e);return d[i][t](e)},a.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":i.nodebuffer&&s.test(t)?"nodebuffer":i.uint8array&&t instanceof Uint8Array?"uint8array":i.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(t){if(!i[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(t){var e,a,i="";for(a=0;a<(t||"").length;a++)i+="\\x"+((e=t.charCodeAt(a))<16?"0":"")+e.toString(16).toUpperCase();return i},a.findCompression=function(t){for(var e in n)if(n.hasOwnProperty(e)&&n[e].magic===t)return n[e];return null},a.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},a.extend=function(){var t,e,a={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===a[e]&&(a[e]=arguments[t][e]);return a}},{"./compressions":8,"./nodeBuffer":16,"./support":22}],27:[function(t,e,a){var i=t("./stringReader"),n=t("./nodeBufferReader"),s=t("./uint8ArrayReader"),o=t("./arrayReader"),l=t("./utils"),r=t("./signature"),c=t("./zipEntry"),d=t("./support");function u(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}t("./object"),u.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+l.pretty(e)+", expected "+l.pretty(t)+")")},isSignature:function(t,e){var a=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(a),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=d.uint8array?"uint8array":"array",a=l.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(a)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,a,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),a=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:a}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===r.CENTRAL_FILE_HEADER;)(t=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip : can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var a=this.centralDirOffset+this.centralDirSize;this.zip64&&(a+=20,a+=12+this.zip64EndOfCentralSize);var i=e-a;if(i>0)this.isSignature(e,r.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){var e=l.getTypeOf(t);if(l.checkSupport(e),"string"!==e||d.uint8array)if("nodebuffer"===e)this.reader=new n(t);else if(d.uint8array)this.reader=new s(l.transformTo("uint8array",t));else{if(!d.array)throw new Error("Unexpected error: unsupported type '"+e+"'");this.reader=new o(l.transformTo("array",t))}else this.reader=new i(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=u},{"./arrayReader":5,"./nodeBufferReader":17,"./object":18,"./signature":19,"./stringReader":20,"./support":22,"./uint8ArrayReader":23,"./utils":26,"./zipEntry":28}],28:[function(t,e,a){var i=t("./stringReader"),n=t("./utils"),s=t("./compressedObject"),o=t("./object"),l=t("./support");function r(t,e){this.options=t,this.loadOptions=e}r.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,a){return function(){var i=t.index;t.setIndex(e);var n=t.readData(a);return t.setIndex(i),n}},prepareContent:function(t,e,a,i,s){return function(){var t=n.transformTo(i.uncompressInputType,this.getCompressedContent()),e=i.uncompress(t);if(e.length!==s)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,a;if(t.skip(22),this.fileNameLength=t.readInt(2),a=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(a),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=n.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");if(this.decompressed=new s,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=n.transformTo("string",this.decompressed.getContent()),o.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readData(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new i(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,a,i,n=t.index;for(this.extraFields=this.extraFields||{};t.index<n+this.extraFieldsLength;)e=t.readInt(2),a=t.readInt(2),i=t.readString(a),this.extraFields[e]={id:e,length:a,value:i}},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var a=n.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(a)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var s=n.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null}},e.exports=r},{"./compressedObject":7,"./object":18,"./stringReader":20,"./support":22,"./utils":26}],29:[function(t,e,a){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":30,"./lib/inflate":31,"./lib/utils/common":32,"./lib/zlib/constants":35}],30:[function(t,e,a){var i=t("./zlib/deflate"),n=t("./utils/common"),s=t("./utils/strings"),o=t("./zlib/messages"),l=t("./zlib/zstream"),r=Object.prototype.toString,c=0,d=-1,u=0,m=8;function p(t){if(!(this instanceof p))return new p(t);this.options=n.assign({level:d,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var a=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==c)throw new Error(o[a]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var h;if(h="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===r.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=i.deflateSetDictionary(this.strm,h))!==c)throw new Error(o[a]);this._dict_set=!0}}function h(t,e){var a=new p(e);if(a.push(t,!0),a.err)throw a.msg;return a.result}p.prototype.push=function(t,e){var a,o,l=this.strm,d=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?l.input=s.string2buf(t):"[object ArrayBuffer]"===r.call(t)?l.input=new Uint8Array(t):l.input=t,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new n.Buf8(d),l.next_out=0,l.avail_out=d),1!==(a=i.deflate(l,o))&&a!==c)return this.onEnd(a),this.ended=!0,!1;0!==l.avail_out&&(0!==l.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(s.buf2binstring(n.shrinkBuf(l.output,l.next_out))):this.onData(n.shrinkBuf(l.output,l.next_out)))}while((l.avail_in>0||0===l.avail_out)&&1!==a);return 4===o?(a=i.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===c):2!==o||(this.onEnd(c),l.avail_out=0,!0)},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=p,a.deflate=h,a.deflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},a.gzip=function(t,e){return(e=e||{}).gzip=!0,h(t,e)}},{"./utils/common":32,"./utils/strings":33,"./zlib/deflate":37,"./zlib/messages":42,"./zlib/zstream":44}],31:[function(t,e,a){var i=t("./zlib/inflate"),n=t("./utils/common"),s=t("./utils/strings"),o=t("./zlib/constants"),l=t("./zlib/messages"),r=t("./zlib/zstream"),c=t("./zlib/gzheader"),d=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var a=i.inflateInit2(this.strm,e.windowBits);if(a!==o.Z_OK)throw new Error(l[a]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function m(t,e){var a=new u(e);if(a.push(t,!0),a.err)throw a.msg;return a.result}u.prototype.push=function(t,e){var a,l,r,c,u,m,p=this.strm,h=this.options.chunkSize,f=this.options.dictionary,g=!1;if(this.ended)return!1;l=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?p.input=s.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new n.Buf8(h),p.next_out=0,p.avail_out=h),(a=i.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&f&&(m="string"==typeof f?s.string2buf(f):"[object ArrayBuffer]"===d.call(f)?new Uint8Array(f):f,a=i.inflateSetDictionary(this.strm,m)),a===o.Z_BUF_ERROR&&!0===g&&(a=o.Z_OK,g=!1),a!==o.Z_STREAM_END&&a!==o.Z_OK)return this.onEnd(a),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&a!==o.Z_STREAM_END&&(0!==p.avail_in||l!==o.Z_FINISH&&l!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(r=s.utf8border(p.output,p.next_out),c=p.next_out-r,u=s.buf2string(p.output,r),p.next_out=c,p.avail_out=h-c,c&&n.arraySet(p.output,p.output,r,c,0),this.onData(u)):this.onData(n.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((p.avail_in>0||0===p.avail_out)&&a!==o.Z_STREAM_END);return a===o.Z_STREAM_END&&(l=o.Z_FINISH),l===o.Z_FINISH?(a=i.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===o.Z_OK):l!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),p.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Inflate=u,a.inflate=m,a.inflateRaw=function(t,e){return(e=e||{}).raw=!0,m(t,e)},a.ungzip=m},{"./utils/common":32,"./utils/strings":33,"./zlib/constants":35,"./zlib/gzheader":38,"./zlib/inflate":40,"./zlib/messages":42,"./zlib/zstream":44}],32:[function(t,e,a){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var a=e.shift();if(a){if("object"!=(void 0===a?"undefined":s()(a)))throw new TypeError(a+"must be non-object");for(var i in a)a.hasOwnProperty(i)&&(t[i]=a[i])}}return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,a,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(a,a+i),n);else for(var s=0;s<i;s++)t[n+s]=e[a+s]},flattenChunks:function(t){var e,a,i,n,s,o;for(i=0,e=0,a=t.length;e<a;e++)i+=t[e].length;for(o=new Uint8Array(i),n=0,e=0,a=t.length;e<a;e++)s=t[e],o.set(s,n),n+=s.length;return o}},o={arraySet:function(t,e,a,i,n){for(var s=0;s<i;s++)t[n+s]=e[a+s]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,n)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,o))},a.setTyped(i)},{}],33:[function(t,e,a){var i=t("./common"),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var o=new i.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function r(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var a="",o=0;o<e;o++)a+=String.fromCharCode(t[o]);return a}o[254]=o[254]=1,a.string2buf=function(t){var e,a,n,s,o,l=t.length,r=0;for(s=0;s<l;s++)55296==(64512&(a=t.charCodeAt(s)))&&s+1<l&&56320==(64512&(n=t.charCodeAt(s+1)))&&(a=65536+(a-55296<<10)+(n-56320),s++),r+=a<128?1:a<2048?2:a<65536?3:4;for(e=new i.Buf8(r),o=0,s=0;o<r;s++)55296==(64512&(a=t.charCodeAt(s)))&&s+1<l&&56320==(64512&(n=t.charCodeAt(s+1)))&&(a=65536+(a-55296<<10)+(n-56320),s++),a<128?e[o++]=a:a<2048?(e[o++]=192|a>>>6,e[o++]=128|63&a):a<65536?(e[o++]=224|a>>>12,e[o++]=128|a>>>6&63,e[o++]=128|63&a):(e[o++]=240|a>>>18,e[o++]=128|a>>>12&63,e[o++]=128|a>>>6&63,e[o++]=128|63&a);return e},a.buf2binstring=function(t){return r(t,t.length)},a.binstring2buf=function(t){for(var e=new i.Buf8(t.length),a=0,n=e.length;a<n;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,i,n,s,l=e||t.length,c=new Array(2*l);for(i=0,a=0;a<l;)if((n=t[a++])<128)c[i++]=n;else if((s=o[n])>4)c[i++]=65533,a+=s-1;else{for(n&=2===s?31:3===s?15:7;s>1&&a<l;)n=n<<6|63&t[a++],s--;s>1?c[i++]=65533:n<65536?c[i++]=n:(n-=65536,c[i++]=55296|n>>10&1023,c[i++]=56320|1023&n)}return r(c,i)},a.utf8border=function(t,e){var a;for((e=e||t.length)>t.length&&(e=t.length),a=e-1;a>=0&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+o[t[a]]>e?a:e}},{"./common":32}],34:[function(t,e,a){e.exports=function(t,e,a,i){for(var n=65535&t|0,s=t>>>16&65535|0,o=0;0!==a;){a-=o=a>2e3?2e3:a;do{s=s+(n=n+e[i++]|0)|0}while(--o);n%=65521,s%=65521}return n|s<<16|0}},{}],35:[function(t,e,a){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],36:[function(t,e,a){var i=function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}();e.exports=function(t,e,a,n){var s=i,o=n+a;t^=-1;for(var l=n;l<o;l++)t=t>>>8^s[255&(t^e[l])];return-1^t}},{}],37:[function(t,e,a){var i,n=t("../utils/common"),s=t("./trees"),o=t("./adler32"),l=t("./crc32"),r=t("./messages"),c=0,d=4,u=0,m=-2,p=-1,h=1,f=4,g=2,v=8,_=9,b=286,x=30,y=19,w=2*b+1,k=15,C=3,$=258,S=$+C+1,z=42,F=103,A=113,D=666,V=1,E=2,L=3,T=4;function j(t,e){return t.msg=r[e],e}function I(t){return(t<<1)-(t>4?9:0)}function R(t){for(var e=t.length;--e>=0;)t[e]=0}function P(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(n.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function N(t,e){s._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,P(t.strm)}function W(t,e){t.pending_buf[t.pending++]=e}function U(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function B(t,e){var a,i,n=t.max_chain_length,s=t.strstart,o=t.prev_length,l=t.nice_match,r=t.strstart>t.w_size-S?t.strstart-(t.w_size-S):0,c=t.window,d=t.w_mask,u=t.prev,m=t.strstart+$,p=c[s+o-1],h=c[s+o];t.prev_length>=t.good_match&&(n>>=2),l>t.lookahead&&(l=t.lookahead);do{if(c[(a=e)+o]===h&&c[a+o-1]===p&&c[a]===c[s]&&c[++a]===c[s+1]){s+=2,a++;do{}while(c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&s<m);if(i=$-(m-s),s=m-$,i>o){if(t.match_start=e,o=i,i>=l)break;p=c[s+o-1],h=c[s+o]}}}while((e=u[e&d])>r&&0!=--n);return o<=t.lookahead?o:t.lookahead}function O(t){var e,a,i,s,r,c,d,u,m,p,h=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-S)){n.arraySet(t.window,t.window,h,h,0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=a=t.hash_size;do{i=t.head[--e],t.head[e]=i>=h?i-h:0}while(--a);e=a=h;do{i=t.prev[--e],t.prev[e]=i>=h?i-h:0}while(--a);s+=h}if(0===t.strm.avail_in)break;if(c=t.strm,d=t.window,u=t.strstart+t.lookahead,m=s,p=void 0,(p=c.avail_in)>m&&(p=m),a=0===p?0:(c.avail_in-=p,n.arraySet(d,c.input,c.next_in,p,u),1===c.state.wrap?c.adler=o(c.adler,d,p,u):2===c.state.wrap&&(c.adler=l(c.adler,d,p,u)),c.next_in+=p,c.total_in+=p,p),t.lookahead+=a,t.lookahead+t.insert>=C)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+C-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<C)););}while(t.lookahead<S&&0!==t.strm.avail_in)}function M(t,e){for(var a,i;;){if(t.lookahead<S){if(O(t),t.lookahead<S&&e===c)return V;if(0===t.lookahead)break}if(a=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-S&&(t.match_length=B(t,a)),t.match_length>=C)if(i=s._tr_tally(t,t.strstart-t.match_start,t.match_length-C),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=C){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(N(t,!1),0===t.strm.avail_out))return V}return t.insert=t.strstart<C-1?t.strstart:C-1,e===d?(N(t,!0),0===t.strm.avail_out?L:T):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?V:E}function q(t,e){for(var a,i,n;;){if(t.lookahead<S){if(O(t),t.lookahead<S&&e===c)return V;if(0===t.lookahead)break}if(a=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=C-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-S&&(t.match_length=B(t,a),t.match_length<=5&&(t.strategy===h||t.match_length===C&&t.strstart-t.match_start>4096)&&(t.match_length=C-1)),t.prev_length>=C&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-C,i=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-C),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=C-1,t.strstart++,i&&(N(t,!1),0===t.strm.avail_out))return V}else if(t.match_available){if((i=s._tr_tally(t,0,t.window[t.strstart-1]))&&N(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return V}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<C-1?t.strstart:C-1,e===d?(N(t,!0),0===t.strm.avail_out?L:T):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?V:E}function H(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}function Y(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=g,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?z:A,t.adler=2===e.wrap?0:1,e.last_flush=c,s._tr_init(e),u):j(t,m)}function G(t){var e,a=Y(t);return a===u&&((e=t.state).window_size=2*e.w_size,R(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=C-1,e.match_available=0,e.ins_h=0),a}function Z(t,e,a,i,s,o){if(!t)return m;var l=1;if(e===p&&(e=6),i<0?(l=0,i=-i):i>15&&(l=2,i-=16),s<1||s>_||a!==v||i<8||i>15||e<0||e>9||o<0||o>f)return j(t,m);8===i&&(i=9);var r=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*w),this.dyn_dtree=new n.Buf16(2*(2*x+1)),this.bl_tree=new n.Buf16(2*(2*y+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(k+1),this.heap=new n.Buf16(2*b+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*b+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=r,r.strm=t,r.wrap=l,r.gzhead=null,r.w_bits=i,r.w_size=1<<r.w_bits,r.w_mask=r.w_size-1,r.hash_bits=s+7,r.hash_size=1<<r.hash_bits,r.hash_mask=r.hash_size-1,r.hash_shift=~~((r.hash_bits+C-1)/C),r.window=new n.Buf8(2*r.w_size),r.head=new n.Buf16(r.hash_size),r.prev=new n.Buf16(r.w_size),r.lit_bufsize=1<<s+6,r.pending_buf_size=4*r.lit_bufsize,r.pending_buf=new n.Buf8(r.pending_buf_size),r.d_buf=r.lit_bufsize>>1,r.l_buf=3*r.lit_bufsize,r.level=e,r.strategy=o,r.method=a,G(t)}i=[new H(0,0,0,0,function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(O(t),0===t.lookahead&&e===c)return V;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+a;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,N(t,!1),0===t.strm.avail_out))return V;if(t.strstart-t.block_start>=t.w_size-S&&(N(t,!1),0===t.strm.avail_out))return V}return t.insert=0,e===d?(N(t,!0),0===t.strm.avail_out?L:T):(t.strstart>t.block_start&&(N(t,!1),t.strm.avail_out),V)}),new H(4,4,8,4,M),new H(4,5,16,8,M),new H(4,6,32,32,M),new H(4,4,16,16,q),new H(8,16,32,32,q),new H(8,16,128,128,q),new H(8,32,128,256,q),new H(32,128,258,1024,q),new H(32,258,258,4096,q)],a.deflateInit=function(t,e){return Z(t,e,v,15,8,0)},a.deflateInit2=Z,a.deflateReset=G,a.deflateResetKeep=Y,a.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?m:(t.state.gzhead=e,u):m},a.deflate=function(t,e){var a,n,o,r;if(!t||!t.state||e>5||e<0)return t?j(t,m):m;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||n.status===D&&e!==d)return j(t,0===t.avail_out?-5:m);if(n.strm=t,a=n.last_flush,n.last_flush=e,n.status===z)if(2===n.wrap)t.adler=0,W(n,31),W(n,139),W(n,8),n.gzhead?(W(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),W(n,255&n.gzhead.time),W(n,n.gzhead.time>>8&255),W(n,n.gzhead.time>>16&255),W(n,n.gzhead.time>>24&255),W(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),W(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(W(n,255&n.gzhead.extra.length),W(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=l(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(W(n,0),W(n,0),W(n,0),W(n,0),W(n,0),W(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),W(n,3),n.status=A);else{var p=v+(n.w_bits-8<<4)<<8;p|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(p|=32),p+=31-p%31,n.status=A,U(n,p),0!==n.strstart&&(U(n,t.adler>>>16),U(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>o&&(t.adler=l(t.adler,n.pending_buf,n.pending-o,o)),P(t),o=n.pending,n.pending!==n.pending_buf_size));)W(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(t.adler=l(t.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=l(t.adler,n.pending_buf,n.pending-o,o)),P(t),o=n.pending,n.pending===n.pending_buf_size)){r=1;break}r=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,W(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>o&&(t.adler=l(t.adler,n.pending_buf,n.pending-o,o)),0===r&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=l(t.adler,n.pending_buf,n.pending-o,o)),P(t),o=n.pending,n.pending===n.pending_buf_size)){r=1;break}r=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,W(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>o&&(t.adler=l(t.adler,n.pending_buf,n.pending-o,o)),0===r&&(n.status=F)}else n.status=F;if(n.status===F&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&P(t),n.pending+2<=n.pending_buf_size&&(W(n,255&t.adler),W(n,t.adler>>8&255),t.adler=0,n.status=A)):n.status=A),0!==n.pending){if(P(t),0===t.avail_out)return n.last_flush=-1,u}else if(0===t.avail_in&&I(e)<=I(a)&&e!==d)return j(t,-5);if(n.status===D&&0!==t.avail_in)return j(t,-5);if(0!==t.avail_in||0!==n.lookahead||e!==c&&n.status!==D){var h=2===n.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(O(t),0===t.lookahead)){if(e===c)return V;break}if(t.match_length=0,a=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(N(t,!1),0===t.strm.avail_out))return V}return t.insert=0,e===d?(N(t,!0),0===t.strm.avail_out?L:T):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?V:E}(n,e):3===n.strategy?function(t,e){for(var a,i,n,o,l=t.window;;){if(t.lookahead<=$){if(O(t),t.lookahead<=$&&e===c)return V;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=C&&t.strstart>0&&(i=l[n=t.strstart-1])===l[++n]&&i===l[++n]&&i===l[++n]){o=t.strstart+$;do{}while(i===l[++n]&&i===l[++n]&&i===l[++n]&&i===l[++n]&&i===l[++n]&&i===l[++n]&&i===l[++n]&&i===l[++n]&&n<o);t.match_length=$-(o-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=C?(a=s._tr_tally(t,1,t.match_length-C),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(N(t,!1),0===t.strm.avail_out))return V}return t.insert=0,e===d?(N(t,!0),0===t.strm.avail_out?L:T):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?V:E}(n,e):i[n.level].func(n,e);if(h!==L&&h!==T||(n.status=D),h===V||h===L)return 0===t.avail_out&&(n.last_flush=-1),u;if(h===E&&(1===e?s._tr_align(n):5!==e&&(s._tr_stored_block(n,0,0,!1),3===e&&(R(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),P(t),0===t.avail_out))return n.last_flush=-1,u}return e!==d?u:n.wrap<=0?1:(2===n.wrap?(W(n,255&t.adler),W(n,t.adler>>8&255),W(n,t.adler>>16&255),W(n,t.adler>>24&255),W(n,255&t.total_in),W(n,t.total_in>>8&255),W(n,t.total_in>>16&255),W(n,t.total_in>>24&255)):(U(n,t.adler>>>16),U(n,65535&t.adler)),P(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?u:1)},a.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==z&&69!==e&&73!==e&&91!==e&&e!==F&&e!==A&&e!==D?j(t,m):(t.state=null,e===A?j(t,-3):u):m},a.deflateSetDictionary=function(t,e){var a,i,s,l,r,c,d,p,h=e.length;if(!t||!t.state)return m;if(2===(l=(a=t.state).wrap)||1===l&&a.status!==z||a.lookahead)return m;for(1===l&&(t.adler=o(t.adler,e,h,0)),a.wrap=0,h>=a.w_size&&(0===l&&(R(a.head),a.strstart=0,a.block_start=0,a.insert=0),p=new n.Buf8(a.w_size),n.arraySet(p,e,h-a.w_size,a.w_size,0),e=p,h=a.w_size),r=t.avail_in,c=t.next_in,d=t.input,t.avail_in=h,t.next_in=0,t.input=e,O(a);a.lookahead>=C;){i=a.strstart,s=a.lookahead-(C-1);do{a.ins_h=(a.ins_h<<a.hash_shift^a.window[i+C-1])&a.hash_mask,a.prev[i&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=i,i++}while(--s);a.strstart=i,a.lookahead=C-1,O(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=C-1,a.match_available=0,t.next_in=c,t.input=d,t.avail_in=r,a.wrap=l,u},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":32,"./adler32":34,"./crc32":36,"./messages":42,"./trees":43}],38:[function(t,e,a){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],39:[function(t,e,a){e.exports=function(t,e){var a,i,n,s,o,l,r,c,d,u,m,p,h,f,g,v,_,b,x,y,w,k,C,$,S;a=t.state,i=t.next_in,$=t.input,n=i+(t.avail_in-5),s=t.next_out,S=t.output,o=s-(e-t.avail_out),l=s+(t.avail_out-257),r=a.dmax,c=a.wsize,d=a.whave,u=a.wnext,m=a.window,p=a.hold,h=a.bits,f=a.lencode,g=a.distcode,v=(1<<a.lenbits)-1,_=(1<<a.distbits)-1;t:do{h<15&&(p+=$[i++]<<h,h+=8,p+=$[i++]<<h,h+=8),b=f[p&v];e:for(;;){if(p>>>=x=b>>>24,h-=x,0==(x=b>>>16&255))S[s++]=65535&b;else{if(!(16&x)){if(0==(64&x)){b=f[(65535&b)+(p&(1<<x)-1)];continue e}if(32&x){a.mode=12;break t}t.msg="invalid literal/length code",a.mode=30;break t}y=65535&b,(x&=15)&&(h<x&&(p+=$[i++]<<h,h+=8),y+=p&(1<<x)-1,p>>>=x,h-=x),h<15&&(p+=$[i++]<<h,h+=8,p+=$[i++]<<h,h+=8),b=g[p&_];a:for(;;){if(p>>>=x=b>>>24,h-=x,!(16&(x=b>>>16&255))){if(0==(64&x)){b=g[(65535&b)+(p&(1<<x)-1)];continue a}t.msg="invalid distance code",a.mode=30;break t}if(w=65535&b,h<(x&=15)&&(p+=$[i++]<<h,(h+=8)<x&&(p+=$[i++]<<h,h+=8)),(w+=p&(1<<x)-1)>r){t.msg="invalid distance too far back",a.mode=30;break t}if(p>>>=x,h-=x,w>(x=s-o)){if((x=w-x)>d&&a.sane){t.msg="invalid distance too far back",a.mode=30;break t}if(k=0,C=m,0===u){if(k+=c-x,x<y){y-=x;do{S[s++]=m[k++]}while(--x);k=s-w,C=S}}else if(u<x){if(k+=c+u-x,(x-=u)<y){y-=x;do{S[s++]=m[k++]}while(--x);if(k=0,u<y){y-=x=u;do{S[s++]=m[k++]}while(--x);k=s-w,C=S}}}else if(k+=u-x,x<y){y-=x;do{S[s++]=m[k++]}while(--x);k=s-w,C=S}for(;y>2;)S[s++]=C[k++],S[s++]=C[k++],S[s++]=C[k++],y-=3;y&&(S[s++]=C[k++],y>1&&(S[s++]=C[k++]))}else{k=s-w;do{S[s++]=S[k++],S[s++]=S[k++],S[s++]=S[k++],y-=3}while(y>2);y&&(S[s++]=S[k++],y>1&&(S[s++]=S[k++]))}break}}break}}while(i<n&&s<l);i-=y=h>>3,p&=(1<<(h-=y<<3))-1,t.next_in=i,t.next_out=s,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=s<l?l-s+257:257-(s-l),a.hold=p,a.bits=h}},{}],40:[function(t,e,a){var i=t("../utils/common"),n=t("./adler32"),s=t("./crc32"),o=t("./inffast"),l=t("./inftrees"),r=1,c=2,d=0,u=-2,m=1,p=12,h=30,f=852,g=592;function v(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function _(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=m,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(f),e.distcode=e.distdyn=new i.Buf32(g),e.sane=1,e.back=-1,d):u}function b(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,_(t)):u}function x(t,e){var a,i;return t&&t.state?(i=t.state,e<0?(a=0,e=-e):(a=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?u:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,b(t))):u}function y(t,e){var a,n;return t?(n=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=n,n.window=null,(a=x(t,e))!==d&&(t.state=null),a):u}var w,k,C=!0;function $(t){if(C){var e;for(w=new i.Buf32(512),k=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(l(r,t.lens,0,288,w,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;l(c,t.lens,0,32,k,0,t.work,{bits:5}),C=!1}t.lencode=w,t.lenbits=9,t.distcode=k,t.distbits=5}function S(t,e,a,n){var s,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),n>=o.wsize?(i.arraySet(o.window,e,a-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>n&&(s=n),i.arraySet(o.window,e,a-n,s,o.wnext),(n-=s)?(i.arraySet(o.window,e,a-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}a.inflateReset=b,a.inflateReset2=x,a.inflateResetKeep=_,a.inflateInit=function(t){return y(t,15)},a.inflateInit2=y,a.inflate=function(t,e){var a,f,g,_,b,x,y,w,k,C,z,F,A,D,V,E,L,T,j,I,R,P,N,W,U=0,B=new i.Buf8(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return u;(a=t.state).mode===p&&(a.mode=13),b=t.next_out,g=t.output,y=t.avail_out,_=t.next_in,f=t.input,x=t.avail_in,w=a.hold,k=a.bits,C=x,z=y,P=d;t:for(;;)switch(a.mode){case m:if(0===a.wrap){a.mode=13;break}for(;k<16;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}if(2&a.wrap&&35615===w){a.check=0,B[0]=255&w,B[1]=w>>>8&255,a.check=s(a.check,B,2,0),w=0,k=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&w)<<8)+(w>>8))%31){t.msg="incorrect header check",a.mode=h;break}if(8!=(15&w)){t.msg="unknown compression method",a.mode=h;break}if(k-=4,R=8+(15&(w>>>=4)),0===a.wbits)a.wbits=R;else if(R>a.wbits){t.msg="invalid window size",a.mode=h;break}a.dmax=1<<R,t.adler=a.check=1,a.mode=512&w?10:p,w=0,k=0;break;case 2:for(;k<16;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}if(a.flags=w,8!=(255&a.flags)){t.msg="unknown compression method",a.mode=h;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=h;break}a.head&&(a.head.text=w>>8&1),512&a.flags&&(B[0]=255&w,B[1]=w>>>8&255,a.check=s(a.check,B,2,0)),w=0,k=0,a.mode=3;case 3:for(;k<32;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}a.head&&(a.head.time=w),512&a.flags&&(B[0]=255&w,B[1]=w>>>8&255,B[2]=w>>>16&255,B[3]=w>>>24&255,a.check=s(a.check,B,4,0)),w=0,k=0,a.mode=4;case 4:for(;k<16;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}a.head&&(a.head.xflags=255&w,a.head.os=w>>8),512&a.flags&&(B[0]=255&w,B[1]=w>>>8&255,a.check=s(a.check,B,2,0)),w=0,k=0,a.mode=5;case 5:if(1024&a.flags){for(;k<16;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}a.length=w,a.head&&(a.head.extra_len=w),512&a.flags&&(B[0]=255&w,B[1]=w>>>8&255,a.check=s(a.check,B,2,0)),w=0,k=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&((F=a.length)>x&&(F=x),F&&(a.head&&(R=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),i.arraySet(a.head.extra,f,_,F,R)),512&a.flags&&(a.check=s(a.check,f,F,_)),x-=F,_+=F,a.length-=F),a.length))break t;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(0===x)break t;F=0;do{R=f[_+F++],a.head&&R&&a.length<65536&&(a.head.name+=String.fromCharCode(R))}while(R&&F<x);if(512&a.flags&&(a.check=s(a.check,f,F,_)),x-=F,_+=F,R)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(0===x)break t;F=0;do{R=f[_+F++],a.head&&R&&a.length<65536&&(a.head.comment+=String.fromCharCode(R))}while(R&&F<x);if(512&a.flags&&(a.check=s(a.check,f,F,_)),x-=F,_+=F,R)break t}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;k<16;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}if(w!==(65535&a.check)){t.msg="header crc mismatch",a.mode=h;break}w=0,k=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=p;break;case 10:for(;k<32;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}t.adler=a.check=v(w),w=0,k=0,a.mode=11;case 11:if(0===a.havedict)return t.next_out=b,t.avail_out=y,t.next_in=_,t.avail_in=x,a.hold=w,a.bits=k,2;t.adler=a.check=1,a.mode=p;case p:if(5===e||6===e)break t;case 13:if(a.last){w>>>=7&k,k-=7&k,a.mode=27;break}for(;k<3;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}switch(a.last=1&w,k-=1,3&(w>>>=1)){case 0:a.mode=14;break;case 1:if($(a),a.mode=20,6===e){w>>>=2,k-=2;break t}break;case 2:a.mode=17;break;case 3:t.msg="invalid block type",a.mode=h}w>>>=2,k-=2;break;case 14:for(w>>>=7&k,k-=7&k;k<32;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}if((65535&w)!=(w>>>16^65535)){t.msg="invalid stored block lengths",a.mode=h;break}if(a.length=65535&w,w=0,k=0,a.mode=15,6===e)break t;case 15:a.mode=16;case 16:if(F=a.length){if(F>x&&(F=x),F>y&&(F=y),0===F)break t;i.arraySet(g,f,_,F,b),x-=F,_+=F,y-=F,b+=F,a.length-=F;break}a.mode=p;break;case 17:for(;k<14;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}if(a.nlen=257+(31&w),w>>>=5,k-=5,a.ndist=1+(31&w),w>>>=5,k-=5,a.ncode=4+(15&w),w>>>=4,k-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=h;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;k<3;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}a.lens[O[a.have++]]=7&w,w>>>=3,k-=3}for(;a.have<19;)a.lens[O[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,N={bits:a.lenbits},P=l(0,a.lens,0,19,a.lencode,0,a.work,N),a.lenbits=N.bits,P){t.msg="invalid code lengths set",a.mode=h;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;E=(U=a.lencode[w&(1<<a.lenbits)-1])>>>16&255,L=65535&U,!((V=U>>>24)<=k);){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}if(L<16)w>>>=V,k-=V,a.lens[a.have++]=L;else{if(16===L){for(W=V+2;k<W;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}if(w>>>=V,k-=V,0===a.have){t.msg="invalid bit length repeat",a.mode=h;break}R=a.lens[a.have-1],F=3+(3&w),w>>>=2,k-=2}else if(17===L){for(W=V+3;k<W;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}k-=V,R=0,F=3+(7&(w>>>=V)),w>>>=3,k-=3}else{for(W=V+7;k<W;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}k-=V,R=0,F=11+(127&(w>>>=V)),w>>>=7,k-=7}if(a.have+F>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=h;break}for(;F--;)a.lens[a.have++]=R}}if(a.mode===h)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=h;break}if(a.lenbits=9,N={bits:a.lenbits},P=l(r,a.lens,0,a.nlen,a.lencode,0,a.work,N),a.lenbits=N.bits,P){t.msg="invalid literal/lengths set",a.mode=h;break}if(a.distbits=6,a.distcode=a.distdyn,N={bits:a.distbits},P=l(c,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,N),a.distbits=N.bits,P){t.msg="invalid distances set",a.mode=h;break}if(a.mode=20,6===e)break t;case 20:a.mode=21;case 21:if(x>=6&&y>=258){t.next_out=b,t.avail_out=y,t.next_in=_,t.avail_in=x,a.hold=w,a.bits=k,o(t,z),b=t.next_out,g=t.output,y=t.avail_out,_=t.next_in,f=t.input,x=t.avail_in,w=a.hold,k=a.bits,a.mode===p&&(a.back=-1);break}for(a.back=0;E=(U=a.lencode[w&(1<<a.lenbits)-1])>>>16&255,L=65535&U,!((V=U>>>24)<=k);){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}if(E&&0==(240&E)){for(T=V,j=E,I=L;E=(U=a.lencode[I+((w&(1<<T+j)-1)>>T)])>>>16&255,L=65535&U,!(T+(V=U>>>24)<=k);){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}w>>>=T,k-=T,a.back+=T}if(w>>>=V,k-=V,a.back+=V,a.length=L,0===E){a.mode=26;break}if(32&E){a.back=-1,a.mode=p;break}if(64&E){t.msg="invalid literal/length code",a.mode=h;break}a.extra=15&E,a.mode=22;case 22:if(a.extra){for(W=a.extra;k<W;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}a.length+=w&(1<<a.extra)-1,w>>>=a.extra,k-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;E=(U=a.distcode[w&(1<<a.distbits)-1])>>>16&255,L=65535&U,!((V=U>>>24)<=k);){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}if(0==(240&E)){for(T=V,j=E,I=L;E=(U=a.distcode[I+((w&(1<<T+j)-1)>>T)])>>>16&255,L=65535&U,!(T+(V=U>>>24)<=k);){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}w>>>=T,k-=T,a.back+=T}if(w>>>=V,k-=V,a.back+=V,64&E){t.msg="invalid distance code",a.mode=h;break}a.offset=L,a.extra=15&E,a.mode=24;case 24:if(a.extra){for(W=a.extra;k<W;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}a.offset+=w&(1<<a.extra)-1,w>>>=a.extra,k-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=h;break}a.mode=25;case 25:if(0===y)break t;if(F=z-y,a.offset>F){if((F=a.offset-F)>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=h;break}F>a.wnext?(F-=a.wnext,A=a.wsize-F):A=a.wnext-F,F>a.length&&(F=a.length),D=a.window}else D=g,A=b-a.offset,F=a.length;F>y&&(F=y),y-=F,a.length-=F;do{g[b++]=D[A++]}while(--F);0===a.length&&(a.mode=21);break;case 26:if(0===y)break t;g[b++]=a.length,y--,a.mode=21;break;case 27:if(a.wrap){for(;k<32;){if(0===x)break t;x--,w|=f[_++]<<k,k+=8}if(z-=y,t.total_out+=z,a.total+=z,z&&(t.adler=a.check=a.flags?s(a.check,g,z,b-z):n(a.check,g,z,b-z)),z=y,(a.flags?w:v(w))!==a.check){t.msg="incorrect data check",a.mode=h;break}w=0,k=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;k<32;){if(0===x)break t;x--,w+=f[_++]<<k,k+=8}if(w!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=h;break}w=0,k=0}a.mode=29;case 29:P=1;break t;case h:P=-3;break t;case 31:return-4;case 32:default:return u}return t.next_out=b,t.avail_out=y,t.next_in=_,t.avail_in=x,a.hold=w,a.bits=k,(a.wsize||z!==t.avail_out&&a.mode<h&&(a.mode<27||4!==e))&&S(t,t.output,t.next_out,z-t.avail_out)?(a.mode=31,-4):(C-=t.avail_in,z-=t.avail_out,t.total_in+=C,t.total_out+=z,a.total+=z,a.wrap&&z&&(t.adler=a.check=a.flags?s(a.check,g,z,t.next_out-z):n(a.check,g,z,t.next_out-z)),t.data_type=a.bits+(a.last?64:0)+(a.mode===p?128:0)+(20===a.mode||15===a.mode?256:0),(0===C&&0===z||4===e)&&P===d&&(P=-5),P)},a.inflateEnd=function(t){if(!t||!t.state)return u;var e=t.state;return e.window&&(e.window=null),t.state=null,d},a.inflateGetHeader=function(t,e){var a;return t&&t.state?0==(2&(a=t.state).wrap)?u:(a.head=e,e.done=!1,d):u},a.inflateSetDictionary=function(t,e){var a,i=e.length;return t&&t.state?0!==(a=t.state).wrap&&11!==a.mode?u:11===a.mode&&n(1,e,i,0)!==a.check?-3:S(t,e,i,i)?(a.mode=31,-4):(a.havedict=1,d):u},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":32,"./adler32":34,"./crc32":36,"./inffast":39,"./inftrees":41}],41:[function(t,e,a){var i=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,a,r,c,d,u,m){var p,h,f,g,v,_,b,x,y,w=m.bits,k=0,C=0,$=0,S=0,z=0,F=0,A=0,D=0,V=0,E=0,L=null,T=0,j=new i.Buf16(16),I=new i.Buf16(16),R=null,P=0;for(k=0;k<=15;k++)j[k]=0;for(C=0;C<r;C++)j[e[a+C]]++;for(z=w,S=15;S>=1&&0===j[S];S--);if(z>S&&(z=S),0===S)return c[d++]=20971520,c[d++]=20971520,m.bits=1,0;for($=1;$<S&&0===j[$];$++);for(z<$&&(z=$),D=1,k=1;k<=15;k++)if(D<<=1,(D-=j[k])<0)return-1;if(D>0&&(0===t||1!==S))return-1;for(I[1]=0,k=1;k<15;k++)I[k+1]=I[k]+j[k];for(C=0;C<r;C++)0!==e[a+C]&&(u[I[e[a+C]]++]=C);if(0===t?(L=R=u,_=19):1===t?(L=n,T-=257,R=s,P-=257,_=256):(L=o,R=l,_=-1),E=0,C=0,k=$,v=d,F=z,A=0,f=-1,g=(V=1<<z)-1,1===t&&V>852||2===t&&V>592)return 1;for(;;){b=k-A,u[C]<_?(x=0,y=u[C]):u[C]>_?(x=R[P+u[C]],y=L[T+u[C]]):(x=96,y=0),p=1<<k-A,$=h=1<<F;do{c[v+(E>>A)+(h-=p)]=b<<24|x<<16|y|0}while(0!==h);for(p=1<<k-1;E&p;)p>>=1;if(0!==p?(E&=p-1,E+=p):E=0,C++,0==--j[k]){if(k===S)break;k=e[a+u[C]]}if(k>z&&(E&g)!==f){for(0===A&&(A=z),v+=$,D=1<<(F=k-A);F+A<S&&!((D-=j[F+A])<=0);)F++,D<<=1;if(V+=1<<F,1===t&&V>852||2===t&&V>592)return 1;c[f=E&g]=z<<24|F<<16|v-d|0}}return 0!==E&&(c[v+E]=k-A<<24|64<<16|0),m.bits=z,0}},{"../utils/common":32}],42:[function(t,e,a){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],43:[function(t,e,a){var i=t("../utils/common");function n(t){for(var e=t.length;--e>=0;)t[e]=0}var s=0,o=256,l=o+1+29,r=30,c=19,d=2*l+1,u=15,m=16,p=256,h=16,f=17,g=18,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],y=new Array(2*(l+2));n(y);var w=new Array(2*r);n(w);var k=new Array(512);n(k);var C=new Array(256);n(C);var $=new Array(29);n($);var S,z,F,A=new Array(r);function D(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function V(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function E(t){return t<256?k[t]:k[256+(t>>>7)]}function L(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function T(t,e,a){t.bi_valid>m-a?(t.bi_buf|=e<<t.bi_valid&65535,L(t,t.bi_buf),t.bi_buf=e>>m-t.bi_valid,t.bi_valid+=a-m):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function j(t,e,a){T(t,a[2*e],a[2*e+1])}function I(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1}function R(t,e,a){var i,n,s=new Array(u+1),o=0;for(i=1;i<=u;i++)s[i]=o=o+a[i-1]<<1;for(n=0;n<=e;n++){var l=t[2*n+1];0!==l&&(t[2*n]=I(s[l]++,l))}}function P(t){var e;for(e=0;e<l;e++)t.dyn_ltree[2*e]=0;for(e=0;e<r;e++)t.dyn_dtree[2*e]=0;for(e=0;e<c;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*p]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function N(t){t.bi_valid>8?L(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function W(t,e,a,i){var n=2*e,s=2*a;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[a]}function U(t,e,a){for(var i=t.heap[a],n=a<<1;n<=t.heap_len&&(n<t.heap_len&&W(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!W(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i}function B(t,e,a){var i,n,s,l,r=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*r]<<8|t.pending_buf[t.d_buf+2*r+1],n=t.pending_buf[t.l_buf+r],r++,0===i?j(t,n,e):(j(t,(s=C[n])+o+1,e),0!==(l=v[s])&&T(t,n-=$[s],l),j(t,s=E(--i),a),0!==(l=_[s])&&T(t,i-=A[s],l))}while(r<t.last_lit);j(t,p,e)}function O(t,e){var a,i,n,s=e.dyn_tree,o=e.stat_desc.static_tree,l=e.stat_desc.has_stree,r=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=d,a=0;a<r;a++)0!==s[2*a]?(t.heap[++t.heap_len]=c=a,t.depth[a]=0):s[2*a+1]=0;for(;t.heap_len<2;)s[2*(n=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[n]=0,t.opt_len--,l&&(t.static_len-=o[2*n+1]);for(e.max_code=c,a=t.heap_len>>1;a>=1;a--)U(t,s,a);n=r;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,s,1),i=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=i,s[2*n]=s[2*a]+s[2*i],t.depth[n]=(t.depth[a]>=t.depth[i]?t.depth[a]:t.depth[i])+1,s[2*a+1]=s[2*i+1]=n,t.heap[1]=n++,U(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,i,n,s,o,l,r=e.dyn_tree,c=e.max_code,m=e.stat_desc.static_tree,p=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,g=e.stat_desc.max_length,v=0;for(s=0;s<=u;s++)t.bl_count[s]=0;for(r[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<d;a++)(s=r[2*r[2*(i=t.heap[a])+1]+1]+1)>g&&(s=g,v++),r[2*i+1]=s,i>c||(t.bl_count[s]++,o=0,i>=f&&(o=h[i-f]),l=r[2*i],t.opt_len+=l*(s+o),p&&(t.static_len+=l*(m[2*i+1]+o)));if(0!==v){do{for(s=g-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[g]--,v-=2}while(v>0);for(s=g;0!==s;s--)for(i=t.bl_count[s];0!==i;)(n=t.heap[--a])>c||(r[2*n+1]!==s&&(t.opt_len+=(s-r[2*n+1])*r[2*n],r[2*n+1]=s),i--)}}(t,e),R(s,c,t.bl_count)}function M(t,e,a){var i,n,s=-1,o=e[1],l=0,r=7,c=4;for(0===o&&(r=138,c=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=o,o=e[2*(i+1)+1],++l<r&&n===o||(l<c?t.bl_tree[2*n]+=l:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[2*h]++):l<=10?t.bl_tree[2*f]++:t.bl_tree[2*g]++,l=0,s=n,0===o?(r=138,c=3):n===o?(r=6,c=3):(r=7,c=4))}function q(t,e,a){var i,n,s=-1,o=e[1],l=0,r=7,c=4;for(0===o&&(r=138,c=3),i=0;i<=a;i++)if(n=o,o=e[2*(i+1)+1],!(++l<r&&n===o)){if(l<c)do{j(t,n,t.bl_tree)}while(0!=--l);else 0!==n?(n!==s&&(j(t,n,t.bl_tree),l--),j(t,h,t.bl_tree),T(t,l-3,2)):l<=10?(j(t,f,t.bl_tree),T(t,l-3,3)):(j(t,g,t.bl_tree),T(t,l-11,7));l=0,s=n,0===o?(r=138,c=3):n===o?(r=6,c=3):(r=7,c=4)}}n(A);var H=!1;function Y(t,e,a,n){T(t,(s<<1)+(n?1:0),3),function(t,e,a,n){N(t),L(t,a),L(t,~a),i.arraySet(t.pending_buf,t.window,e,a,t.pending),t.pending+=a}(t,e,a)}a._tr_init=function(t){H||(function(){var t,e,a,i,n,s=new Array(u+1);for(a=0,i=0;i<28;i++)for($[i]=a,t=0;t<1<<v[i];t++)C[a++]=i;for(C[a-1]=i,n=0,i=0;i<16;i++)for(A[i]=n,t=0;t<1<<_[i];t++)k[n++]=i;for(n>>=7;i<r;i++)for(A[i]=n<<7,t=0;t<1<<_[i]-7;t++)k[256+n++]=i;for(e=0;e<=u;e++)s[e]=0;for(t=0;t<=143;)y[2*t+1]=8,t++,s[8]++;for(;t<=255;)y[2*t+1]=9,t++,s[9]++;for(;t<=279;)y[2*t+1]=7,t++,s[7]++;for(;t<=287;)y[2*t+1]=8,t++,s[8]++;for(R(y,l+1,s),t=0;t<r;t++)w[2*t+1]=5,w[2*t]=I(t,5);S=new D(y,v,o+1,l,u),z=new D(w,_,0,r,u),F=new D(new Array(0),b,0,c,7)}(),H=!0),t.l_desc=new V(t.dyn_ltree,S),t.d_desc=new V(t.dyn_dtree,z),t.bl_desc=new V(t.bl_tree,F),t.bi_buf=0,t.bi_valid=0,P(t)},a._tr_stored_block=Y,a._tr_flush_block=function(t,e,a,i){var n,s,l=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<o;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),O(t,t.l_desc),O(t,t.d_desc),l=function(t){var e;for(M(t,t.dyn_ltree,t.l_desc.max_code),M(t,t.dyn_dtree,t.d_desc.max_code),O(t,t.bl_desc),e=c-1;e>=3&&0===t.bl_tree[2*x[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=n&&(n=s)):n=s=a+5,a+4<=n&&-1!==e?Y(t,e,a,i):4===t.strategy||s===n?(T(t,2+(i?1:0),3),B(t,y,w)):(T(t,4+(i?1:0),3),function(t,e,a,i){var n;for(T(t,e-257,5),T(t,a-1,5),T(t,i-4,4),n=0;n<i;n++)T(t,t.bl_tree[2*x[n]+1],3);q(t,t.dyn_ltree,e-1),q(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1),B(t,t.dyn_ltree,t.dyn_dtree)),P(t),i&&N(t)},a._tr_tally=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(C[a]+o+1)]++,t.dyn_dtree[2*E(e)]++),t.last_lit===t.lit_bufsize-1},a._tr_align=function(t){T(t,2,3),j(t,p,y),function(t){16===t.bi_valid?(L(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":32}],44:[function(t,e,a){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],45:[function(t,e,a){var i=t("lodash._root"),n=1/0,o="[object Symbol]",l=/[&<>"'`]/g,r=RegExp(l.source),c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};function d(t){return c[t]}var u=Object.prototype.toString,m=i.Symbol,p=m?m.prototype:void 0,h=m?p.toString:void 0;e.exports=function(t){return(t=function(t){if("string"==typeof t)return t;if(null==t)return"";if(function(t){return"symbol"==(void 0===t?"undefined":s()(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}(t)&&u.call(t)==o}(t))return m?h.call(t):"";var e=t+"";return"0"==e&&1/t==-n?"-0":e}(t))&&r.test(t)?t.replace(l,d):t}},{"lodash._root":46}],46:[function(t,e,a){(function(t){var i={function:!0,object:!0},n=i[void 0===a?"undefined":s()(a)]&&a&&!a.nodeType?a:void 0,o=i[void 0===e?"undefined":s()(e)]&&e&&!e.nodeType?e:void 0,l=m(n&&o&&"object"==(void 0===t?"undefined":s()(t))&&t),r=m(i["undefined"==typeof self?"undefined":s()(self)]&&self),c=m(i["undefined"==typeof window?"undefined":s()(window)]&&window),d=m(i[s()(this)]&&this),u=l||c!==(d&&d.window)&&c||r||d||Function("return this")();function m(t){return t&&t.Object===Object?t:null}e.exports=u}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(t,e,a){var i,n=t("lodash._arraycopy"),o=t("lodash._arrayeach"),l=t("lodash._createassigner"),r=t("lodash.isarguments"),c=t("lodash.isarray"),d=t("lodash.isplainobject"),u=t("lodash.istypedarray"),m=t("lodash.keys"),p=t("lodash.toplainobject"),h=9007199254740991,f=(i="length",function(t){return null==t?void 0:t[i]});function g(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}(f(t))}var v=l(function t(e,a,i,l,h){if(v=s()(f=e),!f||"object"!=v&&"function"!=v)return e;var f,v,_=g(a)&&(c(a)||u(a)),b=_?void 0:m(a);return o(b||a,function(o,m){if(b&&(o=a[m=o]),function(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}(o))l||(l=[]),h||(h=[]),function(t,e,a,i,s,o,l){for(var m=o.length,h=e[a];m--;)if(o[m]==h)return void(t[a]=l[m]);var f=t[a],v=s?s(f,h,a,t,e):void 0,_=void 0===v;_&&(v=h,g(h)&&(c(h)||u(h))?v=c(f)?f:g(f)?n(f):[]:d(h)||r(h)?v=r(f)?p(f):d(f)?f:{}:_=!1),o.push(h),l.push(v),_?t[a]=i(v,h,s,o,l):(v==v?v!==f:f==f)&&(t[a]=v)}(e,a,m,t,i,l,h);else{var f=e[m],v=i?i(f,o,m,e,a):void 0,x=void 0===v;x&&(v=o),void 0===v&&(!_||m in e)||!x&&(v==v?v===f:f!=f)||(e[m]=v)}}),e});e.exports=v},{"lodash._arraycopy":48,"lodash._arrayeach":49,"lodash._createassigner":50,"lodash.isarguments":55,"lodash.isarray":56,"lodash.isplainobject":57,"lodash.istypedarray":59,"lodash.keys":60,"lodash.toplainobject":62}],48:[function(t,e,a){e.exports=function(t,e){var a=-1,i=t.length;for(e||(e=Array(i));++a<i;)e[a]=t[a];return e}},{}],49:[function(t,e,a){e.exports=function(t,e){for(var a=-1,i=t.length;++a<i&&!1!==e(t[a],a,t););return t}},{}],50:[function(t,e,a){var i=t("lodash._bindcallback"),n=t("lodash._isiterateecall"),s=t("lodash.restparam");e.exports=function(t){return s(function(e,a){var s=-1,o=null==e?0:a.length,l=o>2?a[o-2]:void 0,r=o>2?a[2]:void 0,c=o>1?a[o-1]:void 0;for("function"==typeof l?(l=i(l,c,5),o-=2):o-=(l="function"==typeof c?c:void 0)?1:0,r&&n(a[0],a[1],r)&&(l=o<3?void 0:l,o=1);++s<o;){var d=a[s];d&&t(e,d,l)}return e})}},{"lodash._bindcallback":51,"lodash._isiterateecall":52,"lodash.restparam":53}],51:[function(t,e,a){function i(t){return t}e.exports=function(t,e,a){if("function"!=typeof t)return i;if(void 0===e)return t;switch(a){case 1:return function(a){return t.call(e,a)};case 3:return function(a,i,n){return t.call(e,a,i,n)};case 4:return function(a,i,n,s){return t.call(e,a,i,n,s)};case 5:return function(a,i,n,s,o){return t.call(e,a,i,n,s,o)}}return function(){return t.apply(e,arguments)}}},{}],52:[function(t,e,a){var i,n=/^\d+$/,o=9007199254740991,l=(i="length",function(t){return null==t?void 0:t[i]});function r(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(l(t))}e.exports=function(t,e,a){if(!function(t){var e=void 0===t?"undefined":s()(t);return!!t&&("object"==e||"function"==e)}(a))return!1;var i=void 0===e?"undefined":s()(e);if("number"==i?r(a)&&function(t,e){return t="number"==typeof t||n.test(t)?+t:-1,e=null==e?o:e,t>-1&&t%1==0&&t<e}(e,a.length):"string"==i&&e in a){var l=a[e];return t==t?t===l:l!=l}return!1}},{}],53:[function(t,e,a){var i=Math.max;e.exports=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=i(void 0===e?t.length-1:+e||0,0),function(){for(var a=arguments,n=-1,s=i(a.length-e,0),o=Array(s);++n<s;)o[n]=a[e+n];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,a[0],o);case 2:return t.call(this,a[0],a[1],o)}var l=Array(e+1);for(n=-1;++n<e;)l[n]=a[n];return l[e]=o,t.apply(this,l)}}},{}],54:[function(t,e,a){var i=/^\[object .+?Constructor\]$/,n=Object.prototype,o=Function.prototype.toString,l=n.hasOwnProperty,r=n.toString,c=RegExp("^"+o.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t,e){var a=null==t?void 0:t[e];return function(t){return null!=t&&(function(t){return function(t){var e=void 0===t?"undefined":s()(t);return!!t&&("object"==e||"function"==e)}(t)&&"[object Function]"==r.call(t)}(t)?c.test(o.call(t)):function(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}(t)&&i.test(t))}(a)?a:void 0}},{}],55:[function(t,e,a){var i,n=Object.prototype,o=n.hasOwnProperty,l=n.toString,r=n.propertyIsEnumerable,c=(i="length",function(t){return null==t?void 0:t[i]});e.exports=function(t){return function(t){return function(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(c(t))&&!function(t){var e=function(t){var e=void 0===t?"undefined":s()(t);return!!t&&("object"==e||"function"==e)}(t)?l.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}(t)}(t)&&o.call(t,"callee")&&(!r.call(t,"callee")||"[object Arguments]"==l.call(t))}},{}],56:[function(t,e,a){var i=/^\[object .+?Constructor\]$/;function n(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}var o,l,r=Object.prototype,c=Function.prototype.toString,d=r.hasOwnProperty,u=r.toString,m=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),p=(function(t){return null!=t&&(function(t){return function(t){var e=void 0===t?"undefined":s()(t);return!!t&&("object"==e||"function"==e)}(t)&&"[object Function]"==u.call(t)}(t)?m.test(c.call(t)):n(t)&&i.test(t))}(l=null==(o=Array)?void 0:o.isArray)?l:void 0)||function(t){return n(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&"[object Array]"==u.call(t)};e.exports=p},{}],57:[function(t,e,a){var i=t("lodash._basefor"),n=t("lodash.isarguments"),o=t("lodash.keysin"),l=Object.prototype,r=l.hasOwnProperty,c=l.toString;e.exports=function(t){var e,a;return!(!function(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}(t)||"[object Object]"!=c.call(t)||n(t)||!(r.call(t,"constructor")||"function"!=typeof(e=t.constructor)||e instanceof e))&&(i(t,function(t,e){a=e},o),void 0===a||r.call(t,a))}},{"lodash._basefor":58,"lodash.isarguments":55,"lodash.keysin":61}],58:[function(t,e,a){e.exports=function(t,e,a){for(var i=-1,n=Object(t),s=a(t),o=s.length;o--;){var l=s[++i];if(!1===e(n[l],l,n))break}return t}},{}],59:[function(t,e,a){var i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1;var n=Object.prototype.toString;e.exports=function(t){return function(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!!i[n.call(t)]}},{}],60:[function(t,e,a){var i,n=t("lodash._getnative"),o=t("lodash.isarguments"),l=t("lodash.isarray"),r=/^\d+$/,c=Object.prototype.hasOwnProperty,d=n(Object,"keys"),u=9007199254740991,m=(i="length",function(t){return null==t?void 0:t[i]});function p(t,e){return t="number"==typeof t||r.test(t)?+t:-1,e=null==e?u:e,t>-1&&t%1==0&&t<e}function h(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function f(t){for(var e=function(t){if(null==t)return[];g(t)||(t=Object(t));var e=t.length;e=e&&h(e)&&(l(t)||o(t))&&e||0;for(var a=t.constructor,i=-1,n="function"==typeof a&&a.prototype===t,s=Array(e),r=e>0;++i<e;)s[i]=i+"";for(var d in t)r&&p(d,e)||"constructor"==d&&(n||!c.call(t,d))||s.push(d);return s}(t),a=e.length,i=a&&t.length,n=!!i&&h(i)&&(l(t)||o(t)),s=-1,r=[];++s<a;){var d=e[s];(n&&p(d,i)||c.call(t,d))&&r.push(d)}return r}function g(t){var e=void 0===t?"undefined":s()(t);return!!t&&("object"==e||"function"==e)}var v=d?function(t){var e,a=null==t?void 0:t.constructor;return"function"==typeof a&&a.prototype===t||"function"!=typeof t&&null!=(e=t)&&h(m(e))?f(t):g(t)?d(t):[]}:f;e.exports=v},{"lodash._getnative":54,"lodash.isarguments":55,"lodash.isarray":56}],61:[function(t,e,a){var i=t("lodash.isarguments"),n=t("lodash.isarray"),o=/^\d+$/,l=Object.prototype.hasOwnProperty,r=9007199254740991;function c(t,e){return t="number"==typeof t||o.test(t)?+t:-1,e=null==e?r:e,t>-1&&t%1==0&&t<e}e.exports=function(t){if(null==t)return[];var e,a;a=s()(e=t),(!e||"object"!=a&&"function"!=a)&&(t=Object(t));var o=t.length;o=o&&"number"==typeof o&&o>-1&&o%1==0&&o<=r&&(n(t)||i(t))&&o||0;for(var d=t.constructor,u=-1,m="function"==typeof d&&d.prototype===t,p=Array(o),h=o>0;++u<o;)p[u]=u+"";for(var f in t)h&&c(f,o)||"constructor"==f&&(m||!l.call(t,f))||p.push(f);return p}},{"lodash.isarguments":55,"lodash.isarray":56}],62:[function(t,e,a){var i=t("lodash._basecopy"),n=t("lodash.keysin");e.exports=function(t){return i(t,n(t))}},{"lodash._basecopy":63,"lodash.keysin":61}],63:[function(t,e,a){e.exports=function(t,e,a){a||(a={});for(var i=-1,n=e.length;++i<n;){var s=e[i];a[s]=t[s]}return a}},{}],64:[function(t,e,a){var i,n;i=t("jszip"),n=t("./internal"),e.exports={asBlob:function(t,e){var a;return a=new i,n.addFiles(a,t,e),n.generateDocument(a)}}},{"./internal":65,jszip:14}],65:[function(t,e,a){(function(a,i){var n,s,o;n=t("./templates/document"),s=t("./utils"),o={merge:t("lodash.merge")},e.exports={generateDocument:function(t){var e;if(e=t.generate({type:"arraybuffer"}),a.Blob)return new Blob([e],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});if(a.Buffer)return new i(new Uint8Array(e));throw new Error("Neither Blob nor Buffer are accessible in this environment. Consider adding Blob.js shim")},renderDocumentFile:function(t){var e;return null==t&&(t={}),e=o.merge({margins:{top:1440,right:1440,bottom:1440,left:1440,header:720,footer:720,gutter:0}},function(){switch(t.orientation){case"landscape":return{height:12240,width:15840,orient:"landscape"};default:return{width:12240,height:15840,orient:"portrait"}}}(),{margins:t.margins}),n(e)},addFiles:function(t,e,a){return t.file("[Content_Types].xml",i("PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pgo8VHlwZXMgeG1sbnM9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9wYWNrYWdlLzIwMDYvY29udGVudC10eXBlcyI+CiAgPERlZmF1bHQgRXh0ZW5zaW9uPSJyZWxzIiBDb250ZW50VHlwZT0KICAgICJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtcGFja2FnZS5yZWxhdGlvbnNoaXBzK3htbCIgLz4KICA8T3ZlcnJpZGUgUGFydE5hbWU9Ii93b3JkL2RvY3VtZW50LnhtbCIgQ29udGVudFR5cGU9CiAgICAiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQubWFpbit4bWwiLz4KICA8T3ZlcnJpZGUgUGFydE5hbWU9Ii93b3JkL2FmY2h1bmsubWh0IiBDb250ZW50VHlwZT0ibWVzc2FnZS9yZmM4MjIiLz4KPC9UeXBlcz4K","base64")),t.folder("_rels").file(".rels",i("PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pgo8UmVsYXRpb25zaGlwcyB4bWxucz0iaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3BhY2thZ2UvMjAwNi9yZWxhdGlvbnNoaXBzIj4KICA8UmVsYXRpb25zaGlwCiAgICAgIFR5cGU9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvb2ZmaWNlRG9jdW1lbnQiCiAgICAgIFRhcmdldD0iL3dvcmQvZG9jdW1lbnQueG1sIiBJZD0iUjA5YzgzZmFmYzA2NzQ4OGUiIC8+CjwvUmVsYXRpb25zaGlwcz4K","base64")),t.folder("word").file("document.xml",this.renderDocumentFile(a)).file("afchunk.mht",s.getMHTdocument(e)).folder("_rels").file("document.xml.rels",i("PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pgo8UmVsYXRpb25zaGlwcyB4bWxucz0iaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3BhY2thZ2UvMjAwNi9yZWxhdGlvbnNoaXBzIj4KICA8UmVsYXRpb25zaGlwIFR5cGU9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvYUZDaHVuayIKICAgIFRhcmdldD0iL3dvcmQvYWZjaHVuay5taHQiIElkPSJodG1sQ2h1bmsiIC8+CjwvUmVsYXRpb25zaGlwcz4K","base64"))}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"./templates/document":66,"./utils":69,buffer:1,"lodash.merge":47}],66:[function(t,e,a){t("lodash.escape");e.exports=function(t){var e,a="";Array.prototype.join;return t||(t={}),console.log(t),a+='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<w:document\n  xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main"\n  xmlns:m="http://schemas.openxmlformats.org/officeDocument/2006/math"\n  xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"\n  xmlns:wp="http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing"\n  xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"\n  xmlns:ns6="http://schemas.openxmlformats.org/schemaLibrary/2006/main"\n  xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart"\n  xmlns:ns8="http://schemas.openxmlformats.org/drawingml/2006/chartDrawing"\n  xmlns:dgm="http://schemas.openxmlformats.org/drawingml/2006/diagram"\n  xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"\n  xmlns:ns11="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"\n  xmlns:dsp="http://schemas.microsoft.com/office/drawing/2008/diagram"\n  xmlns:ns13="urn:schemas-microsoft-com:office:excel"\n  xmlns:o="urn:schemas-microsoft-com:office:office"\n  xmlns:v="urn:schemas-microsoft-com:vml"\n  xmlns:w10="urn:schemas-microsoft-com:office:word"\n  xmlns:ns17="urn:schemas-microsoft-com:office:powerpoint"\n  xmlns:odx="http://opendope.org/xpaths"\n  xmlns:odc="http://opendope.org/conditions"\n  xmlns:odq="http://opendope.org/questions"\n  xmlns:odi="http://opendope.org/components"\n  xmlns:odgm="http://opendope.org/SmartArt/DataHierarchy"\n  xmlns:ns24="http://schemas.openxmlformats.org/officeDocument/2006/bibliography"\n  xmlns:ns25="http://schemas.openxmlformats.org/drawingml/2006/compatibility"\n  xmlns:ns26="http://schemas.openxmlformats.org/drawingml/2006/lockedCanvas">\n  <w:body>\n    <w:altChunk r:id="htmlChunk" />\n    <w:sectPr>\n      <w:pgSz w:w="'+(null==(e=t.width)?"":e)+'" w:h="'+(null==(e=t.height)?"":e)+'" w:orient="'+(null==(e=t.orient)?"":e)+'" />\n      <w:pgMar w:top="'+(null==(e=t.margins.top)?"":e)+'"\n               w:right="'+(null==(e=t.margins.right)?"":e)+'"\n               w:bottom="'+(null==(e=t.margins.bottom)?"":e)+'"\n               w:left="'+(null==(e=t.margins.left)?"":e)+'"\n               w:header="'+(null==(e=t.margins.header)?"":e)+'"\n               w:footer="'+(null==(e=t.margins.footer)?"":e)+'"\n               w:gutter="'+(null==(e=t.margins.gutter)?"":e)+'"/>\n    </w:sectPr>\n  </w:body>\n</w:document>\n'}},{"lodash.escape":45}],67:[function(t,e,a){t("lodash.escape");e.exports=function(t){var e,a="";Array.prototype.join;return t||(t={}),a+='MIME-Version: 1.0\nContent-Type: multipart/related;\n    type="text/html";\n    boundary="----=mhtDocumentPart"\n\n\n------=mhtDocumentPart\nContent-Type: text/html;\n    charset="utf-8"\nContent-Transfer-Encoding: quoted-printable\nContent-Location: file:///C:/fake/document.html\n\n'+(null==(e=t.htmlSource)?"":e)+"\n\n"+(null==(e=t.contentParts)?"":e)+"\n\n------=mhtDocumentPart--\n"}},{"lodash.escape":45}],68:[function(t,e,a){t("lodash.escape");e.exports=function(t){var e,a="";Array.prototype.join;return t||(t={}),console.log(t),a+="------=mhtDocumentPart\nContent-Type: "+(null==(e=t.contentType)?"":e)+"\nContent-Transfer-Encoding: "+(null==(e=t.contentEncoding)?"":e)+"\nContent-Location: "+(null==(e=t.contentLocation)?"":e)+"\n\n"+(null==(e=t.encodedContent)?"":e)+"\n"}},{"lodash.escape":45}],69:[function(t,e,a){var i,n;i=t("./templates/mht_document"),n=t("./templates/mht_part"),e.exports={getMHTdocument:function(t){var e,a;return t=(a=this._prepareImageParts(t)).htmlSource,e=a.imageContentParts,t=t.replace(/\=/g,"=3D"),i({htmlSource:t,contentParts:e.join("\n")})},_prepareImageParts:function(t){var e,a,i;if(e=[],i=/"data:(\w+\/\w+);(\w+),(\S+)"/g,a=function(t,a,i,s){var o;return o="file:///C:/fake/image"+e.length+"."+a.split("/")[1],e.push(n({contentType:a,contentEncoding:i,contentLocation:o,encodedContent:s})),'"'+o+'"'},"string"==typeof t)return/<img/g.test(t)?{htmlSource:t=t.replace(i,a),imageContentParts:e}:{htmlSource:t,imageContentParts:e};throw new Error("Not a valid source provided!")}}},{"./templates/mht_document":67,"./templates/mht_part":68}]},{},[64])(64)})}).call(e,a("f1Eh")(t),a("DuR2"))},"3pOU":function(t,e){},"40TS":function(t,e){},"4QAK":function(t,e,a){t.exports=a.p+"static/img/School_Picture_22733.7146acb.jpg"},"6SVA":function(t,e,a){t.exports=a.p+"static/img/p2.8031491.jpg"},"6UkJ":function(t,e){},"6zRq":function(t,e){},"75CG":function(t,e){},"7dyJ":function(t,e){},9516:function(t,e){},"9o6C":function(t,e,a){(function(t){var e;void 0!==t&&"undefined"!=typeof saveAs?(e=t,console.log(111),e.fn.wordExport=function(t){t=void 0!==t?t:"jQuery-Word-Export";var a={mhtml:{top:"Mime-Version: 1.0\nContent-Base: "+location.href+'\nContent-Type: Multipart/related; boundary="NEXT.ITEM-BOUNDARY";type="text/html"\n\n--NEXT.ITEM-BOUNDARY\nContent-Type: text/html; charset="utf-8"\nContent-Location: '+location.href+"\n\n<!DOCTYPE html>\n<html>\n_html_</html>",head:'<head>\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n<style>\n_styles_\n</style>\n</head>\n',body:"<body>_body_</body>"}},i=624,n=e(this).clone();n.each(function(){var t=e(this);t.is(":hidden")&&t.remove()});for(var s=Array(),o=n.find("img"),l=0;l<o.length;l++){var r=Math.min(o[l].width,i),c=o[l].height*(r/o[l].width),d=document.createElement("CANVAS");d.width=r,d.height=c,d.getContext("2d").drawImage(o[l],0,0,r,c);var u=d.toDataURL("image/png/jpg");e(o[l]).attr("src",o[l].src),o[l].width=r,o[l].height=c,s[l]={type:u.substring(u.indexOf(":")+1,u.indexOf(";")),encoding:u.substring(u.indexOf(";")+1,u.indexOf(",")),location:e(o[l]).attr("src"),data:u.substring(u.indexOf(",")+1)}}var m="\n";for(l=0;l<s.length;l++)m+="--NEXT.ITEM-BOUNDARY\n",m+="Content-Location: "+s[l].location+"\n",m+="Content-Type: "+s[l].type+"\n",m+="Content-Transfer-Encoding: "+s[l].encoding+"\n\n",m+=s[l].data+"\n\n";m+="--NEXT.ITEM-BOUNDARY--";var p=a.mhtml.top.replace("_html_",a.mhtml.head.replace("_styles_","")+a.mhtml.body.replace("_body_",n.html()))+m,h=new Blob([p],{type:"application/msword;charset=utf-8"});saveAs(h,t+".doc")}):(void 0===t&&console.error("jQuery Word Export: missing dependency (jQuery)"),"undefined"==typeof saveAs&&console.error("jQuery Word Export: missing dependency (FileSaver.js)"))}).call(e,a("7t+N"))},"AW+W":function(t,e){},Ampz:function(t,e){},AnIS:function(t,e){},Anfk:function(t,e){},B7zw:function(t,e){t.exports={1:{sort:1,id:1,pid:0,menu_route:"school",icon:"",menu_name:"学校管理",items:[{id:4,pid:1,menu_route:"school/localadminschool",icon:null,menu_name:"学校管理",items:[]},{id:7,pid:1,menu_route:"school/schooladmins",icon:null,menu_name:"校长管理",items:[]}]},2:{sort:2,id:2,pid:0,menu_route:"sheet",icon:"",menu_name:"量表管理",items:[{id:3,pid:2,menu_route:"school/sheettype",icon:null,menu_name:"量表类别",items:[]},{id:5,pid:2,menu_route:"school/gloablesheet",icon:null,menu_name:"系统量表",items:[]},{id:9,pid:2,menu_route:"school/reasonsheet",icon:null,menu_name:"量表因子",items:[]}]}}},Clwp:function(t,e){},Cz0B:function(t,e){},D29O:function(t,e){},DFYo:function(t,e){},"DQ+d":function(t,e){},E0VQ:function(t,e){},EDgR:function(t,e){function a(){var t=document.getElementsByTagName("html")[0],e=100/434*window.innerWidth;t.style.fontSize=e+"px"}a(),window.onresize=function(){a()}},EHMd:function(t,e){},FEd9:function(t,e){},"Fqc/":function(t,e){},G9MG:function(t,e){},Go9S:function(t,e){},"Gz/l":function(t,e){},H6Nh:function(t,e){},HBig:function(t,e){},ITnX:function(t,e){},JfMX:function(t,e){},Jl84:function(t,e){},JmTv:function(t,e){},"KIX+":function(t,e){},"KVo+":function(t,e){},Krye:function(t,e){},KyHj:function(t,e){},M5l7:function(t,e){t.exports=["头痛","神经过敏，心中不踏实","头脑中有不必要的想法或字句盘旋","头昏或昏倒","对异性的兴趣减退","对旁人责备求全","感到别人能控制您的思想","责怪别人制造麻烦","忘记性大","担心自己的衣饰整齐及仪态的端正","容易烦恼和激动","胸痛","害怕空旷的场所或街道","感到自己的精力下降，活动减慢","想结束自己的生命","听到旁人听不到的声音","发抖","感到大多数入都不可信任","胃口不好","容易哭泣","同异性相处时感害羞不自在","感到受骗、中了圈套或有人想抓住您","无缘无故地突然感到害怕","自己不能控制地大发脾气","怕单独出门","经常责怪自己","腰痛","感到难以完成任务","感到孤独","感到苦闷","过分担忧","对事物不感兴趣","感到害怕","我的感情容易受到伤害","旁人能知道您的想法","感到别人不理解","感到人们对您不友好，不喜欢您","做事必须做得很慢以保证做得正确","心跳得很厉害","恶心或胃部不舒服","感到比不上他人","肌肉酸痛","感到有人在监视您谈论您","难以入睡","做事必须反复检查","难以作出决定","怕乘电车、公共汽车、地铁或火车","呼吸有困难","一阵阵发冷或发热","因为感到害怕而避开某些东西、场合","脑子变空了","身体发麻或刺痛","喉咙有梗塞感","感到前途没有希望","不能集中注意","感到身体的某一部分软弱无力","感到紧张或容易紧张","感到手或脚发重","想到死亡的事","吃得太多","当别人看着您或谈论您时感到不自在","有一些不属于您自己的想法","有想打人或伤害他人的冲动","醒得太早","必须反复洗手，点数目或触摸某些东","睡得不稳不深","有想摔坏或破坏东西的冲动","有一些别人没有的想法或念头","感到对别人神经过敏","在商店或电影院等人多的地方感到不","感到任何事情都很困难","一阵阵恐惧或惊恐","感到在公共场合吃东西很不舒服","经常与人争论","单独一人时神经很紧张","别人对您的成绩没有作出恰当的评价","即使和别人在一起也感到孤单","感到坐立不安心神不定","感到自己没有什么价值","感到熟悉的东西变成陌生或不象是真","大叫或摔东西","害怕会在公共场合昏倒","感到别人想占您的便宜","为一些有关“性”的想法而很苦恼","您认为应该因为自己的过错而受到惩","感到要赶快把事情做完","感到自己的身体有严重问题","从未感到和其他人很亲近","感到自己有罪","感到自己的脑子有毛病"]},M8VA:function(t,e){},M96b:function(t,e){},MWNF:function(t,e){},N2ME:function(t,e,a){"use strict";var i=a("Gu7T"),n=a.n(i),s=a("MqC/"),o=a.n(s),l=(a("olwm"),a("7t+N")),r=a.n(l),c={props:{events:{default:function(){return[]}},eventSources:{default:function(){return[]}},editable:{default:function(){return!0}},selectable:{default:function(){return!0}},selectHelper:{default:function(){return!0}},header:{default:function(){return{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"}}},defaultView:{default:function(){return"agendaWeek"}},sync:{default:function(){return!1}},config:{type:Object,default:function(){return{}}}},computed:{defaultConfig:function(){var t=this;return{header:this.header,defaultView:this.defaultView,editable:this.editable,selectable:this.selectable,selectHelper:this.selectHelper,aspectRatio:2,timeFormat:"HH:mm",events:this.events,eventSources:this.eventSources,eventRender:function(){this.sync&&(t.events=cal.fullCalendar("clientEvents"));for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];t.$emit.apply(t,["event-render"].concat(n()(a)))},viewRender:function(){this.sync&&(t.events=cal.fullCalendar("clientEvents"));for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];t.$emit.apply(t,["view-render"].concat(n()(a)))},eventDestroy:function(e){this.sync&&(t.events=cal.fullCalendar("clientEvents"))},eventClick:function(){for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];t.$emit.apply(t,["event-selected"].concat(n()(a)))},eventDrop:function(){for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];t.$emit.apply(t,["event-drop"].concat(n()(a)))},eventReceive:function(){for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];t.$emit.apply(t,["event-receive"].concat(n()(a)))},eventResize:function(){for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];t.$emit.apply(t,["event-resize"].concat(n()(a)))},dayClick:function(){for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];t.$emit.apply(t,["day-click"].concat(n()(a)))},select:function(e,a,i,n,s){t.$emit("event-created",{start:e,end:a,allDay:!e.hasTime()&&!a.hasTime(),view:n,resource:s})}}}},mounted:function(){var t=this,e=r()(this.$el);this.$on("remove-event",function(e){e&&e.hasOwnProperty("id")?r()(t.$el).fullCalendar("removeEvents",e.id):r()(t.$el).fullCalendar("removeEvents",e)}),this.$on("rerender-events",function(){r()(t.$el).fullCalendar("rerenderEvents")}),this.$on("refetch-events",function(){r()(t.$el).fullCalendar("refetchEvents")}),this.$on("render-event",function(e){r()(t.$el).fullCalendar("renderEvent",e)}),this.$on("reload-events",function(){r()(t.$el).fullCalendar("removeEvents"),r()(t.$el).fullCalendar("addEventSource",t.events)}),this.$on("rebuild-sources",function(){r()(t.$el).fullCalendar("removeEventSources"),t.eventSources.map(function(e){r()(t.$el).fullCalendar("addEventSource",e)})}),e.fullCalendar(o()(this.config,this.defaultConfig))},methods:{fireMethod:function(){var t;return(t=r()(this.$el)).fullCalendar.apply(t,arguments)}},watch:{events:{deep:!0,handler:function(t){r()(this.$el).fullCalendar("removeEvents"),r()(this.$el).fullCalendar("addEventSource",this.events)}},eventSources:{deep:!0,handler:function(t){this.$emit("rebuild-sources")}}},beforeDestroy:function(){this.$off("remove-event"),this.$off("rerender-events"),this.$off("refetch-events"),this.$off("render-event"),this.$off("reload-events"),this.$off("rebuild-sources")}},d={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"calendar",attrs:{id:"calendar"}})},staticRenderFns:[]},u=a("VU/8")(c,d,!1,null,null,null);e.a=u.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("j1ja");var i=a("7+uW"),n=(a("EDgR"),a("zL8q")),s=a.n(n),o=a("7t+N"),l=a.n(o),r=a("mvHQ"),c=a.n(r),d=a("//Fk"),u=a.n(d),m=a("Dd8w"),p=a.n(m),h=a("mtWM"),f=a.n(h),g=a("bOdI"),v=a.n(g),_=a("/ocq"),b=a("YZ0n"),x=a("lbHh"),y=a.n(x),w={data:function(){return{role:"",option:{imgsrc:"",info:!0,outputSize:.7,outputType:"jpeg",canScale:!0,autoCrop:!0,autoCropWidth:100,autoCropHeight:100,fixed:!1,fixedNumber:[4,4]},status:"",cropper:!1,newimgsrc:"",visible1:!1,visible2:!1,activeName2:"first",tableData3:[],tableData1:[],page:{currentpage:1,countpage:0,pagesize:20,flag:!1},multipleSelection:[],page1:{currentpage:1,countpage:0,pagesize:20,flag:!1},multipleSelection1:[],nameId:"",title:"",textarea:"",filter:"",schoolname:""}},mounted:function(){this.newimgsrc=this.$store.state.userInfo.name;var t=this.$store.state.userInfo;"string"==typeof t&&1!==(t=JSON.parse(t)).sf&&(this.schoolname=t.college_name),this.role=t},created:function(){this.getmesage(this.page.currentpage,this.page.pagesize),this.sendmessage(this.page1.currentpage,this.page1.pagesize)},methods:{getmesage:function(t,e){var a=this;this.axios.post("/api/v1/mail/list?filter="+this.filter,{page:t,size:e}).then(function(t){var e=t.data.data.list;e.map(function(t,e){t.view_time?t.read="已读":t.read="未读"}),a.tableData3=e,a.page.countpage=t.data.data.total})},sendmessage:function(t,e){var a=this;this.axios.post("/api/v1/admin/mail/list",{page:t,size:e}).then(function(t){a.tableData1=t.data.data.list,a.tableData1.map(function(t,e){t.view_time?t.read="已读":t.read="未读"}),a.page1.countpage=t.data.data.total})},change:function(){this.getmesage(this.page.currentpage,this.page.pagesize)},goIndex:function(){this.$router.push({path:"/login"})},first:function(){y.a.set("userToken",""),this.$store.commit("setToken",""),this.$store.state.loginsucess=!0,this.$router.push({path:"/login"})},fileChange:function(t){var e=this,a=t.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;if(window.FileReader){var i=new FileReader;i.readAsDataURL(a),i.onload=function(t){e.option.imgsrc=t.target.result,console.log(e.option.imgsrc,t.target),e.cropper=!0}}},cutimg:function(){var t=this;this.$refs.cropper.startCrop(),this.$refs.cropper.getCropData(function(e){t.newimgsrc=e,t.$refs.cropper.clearCrop()})},handleSelectionChange:function(t){this.multipleSelection=t},handleSelectionChange1:function(t){this.multipleSelection1=t},handleSizeChange:function(t){this.page.pagesize=t,this.getmesage(this.page.currentpage,this.page.pagesize)},handleCurrentChange:function(t){this.page.currentpage=t,this.getmesage(this.page.currentpage,this.page.pagesize)},handleSizeChange1:function(t){console.log("每页 "+t+" 条"),this.page1.pagesize=t,this.sendmessage(this.page1.currentpage,this.page1.pagesize)},handleCurrentChange1:function(t){console.log("当前页: "+t),this.page1.currentpage=t,this.sendmessage(this.page1.currentpage,this.page1.pagesize)},sendmsg:function(){var t=this;this.axios.post("/api/v1/admin/mail/send",{receiver:this.nameId,title:this.title,content:this.textarea}).then(function(e){console.log(e),0==e.data.code?t.$message("发送成功"):t.$message(e.data.msg)})},del:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/mail/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getmesage(a.page.currentpage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},read:function(){var t=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(e){t.push(e.id)});var e=this;this.axios.post("/api/v1/mail/read",{id:t}).then(function(t){console.log(t),0==t.data.code?(e.getmesage(e.page.currentpage,e.page.pagesize),e.$message("已阅读")):e.$message(t.data.msg)}).catch(function(t){e.$message(t)})}else this.$message("请至少选择一个阅读文件")},readSend:function(t){var e=t.id,a=this;this.axios.get("/api/v1/admin/mail/read?id="+e).then(function(t){console.log(t),0==t.data.code?(a.getmesage(a.page.currentpage,a.page.pagesize),a.$message("已阅读")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}},components:{VueCropper:b.VueCropper}},k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"a1"},[i("span",{staticClass:"logo"},[t.$store.state.logo?i("img",{attrs:{src:t.$store.state.logo,alt:""}}):i("img",{attrs:{src:a("NKBi"),alt:""}})]),t._v(" "),i("div",{staticClass:"a2"},[i("div",{staticClass:"h-left"},[t._v(t._s(t.schoolname)+"心理管理系统")]),t._v(" "),i("div",{staticClass:"h-right"},[i("ul",[i("li",[t._v("\n            你好,\n            "),i("i",[t._v(t._s(t.role.name))])]),t._v(" "),i("li",{staticClass:"bor",on:{click:t.goIndex}},[i("span",{staticClass:"iconfont icon-yemian"}),t._v("\n            首页\n          ")]),t._v(" "),i("li",{staticClass:"bor"},[i("el-popover",{attrs:{placement:"top",width:"500"},model:{value:t.visible1,callback:function(e){t.visible1=e},expression:"visible1"}},[i("div",{staticClass:"a2"},[i("p",{staticStyle:{"text-align":"center","font-size":"20px",color:"#409EFF",height:"40px"}},[t._v("站内消息")]),t._v(" "),i("span",{staticClass:"iconfont icon-x",on:{click:function(e){t.visible1=!1}}})]),t._v(" "),i("div",{staticClass:"contain"},[i("el-tabs",{attrs:{type:"card",hidden:!1},model:{value:t.activeName2,callback:function(e){t.activeName2=e},expression:"activeName2"}},[i("el-tab-pane",{attrs:{label:"收件箱",name:"first"}},[i("div",{staticClass:"mesg"},[i("el-select",{attrs:{slot:"prepend",placeholder:"请选择",size:"large"},on:{change:t.change},slot:"prepend",model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},[i("el-option",{attrs:{label:"系统消息",value:"1"}}),t._v(" "),i("el-option",{attrs:{label:"用户消息",value:"2"}})],1),t._v(" "),i("div",{staticClass:"work"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){return e.stopPropagation(),t.del(e)}}},[t._v("删除邮件")]),t._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return e.stopPropagation(),t.read(e)}}},[t._v("标记阅读")])],1)],1),t._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData3,"tooltip-effect":"dark","max-height":"500"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{label:"日期",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{"font-size":"12px",color:"#409EFF"}},[t._v("["+t._s(e.row.read)+"]")]),t._v(t._s(e.row.create_time))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"姓名",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"title",label:"标题",width:"120"}})],1),t._v(" "),i("div",{staticClass:"pages"},[i("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),i("el-tab-pane",{attrs:{label:"发件箱",name:"second"}},[i("div",{staticClass:"work"}),t._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData1,"tooltip-effect":"dark","max-height":"500"},on:{"selection-change":t.handleSelectionChange1}},[i("el-table-column",{attrs:{label:"日期",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{"font-size":"12px",color:"#409EFF"}},[t._v("["+t._s(e.row.read)+"]")]),t._v(t._s(e.row.create_time))]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"title",label:"标题","show-overflow-tooltip":""}})],1),t._v(" "),i("div",{staticClass:"pages"},[i("el-pagination",{attrs:{"current-page":t.page1.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page1.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.page1.countpage},on:{"size-change":t.handleSizeChange1,"current-change":t.handleCurrentChange1}})],1)],1),t._v(" "),i("el-tab-pane",{attrs:{label:"撰写",name:"third"}},[i("span",{staticClass:"send",on:{click:t.sendmsg}},[t._v("发送")]),t._v(" "),i("div",[t._v("\n                      接收者：\n                      "),i("el-input",{attrs:{placeholder:"输入接受者的ID,多人用逗号分隔"},model:{value:t.nameId,callback:function(e){t.nameId=e},expression:"nameId"}})],1),t._v(" "),i("div",[t._v("\n                      标题：\n                      "),i("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),i("div",[t._v("\n                      内容：\n                      "),i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1)])],1)],1),t._v(" "),i("el-button",{attrs:{slot:"reference"},slot:"reference"},[i("el-badge",{staticClass:"item",attrs:{value:t.page.countpage||null,max:99}},[i("el-button",{attrs:{size:"small"}},[i("span",{staticClass:"tx"},[i("span",{staticClass:"iconfont icon-yunpingtai_shouye-tixing"}),t._v("\n                      提醒\n                    ")])])],1)],1)],1)],1),t._v(" "),i("li",{staticClass:"bor"},[i("span",{staticClass:"daochu",on:{click:t.first}},[t._v("退出")])])])])])])])},staticRenderFns:[]};var C=a("VU/8")(w,k,!1,function(t){a("Qrcc")},"data-v-1823f746",null).exports,$={name:"SidebarItem",props:{item:{type:Object,required:!0}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.item.items?a("span",{staticClass:"navlist"},[0==t.item.items.length?[a("el-menu-item",{attrs:{index:"/"+t.item.menu_route}},[a("i",{class:"iconfont "+t.item.icon}),t._v("\n        "+t._s(t.item.menu_name)+"\n      ")])]:a("el-submenu",{attrs:{index:"/"+t.item.menu_route}},[a("template",{slot:"title"},[a("i",{class:"iconfont "+t.item.icon}),t._v("\n      "+t._s(t.item.menu_name)+"\n    ")]),t._v(" "),t._l(t.item.items,function(e,i){return[e.items&&0!==e.items.length?a("sidebar-item",{key:i,attrs:{item:e}}):a("el-menu-item",{key:e.menu_route,attrs:{index:"/"+e.menu_route}},[t._v("\n        "+t._s(e.menu_name)+"\n      ")])]})],2)],2):t._e()},staticRenderFns:[]};var z=a("VU/8")($,S,!1,function(t){a("1Axe")},"data-v-35787df8",null).exports,F={name:"Navbar",data:function(){return{userId:1,navbardata:[],rightdata:{},leftdata:[],title:"",icon:"",domIindex:0,keys:[],rightflag:!0,permission:[]}},watch:{"$route.path":function(){this.navbardata1()}},beforeMount:function(){this.navbardata1()},components:{SidebarItem:z},methods:{getpermission:function(){},handleOpen:function(t,e,a){console.log(t,e,this.$route.path,a)},handleClose:function(t,e){console.log(t,e)},sortnumber:function(t,e){return t-e},navbardata1:function(){var t=this,e=[];this.axios.get("/api/v1/admin/menu").then(function(a){var i=a.data.data;t.NestedToFlat(i).map(function(e,a){0==e.flag&&t.permission.push(e)}),sessionStorage.setItem("buttonspermissions",c()(t.permission)),function t(e,a){for(var i in e)if(0!==e[i].items.length){for(var n in e[i].items)if(0==e[i].items[n].flag){e[i].items=[];break}t(e[i].items,a)}return e}(i,[]);var n,s=[];for(var o in i)s.push(i[o].sort);s.sort(t.sortnumber),s.map(function(t){for(var a in i)t==i[a].sort&&e.push(i[a])}),console.log(e),t.navbardata=e,console.log(t.$route),t.navbardata.map(function(e,a){console.log(t.$route.path.indexOf(e.menu_route)),-1!==t.$route.path.indexOf("/"+e.menu_route+"/")&&(console.log(e.menu_route,a),n=a),t.$route.path=="/"+e.menu_route&&(n=a)}),console.log(t.navbardata,n)}).catch(function(t){console.log(t)})},showright:function(t){var e=this.navbardata[this.keys[t]];this.title=e.menu_name,this.icon=e.icon,this.rightdata=e.items,this.domIindex=t,0==e.items.length?(console.log(e.menu_route),this.rout(e.menu_route),this.$refs.nav.style.width="122px",this.rightflag=!1):(this.$refs.nav.style.width="332px",this.rightflag=!0)},rout:function(t){this.$router.push("/"+t)},NestedToFlat:function(t){var e=[];for(var a in t)e.push(t[a]),0!==t[a].items.length&&(e=e.concat(this.NestedToFlat(t[a].items)));return e},findroute:function(t,e){for(var a in t){if(t[a].id==e)return t[a].pid?(e=t[a].pid,this.findroute(t,e)):t[a].id}}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"nav",staticClass:"nav"},[a("ul",{directives:[{name:"show",rawName:"v-show",value:t.rightflag,expression:"rightflag"}],staticClass:"right"},[a("li",[a("ul",[a("el-row",{staticClass:"tac"},[a("el-col",{attrs:{span:12}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.$route.path,"text-color":"#fff","active-text-color":"#00CBA3",router:""},on:{select:function(e){t.handleOpen(e)},close:t.handleClose}},t._l(t.navbardata,function(t,e){return a("sidebar-item",{key:e,attrs:{item:t}})}),1)],1)],1)],1)])])])},staticRenderFns:[]};var D={name:"layout",components:{top:C,Navbar:a("VU/8")(F,A,!1,function(t){a("yVGC")},"data-v-1aece442",null).exports}},V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-wrapper"},[e("div",{staticClass:"head"},[e("top")],1),this._v(" "),e("div",{staticClass:"main-container"},[e("Navbar"),this._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view",[this._v("1")])],1)],1)])},staticRenderFns:[]};var E=a("VU/8")(D,V,!1,function(t){a("O5bS")},"data-v-cb22028c",null).exports,L={data:function(){return{role:""}},mounted:function(){var t=this.$store.state.userInfo;"string"==typeof t&&(t=JSON.parse(t)),this.role=t},methods:{first1:function(){this.$router.push({path:"/admin/Groupsettings"})},first2:function(){this.$router.push({path:"/Gauge/alltest"})},first3:function(){this.$router.push({path:"/Consultation/appointment"})},first4:function(){this.$router.push({path:"/data/vrdata/presentation"})},first5:function(){this.$router.push({path:"/artical/column"})}}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scrren"},[a("div",{staticClass:"top1"},[a("div",{staticClass:"right"},[a("div",{staticClass:"help"},[a("span",[t._v(t._s(t.role.name))]),t._v(" "),a("i",[t._v(" 使用帮助")])]),t._v(" "),a("div",{staticClass:"dear"},[t._v("亲爱的"+t._s(t.role.name)+",欢迎登陆心理管理系统")]),t._v(" "),a("div",{staticClass:"btn"},[t._v("点击下方磁片。快捷进入相应的办公界面")])])]),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"box1"},[t._m(0),t._v(" "),a("div",{staticClass:"box22"},[a("div",{staticClass:"a1",on:{click:t.first1}},[a("span",{staticClass:"iconfont icon-renyuanguanli font"}),t._v("\n          人员管理\n        ")])])]),t._v(" "),a("div",{staticClass:"box2"},[a("div",{staticClass:"box33",staticStyle:{"background-color":"#BDD8E1"},on:{click:t.first2}},[a("span",{staticClass:"iconfont icon-baobei font"}),t._v("\n        测评中心\n      ")]),t._v(" "),a("div",{staticClass:"box33",staticStyle:{"background-color":"#CEBCE4"},on:{click:t.first3}},[a("span",{staticClass:"iconfont icon-zixun font"}),t._v("咨询中心\n      ")]),t._v(" "),a("div",{staticClass:"box33",staticStyle:{"background-color":"#E8C1BA"},on:{click:t.first4}},[a("span",{staticClass:"iconfont icon-dangan font"}),t._v("数据中心\n      ")]),t._v(" "),a("div",{staticClass:"box33",staticStyle:{"margin-right":"0","background-color":"#BED1E2"},on:{click:t.first5}},[a("span",{staticClass:"iconfont icon-weijibaogao font"}),t._v("文章管理\n      ")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box11"},[e("h4",[this._v("通知")]),this._v(" "),e("p",[this._v("     你们好本土化、多维度的专业生涯测评，帮助学生选择合适的专业领域本土化、多维度的专业生涯测评，帮助学生选择合适的专业领域")])])}]};var j=a("VU/8")(L,T,!1,function(t){a("zZLh")},"data-v-68f967ae",null).exports,I=(a("OMJi"),{data:function(){return{key:value}},methods:{handleDownload:function(){var t=this;a.e(0).then(function(){var e=a("zWO4").export_json_to_excel,i=t.tableData3,n=t.tHeader,s=t.filterVal;e(n,t.formatJson(s,i),"导出的列表excel")}.bind(null,a)).catch(a.oe)},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})}},props:["tableData3","tHeader","filterVal"]}),R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"del",on:{click:this.handleDownload}},[this._v("导出")])])},staticRenderFns:[]};a("VU/8")(I,R,!1,function(t){a("QJL2")},"data-v-0f242b7c",null).exports;var P={data:function(){return{treeflag:!1,newvalue:"",item:"",filterText:"",data2:"",defaultProps:{children:"children",label:"name"}}},mounted:function(){console.log(this.data2),console.log(this.inputName)},created:function(){this.getshoolcheck(),console.log(this.data2)},watch:{filterText:function(t){this.$refs.tree2.filter(t),console.log(t)},inputName:function(){this.newvalue=this.inputName}},methods:{getshoolcheck:function(){var t=this;this.axios.get("/api/v1/admin/unit/list/pid?pid=0").then(function(e){var a=e.data.data;if(console.log(a),(a=To.treeData(a,"id","pid","items")).length>0){var i=[];t.func(a,i),t.inputName||(t.newvalue=i[0].name,t.item=i[0],console.log(t.item))}t.data2=i})},func:function(t,e){for(var a in t)if(e.push(t[a]),0!==t[a].items){var i=[];t[a].children=i,this.func(t[a].items,i)}},filterNode:function(t,e){return console.log(t),console.log(e),!t||-1!==e.name.indexOf(t)},nodeclick:function(t,e,a){console.log(t,e,a),this.newvalue=t.name,this.item=t,this.treeflag=!this.treeflag},showtree:function(){this.treeflag=!this.treeflag}},props:["inputName"]},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"inpu"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newvalue,expression:"newvalue"}],attrs:{type:"button",id:"school"},domProps:{value:t.newvalue},on:{click:function(e){t.showtree()},input:function(e){e.target.composing||(t.newvalue=e.target.value)}}}),t._v(" "),a("span",{staticClass:"iconfont icon-xuanzekuang",on:{click:function(e){t.showtree()}}})]),t._v(" "),t.treeflag?a("div",{staticClass:"tree"},[a("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}}),t._v(" "),a("div",{staticClass:"box"},[a("el-tree",{ref:"tree2",staticClass:"filter-tree",attrs:{"check-on-click-node":!0,"highlight-current":!0,data:t.data2,props:t.defaultProps,"default-expand-all":"","filter-node-method":t.filterNode},on:{"node-click":t.nodeclick}})],1)],1):t._e()])},staticRenderFns:[]};var W=a("VU/8")(P,N,!1,function(t){a("O+pW")},"data-v-74c6d2cc",null).exports,U={data:function(){var t;return t={dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:""},form1:{name:"",id:"",pid:""},isbtnActive:!1,returnpids:[],returnName:[{id:0,name:"组别数据"}],pid:0,isactive:"",time:"",page:{currentpage:1,countpage:10,pagesize:10,flag:!1},index1:"",addflag:!1},v()(t,"dialogFormVisible",!1),v()(t,"formLabelWidth","120px"),v()(t,"values",{sort:"",name:"",type:""}),v()(t,"thead",["序号","名称","操作"]),v()(t,"filterVal",["id","name"]),v()(t,"tableData3",[]),v()(t,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),v()(t,"slicedata",[]),v()(t,"multipleSelection",[]),t},created:function(){this.getList();var t=(new Date).getFullYear();this.time=t,console.log(this.pid)},methods:{handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},bread:function(t,e){console.log(t,e,this.returnName),this.returnName=this.returnName.slice(0,e+1);var a=this;0!=t?this.axios.get("/api/v1/admin/unit/list/pid?pid="+t).then(function(e){var i=e.data.data,n=[];for(var s in i)for(var o in i[s].items)n.push(i[s].items[o]);a.tableData3=n,a.page.countpage=a.tableData3.length,a.pid=t,0==n.length&&a.$message("该类型没有子数据")}):this.getList()},treeData:function(t,e,a,i){var n=JSON.parse(c()(t));return n.filter(function(t){var s=n.filter(function(i){return t[e]==i[a]});return s.length>0&&(t[i]=s),0==t[a]})},getList:function(){var t=this;this.axios.get("/api/v1/admin/unit/list/pid?pid=0").then(function(e){if(0==e.data.code){var a=e.data.data,i=[];for(var n in a=t.treeData(a,"id","pid","children"))i.push(a[n]);if(t.tableData3=i,0===a.length)t.pid=0;else{var s=t.tableData3[0].pid;t.pid=s}t.page.countpage=t.tableData3.length,console.log(t.page.pagesize,t.page.currentpage)}else t.$message(e.data.msg)}).catch(function(e){t.$message(e)})},getpagedata:function(t,e){var a=this.tableData3,i=Math.ceil(a.length/t);this.slicedata=e<i?this.tableData3.slice((e-1)*t,e*t-1):this.tableData3.slice((e-1)*t),console.log(this.slicedata,this.tableData3)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t},findlistson:function(t,e,a,i){var n={};n.id=e,n.name=i,this.returnName.push(n),this.returnpids.push(a);var s=this;this.axios.get("/api/v1/admin/unit/list/pid?pid="+e).then(function(t){var a=t.data.data,i=[];for(var n in a)for(var o in console.log(a[n]),a[n].items)i.push(a[n].items[o]);s.tableData3=i,console.log(i),s.page.countpage=s.tableData3.length,s.pid=e,0==i.length&&s.$message("该类型没有子数据，可以添加")})},return1:function(t){var e;if(t?e=t:(e=this.returnpids[this.returnpids.length-1],this.returnpids.splice(this.returnpids.length-1,1),this.returnName.splice(this.returnName.length-1,1),console.log(this.pid)),0!=e){console.log(e,this.returnpids,this.returnName);var a=this;this.axios.get("/api/v1/admin/unit/list/pid?pid="+e).then(function(t){var i=t.data.data,n=[];for(var s in i)for(var o in i[s].items)n.push(i[s].items[o]);a.tableData3=n,a.page.countpage=a.tableData3.length,a.pid=e,0==n.length&&a.$message("该类型没有子数据")})}else this.getList()},addnumber:function(){this.dialogFormVisible=!0},complete:function(){var t=this;this.addflag=!1,console.log(this.values,this.pid),this.axios.post("/api/v1/admin/unit/save",{pid:this.pid,name:this.form.name}).then(function(e){if(console.log(e),0==e.data.code){var a=e.data.data;t.tableData3.push(a),t.$message("添加组别成功"),t.dialogFormVisible=!1}else alert(e.data.msg)})},queding:function(t,e,a){var i=this;console.log(t,e);t=this.form1.id,a=this.form1.pid;var n=this.form1.name;console.log(t,a,n),this.axios.post("/api/v1/admin/unit/save",{id:t,pid:a,name:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("保存成功"),i.dialogFormVisible1=!1,i.return1(a)):i.$message(t.data.msg)}),this.addflag=!1,this.index1=""},cancle:function(t){this.addflag=!1,this.index1="",console.log("zg")},setting:function(t,e,a){console.log(t),this.form1.id=t,this.form1.name=e,this.form1.pid=a,this.dialogFormVisible1=!0},del:function(t){var e=this;console.log(t);var a=this;this.$confirm("此操作将永久删除该组别, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.get("/api/v1/admin/unit/list/pid?pid="+t).then(function(e){var i=e.data.data,n=[];for(var s in i)for(var o in console.log(i[s]),i[s].items)n.push(i[s].items[o]);0!==n.length?a.$message("该类型具有子数据，不能删除"):a.axios.post("/api/v1/admin/unit/delUnitGroup",{id:[t]}).then(function(e){0==e.data.code&&(a.$message("删除成功"),a.tableData3.map(function(e,i){e.id==t&&a.tableData3.splice(i,1)}),console.log(a.tableData3))})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDelAll:function(){for(var t=this.$refs.icheck,e=[],a=[],i=0;i<t.length;i++)if(t[i].checked){var n=t[i].value;console.log(n),e.push(n)}console.log(e);for(i=0;i<e.length;i++)this.tableData3.map(function(t,n){t.id==e[i]&&a.push(t)});console.log(a)},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,i=0;i<e.length;i++)0==e[i].checked&&(a=!1);event.target.checked?(this.isbtnActive=!0,event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA"):event.target.parentNode.parentNode.style.backgroundColor="",t.checked=a},handleDownload:function(){var t=this,e=this;a.e(0).then(function(){var i=a("zWO4").export_json_to_excel,n=t.multipleSelection;(console.log(n),0!=n.length)?i(["ID","名称"],e.formatJson(["id","name"],n),"导出的列表excel"):t.$message("请选择当前页数据导入")}.bind(null,a)).catch(a.oe)},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},changecolor:function(t){this.isactive=t-0+1},colorcancel:function(){this.isactive=""}},components:{schoolcheck:W}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t._m(0),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"bread"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.returnName,function(e,i){return a("el-breadcrumb-item",{key:i,staticStyle:{"padding-top":"10px"}},[a("span",{staticStyle:{color:"#169bd5",cursor:"pointer"},on:{click:function(a){t.bread(e.id,i)}}},[t._v(t._s(e.name))])])}),1)],1),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"export",class:{btnactive:t.isbtnActive},on:{click:t.handleDownload}},[t._v("\n          导出\n          "),a("i",{staticClass:"iconfont icon-daochu1"})])]),t._v(" "),a("div",{staticClass:"datas"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData3.slice((t.page.currentpage-1)*t.page.pagesize,t.page.currentpage*t.page.pagesize),"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"type",on:{click:function(a){t.findlistson(a,e.row.id,e.row.pid,e.row.name)}}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.setting(e.row.id,e.row.name,e.row.pid)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"组别添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"组别名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.complete()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"组别编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"组别名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.queding()}}},[t._v("确 定")])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentpage,"page-sizes":[10,20,30,40,60],"page-size":t.page.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",[t.addflag?a("div",{staticClass:"complete",on:{click:function(e){t.complete()}}},[t._v("完成")]):a("div",{staticClass:"add",on:{click:function(e){t.addnumber()}}},[t._v("新增")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"head"},[e("div",{staticClass:"a1",staticStyle:{color:"#00CBA3"}},[this._v("单位组别设置")]),this._v(" "),e("span",{staticClass:"a2"},[this._v("单位组别设置，导出,删除【注意：具有子数据不能删除只能单个删除】")])])}]};var O=a("VU/8")(U,B,!1,function(t){a("MWNF")},"data-v-22a0bafc",null).exports,M=a("AJcs"),q=a.n(M),H=a("2T5n"),Y=a("spLH"),G={data:function(){return{isbtnActive:!1,form:{job_num:"",phone:"",name:"",age:"",unit_group:"",sex:""},isactive:"",headson:["学生资料管理","学生资料信息"],tabls:["查询列表","学生资料转移","密码操作"],tabindex:1,page:{currentPage:1,total:0,flag:!1,size:20},index1:"",addflag:!1,dialogFormVisible1:!1,values:{password:"",againpass:""},thead:["id","学号","姓名","性别","年龄","班级","操作"],tableData3:[],submitflag:!0}},watch:{},created:function(){this.getList(this.page.currentPage,this.page.size)},methods:{changegroup:function(){var t=this.$refs.schoolcheck11.item.id-0,e=this.$refs.schoolcheck22.item.id-0;this.axios.get("api/v1/admin/user/changeUnitGroup?srcid="+t+"&dstid="+e).then(function(t){0==t.data.code?alert("转移资料成功"):alert(t.data.msg)})},getList:function(t,e,a){var i=this;this.axios.post("/api/v1/admin/user/student/list",{page:t,size:e,w:a}).then(function(t){var e=t.data.data.data;e.map(function(t,e){if(t.birth_date){var a=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,i=Math.floor(a/8640);console.log(i),t.age=i}else t.age="null";t.name||(t.name="null"),t.sex=t.sex+"",0==t.sex?t.sex="女":t.sex="男"}),i.tableData3=e,i.tableData3=e,i.page.total=t.data.data.total,console.log(e)})},showtable:function(){this.$refs.schoolcheck.treeflag=!1,this.$refs.schoolcheck.newvalue,this.form.unit_group=this.$refs.schoolcheck.item.id-0,console.log(this.form);var t={};for(var e in this.form)this.form[e]&&(t[e]=this.form[e]);this.getList(this.page.currentPage,this.page.size,t)},handleSizeChange:function(t){this.page.size=t,this.getList(this.page.currentPage,this.page.size)},handleCurrentChange:function(t){this.page.currentPage=t,this.getList(this.page.currentPage,this.page.size)},addnumber:function(){this.addflag=!0,console.log(this.addflag)},queding:function(t){if(this.dialogFormVisible1=!1,console.log(this.value1,this.index1),this.addflag=!1,this.values.password===this.values.againpass){var e={id:this.index1,password:q()(this.values.password),repassword:q()(this.values.againpass)};this.axios.post("/api/v1/admin/user/pwdReset",e).then(function(t){0==t.data.code?alert("重置密码成功"):t.data.msg})}else this.$message("两次输入密码不相同")},cancle:function(t){this.addflag=!1,this.index1=""},setting:function(t){this.dialogFormVisible1=!0,this.index1=t-0,console.log(t,this.index1)},del:function(t){var e=this,a=[];if(t)a.push(t);else{for(var i=this.$refs.icheck,n=0;n<i.length;n++)if(i[n].checked){var s=i[n].value;a.push(s)}if(0==a.length)return void this.$message("请至少选择一个删除")}console.log(a);var o=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.post("/api/v1/admin/user/delRole",{id:a}).then(function(t){console.log(t),0==t.data.code?(o.getList(o.page.currentPage,o.page.size),o.$message("删除成功")):o.$message(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDelAll:function(){for(var t=this,e=this.$refs.icheck,a=[],i=0;i<e.length;i++)if(e[i].checked){var n=e[i].value;console.log(n),a.push(n)}console.log(a);var s=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/admin/user/delRole",{id:a}).then(function(t){console.log(t),0==t.data.code?(s.getList(s.page.currentPage,s.page.size),s.$message("删除成功")):s.$message(t.data.msg)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,i=0;i<e.length;i++)0==e[i].checked&&(a=!1);t.checked=a,event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor=""},handleDownload:function(){this.tableData3;for(var t=this.$refs.icheck,e=[],a=[],i=0;i<t.length;i++)if(t[i].checked){var n=t[i].value;console.log(n),e.push(n)}console.log(e);for(i=0;i<e.length;i++)this.tableData3.map(function(t,n){t.id==e[i]&&a.push(t)});console.log(a);var s=this.thead;To.handleDownload(s,["id","job_num","name","unit_group","phone","auth_group_id","last_login"],a)},tab:function(t){console.log(t),this.tabindex=t-0+1},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},changecolor:function(t){this.isactive=t-0+1},colorcancel:function(){this.isactive=""},checknode:function(){console.log(this.$refs.schoolcheck1.newvalue),this.form.unit_group=this.$refs.schoolcheck1.item.id-0,console.log(this.form);var t={};for(var e in this.form)this.form[e]&&(t[e]=this.form[e]);this.getList(this.page.currentPage,this.page.size,t)},reset:function(){}},components:{schoolcheck:W,headson:H.a,pagination:Y.a}},Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,i){return a("li",{key:i,class:{tabactive:t.tabindex-1==i},on:{click:function(e){t.tab(i)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"search"},[a("ul",[a("li",[a("table",{staticClass:"tbs"},[a("tr",[a("td",[t._v("工号")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.job_num,expression:"form.job_num"}],staticStyle:{height:"40px",width:"100%"},attrs:{type:"number",placeholder:"请输入数字",min:"0",onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}"},domProps:{value:t.form.job_num},on:{input:function(e){e.target.composing||t.$set(t.form,"job_num",e.target.value)}}})]),t._v(" "),a("td",[t._v("性别")]),t._v(" "),a("td",[a("el-select",{attrs:{name:"",id:"type",clearable:""},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[a("el-option",{attrs:{value:"0",label:"女"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"男"}})],1)],1),t._v(" "),a("td",[t._v("姓名")]),t._v(" "),a("td",[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("手机")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticStyle:{height:"40px",width:"100%"},attrs:{type:"number",placeholder:"请输入数字",min:"0",onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}"},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}})]),t._v(" "),a("td",[t._v("范围")]),t._v(" "),a("td",[a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck"})],1)]),t._v(" "),a("td",[t._v("年龄")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.age,expression:"form.age"}],staticStyle:{height:"40px",width:"100%"},attrs:{type:"number",placeholder:"请输入数字",min:"0",onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}"},domProps:{value:t.form.age},on:{input:function(e){e.target.composing||t.$set(t.form,"age",e.target.value)}}})])])])])])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",class:{btnactive:t.isbtnActive},on:{click:t.handleDownload}},[t._v("\n              导出\n              "),a("i",{staticClass:"iconfont icon-daochu1"})]),t._v(" "),a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:function(e){t.del()}}},[t._v("\n              删除\n              "),a("i",{staticClass:"iconfont icon-trash"})]),t._v(" "),a("span",{staticClass:"dev",on:{click:t.showtable}},[t._v("查询")])]),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,i){return a("th",{key:i},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.tableData3,function(e,i){return a("tr",{key:i,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(i)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.id},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",[a("span",[t._v(t._s(e.id))])]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.job_num))]),t._v(" "),a("td",{staticClass:"class"},[a("router-link",{attrs:{to:"/admin/settingStudent?id="+e.id,tag:"a"}},[t._v(t._s(e.name))])],1),t._v(" "),a("td",[a("span",[t._v(t._s(e.sex))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.age))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.unit_group_name))])]),t._v(" "),a("td",[[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.del(e.id)}}},[t._v("删除")])]],2)])}),0)])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])]):2==t.tabindex?a("li",{staticClass:"data2"},[a("span",{staticStyle:{color:"#6999fd",fontsize:"12px"}},[t._v("提示：如果目标组别没有对应的数据集或者数据集为空则不能进行迁移数据\n")]),t._v(" "),a("ul",[a("li",{staticClass:"zy1"},[a("span",[t._v("原位：")]),t._v(" "),a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck11"})],1)]),t._v(" "),a("li",{staticClass:"zy2"},[a("span",[t._v("目标：")]),t._v(" "),a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck22"})],1)])]),t._v(" "),t.submitflag?a("div",{staticClass:"submit",on:{click:t.changegroup}},[t._v("提交")]):a("div",{staticClass:"complet"},[t._v("操作完成")])]):a("li",{staticClass:"data3"},[a("div",{staticClass:"search"},[a("ul",[t._m(0),t._v(" "),a("li",[a("span",[t._v("范围：")]),t._v(" "),a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck1"})],1)]),t._v(" "),a("li",[a("span",{staticClass:"iconfont icon-sousuo",on:{click:t.checknode}})])])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"work"}),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,i){return a("th",{key:i},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.tableData3,function(e,i){return a("tr",{key:i,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(i)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.sort},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",[a("span",[t._v(t._s(e.id))])]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.job_num))]),t._v(" "),a("td",{staticClass:"class"},[a("router-link",{attrs:{to:"/admin/settingStudent?"+e.sort,tag:"a"}},[t._v(t._s(e.name))])],1),t._v(" "),a("td",[a("span",[t._v(t._s(e.sex))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.age))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.unit_group_name))])]),t._v(" "),a("td",[[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.setting(e.id)}}},[t._v("重置密码")])]],2)])}),0)])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"密码编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"重设密码"}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"password",placeholder:"英文大小写，数字，符号 4-20位"},model:{value:t.values.password,callback:function(e){t.$set(t.values,"password",e)},expression:"values.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码"}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"password",placeholder:"英文大小写，数字，符号 4-20位"},model:{value:t.values.againpass,callback:function(e){t.$set(t.values,"againpass",e)},expression:"values.againpass"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.queding()}}},[t._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("密码重置")]),this._v(" "),e("span",{staticClass:"iconfont icon-wenhao"})])}]};var X=a("VU/8")(G,Z,!1,function(t){a("0gKM")},"data-v-1c57e9ea",null).exports,J=(a("Ya8g"),{data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,dialogFormVisible2:!1,formLabelWidth:"120px",form:{name:""},form1:{name:"",id:"",pid:""},isbtnActive:!1,data2:[],defaultProps:{children:"item",label:"menu_name"},ichecks:[],isactive:"",page:{currentPage:1,countpage:"",pagesize:1,flag:!1,offset:0,size:"20"},index1:"",addflag:!1,values:{value1:"",value2:""},thead:["序号","角色","ID","操作"],tableData3:[]}},created:function(){this.getList(),console.log(this.index1)},mounted:function(){console.log(11111111111)},methods:{getList:function(){var t=this;this.axios.get("/api/v1/admin/user/roleGroup").then(function(e){0==e.data.code?(e.data.data.map(function(t,e){if(0==t[status])return t}),t.tableData3=e.data.data,t.$store.commit("setGroup")):t.$message(e.data.msg);console.log(t.tableData3)}).catch(function(t){alert(t)}),this.countpage=Math.ceil(this.tableData3.length/this.pagesize)},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t)},addnumber:function(){this.dialogFormVisible=!0,console.log(this.addflag)},complete:function(){this.addflag=!1;var t=this;this.axios.post("/api/v1/admin/user/addRoleGroup",{title:this.form.name}).then(function(e){console.log(e),0==e.data.code&&(t.$message("增加成功"),t.dialogFormVisible=!1,t.getList(),t.values.value1="")})},queding:function(t,e){console.log(t,e);var a=[];a.push(this.form1.id),console.log(a),this.getCheckedNodes();var i=this;this.axios.post("/api/v1/admin/user/editRoleGroup",{id:a,title:this.form1.name,status:"1"}).then(function(t){console.log(t),0==t.data.code?(i.$message("编辑成功"),i.dialogFormVisible1=!1,i.getList()):i.$message(t.data.msg)}),this.addflag=!1,this.index1=""},cancle:function(t){this.addflag=!1,this.index1="",console.log("zg")},setting:function(t,e){console.log(t),this.form1.id=t,this.form1.name=e,this.permission(t),this.dialogFormVisible1=!0},del:function(t){var e=this,a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.get("/api/v1/admin/user/deleteRoleGroup?id="+t).then(function(t){0==t.data.code?(a.$message("删除成功"),a.getList()):a.$message(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDelAll:function(){for(var t=this.$refs.icheck,e=[],a=0;a<t.length;a++)if(t[a].checked){var i=t[a].value;console.log(i),e.push(i)}console.log(e)},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,i=0;i<e.length;i++)0==e[i].checked&&(a=!1);event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor="",t.checked=a},permission:function(t){if(t?(console.log(t),this.ichecks.push(t)):this.dialogFormVisible2=!0,!1===To.actioncheck("permission"))return this.$message.error("错误提示。您没有权限操作的权限"),!1;for(var e=this.$refs.icheck,a=0;a<e.length;a++)1==e[a].checked&&this.ichecks.push(e[a].value);if(console.log(this.ichecks),0==this.ichecks.length)alert("请至少选择一个角色");else{var i=this;this.axios.get("/api/v1/admin/rules").then(function(t){var e=t.data.data,a=i.copy(e,[]);i.data2=a})}},changecolor:function(t){this.isactive=t},colorcancel:function(){this.isactive=""},getCheckedNodes:function(){var t=[];if(this.$refs.tree.getCheckedNodes().concat(this.$refs.tree.getHalfCheckedNodes()).map(function(e){t.push(e.id)}),0!==t.length){var e=this;e.axios.post("/api/v1/admin/user/editRoleGroup",{id:e.ichecks,rules:t}).then(function(t){0==t.data.code?(e.$message("权限设置成功"),e.dialogFormVisible2=!1):e.$message("权限提交失败")})}else this.$message("请为角色组选择权限或者取消")},copy:function(t,e){for(var a in t)if(e.push(t[a]),0!==t[a].items.length){var i=[];t[a].item=i,this.copy(t[a].items,i)}return e}}}),Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t._m(0),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",class:{btnactive:t.isbtnActive},on:{click:function(e){t.permission(0)}}},[t._v("\n          权限\n          "),a("i",{staticClass:"iconfont icon-daochu1"})])]),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,i){return a("th",{key:i},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",[t.addflag?[a("tr",[t._m(1),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(t.tableData3.length+1))]),t._v(" "),a("td",{staticClass:"class"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value1,expression:"values.value1"}],attrs:{type:"text"},domProps:{value:t.values.value1},on:{input:function(e){e.target.composing||t.$set(t.values,"value1",e.target.value)}}})]),t._v(" "),a("td",[t._v("\n                  *\n                ")]),t._v(" "),a("td",[a("el-button",{attrs:{size:"mini"},on:{click:function(e){e.stopPropagation(),t.complete()}}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){e.stopPropagation(),t.cancle()}}},[t._v("取消")])],1)])]:t._e(),t._v(" "),t._l(t.tableData3,function(e,i){return a("tr",{key:i,class:{heightcolor:t.isactive===i},on:{mouseover:function(e){t.changecolor(i)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.id},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(i+1))]),t._v(" "),a("td",{staticClass:"class"},[i===t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"item.title"}],attrs:{type:"text"},domProps:{value:e.title},on:{input:function(a){a.target.composing||t.$set(e,"title",a.target.value)}}}):a("span",[t._v(t._s(e.title))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.id))])]),t._v(" "),a("td",[[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.setting(e.id,e.title)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.del(e.id)}}},[t._v("删除")])]],2)])})],2)]),t._v(" "),a("el-dialog",{attrs:{title:"角色添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"角色名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.complete()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"角色编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"角色名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"角色权限","label-width":t.formLabelWidth}},[a("el-tree",{ref:"tree",attrs:{data:t.data2,"show-checkbox":"","node-key":"id","highlight-current":"",props:t.defaultProps}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.queding()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"权限设置",visible:t.dialogFormVisible2,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[a("el-tree",{ref:"tree",attrs:{data:t.data2,"show-checkbox":"","node-key":"id","highlight-current":"",props:t.defaultProps}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.getCheckedNodes}},[t._v("确 定")])],1)],1)],1)]),t._v(" "),a("div",[t.addflag?a("div",{staticClass:"complete",on:{click:function(e){t.complete()}}},[t._v("完成")]):a("div",{staticClass:"add",on:{click:function(e){t.addnumber()}}},[t._v("新增")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"head"},[e("div",{staticClass:"a1",staticStyle:{color:"#00CBA3"}},[this._v("管理员类型")]),this._v(" "),e("span",{staticClass:"a2"},[this._v("单位组别设置，导出")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{align:"center"}},[e("input",{staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"}})])}]};var K=a("VU/8")(J,Q,!1,function(t){a("Fqc/")},"data-v-1d2e8210",null).exports,tt={data:function(){return{isactive:"",index1:"",values:{value1:"",value2:"",value3:""},addflag:!1}},created:function(){},methods:{queding:function(t){console.log(this.value1),this.addflag=!1,this.index1=""},cancle:function(t){this.addflag=!1,this.index1=""},setting:function(t){console.log(t),this.index1=t},del:function(t){},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,i=0;i<e.length;i++)0==e[i].checked&&(a=!1);t.checked=a},changecolor:function(t){console.log(t),this.isactive=t-0+1},colorcancel:function(){this.isactive=""},addnumber:function(){this.addflag=!this.addflag,console.log(this.addflag)}},props:["table"]},et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.table.thead,function(e,i){return a("th",{key:i},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",[t._l(t.table.tableData3,function(e,i){return a("tr",{key:i,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(i)},mouseout:function(e){t.colorcancel()},click:function(a){t.setting(e.sort)}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.sort},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.sort))]),t._v(" "),a("td",{staticClass:"class"},[e.sort==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.class,expression:"item.class"}],attrs:{type:"text"},domProps:{value:e.class},on:{input:function(a){a.target.composing||t.$set(e,"class",a.target.value)}}}):a("router-link",{attrs:{to:"/admin/grade.vue/"+e.sort,tag:"a"}},[t._v(t._s(e.class))])],1),t._v(" "),a("td",[e.sort==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}}):a("span",[t._v(t._s(e.name))])]),t._v(" "),a("td",[e.sort==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.ID,expression:"item.ID"}],attrs:{type:"text"},domProps:{value:e.ID},on:{input:function(a){a.target.composing||t.$set(e,"ID",a.target.value)}}}):a("span",[t._v(t._s(e.ID))])]),t._v(" "),a("td",[e.sort==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.ID,expression:"item.ID"}],attrs:{type:"text"},domProps:{value:e.ID},on:{input:function(a){a.target.composing||t.$set(e,"ID",a.target.value)}}}):a("span",[t._v(t._s(e.ID))])]),t._v(" "),a("span",{staticClass:"posi"},[e.sort==t.index1?[a("span",{on:{click:function(a){a.stopPropagation(),t.queding(e.sort)}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(a){if(a.target!==a.currentTarget)return null;t.cancle(e.sort)}}},[t._v("取消")])]:t._e()],2)])}),t._v(" "),t.addflag?[a("tr",[t._m(0),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(t.table.tableData3.length+1))]),t._v(" "),a("td",{staticClass:"class"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value1,expression:"values.value1"}],attrs:{type:"text"},domProps:{value:t.values.value1},on:{input:function(e){e.target.composing||t.$set(t.values,"value1",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value2,expression:"values.value2"}],attrs:{type:"text"},domProps:{value:t.values.value2},on:{input:function(e){e.target.composing||t.$set(t.values,"value2",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value3,expression:"values.value3"}],attrs:{type:"text"},domProps:{value:t.values.value3},on:{input:function(e){e.target.composing||t.$set(t.values,"value3",e.target.value)}}})]),t._v(" "),a("span",{staticClass:"posi"},[a("span",{on:{click:function(e){e.stopPropagation(),t.queding()}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){e.stopPropagation(),t.cancle()}}},[t._v("取消")])])])]:t._e()],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{align:"center"}},[e("input",{staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"}})])}]};var at=a("VU/8")(tt,et,!1,function(t){a("Ampz")},"data-v-75366c4a",null).exports,it={data:function(){return{isbtnActive:!1,detail:"",link:"http://"+window.location.host+"/新建 XLS 工作表.xls",Groupid:"",group:"",isactive:"",index1:"",headson:["管理员列表","查询管理员列表信息"],addflag:!1,values:{value1:"",value2:"",value3:"",value4:"",select:""},form:{job_num:"",phone:"",name:"",age:"",unit_group:"",sex:""},page:{currentPage:1,total:0,flag:!1,size:20},thead:["id","工号","姓名","班级","手机","类型","登录日期","操作"],tableData3:[],dialogFormVisible:!1}},created:function(){this.getList(this.page.currentPage,this.page.size)},mounted:function(){},methods:{down:function(){var t=this;this.axios.get(url,{responseType:"arraybuffer"}).then(function(t){console.log(t)}).catch(function(e){t.err=e})},getList:function(t,e,a){var i=this;this.axios.post("/api/v1/admin/user/roles",{page:t,size:e,w:a}).then(function(t){if(console.log(t),0==t.data.code){var e=t.data.data.data;i.tableData3=e,i.page.total=t.data.data.total}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.size=t,this.getList(this.page.currentPage,this.page.size)},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentPage=t,this.getList(this.page.currentPage,this.page.size)},handleDownload:function(){this.tableData3;for(var t=this.$refs.icheck,e=[],a=[],i=0;i<t.length;i++)if(t[i].checked){var n=t[i].value;console.log(n),e.push(n)}console.log(e);for(i=0;i<e.length;i++)this.tableData3.map(function(t,n){t.id==e[i]&&a.push(t)});var s=this.thead;To.handleDownload(s,["id","job_num","name","unit_group","phone","auth_group_id","last_login"],a)},showtable:function(){this.$refs.schoolcheck.treeflag=!1,this.$refs.schoolcheck.newvalue,this.form.unit_group=this.$refs.schoolcheck.item.id-0,console.log(this.form);var t={};for(var e in this.form)this.form[e]&&(t[e]=this.form[e]);this.getList(this.page.currentPage,this.page.size,t)},baseinfo:function(t){this.dialogFormVisible=!0,console.log(t);var e=this;e.axios.post("/api/v1/admin/user/detail",{uid:t}).then(function(t){console.log(t);var a=t.data.data.detail_data,i=t.data.data.unit_group_data,n=[];for(var s in i)n.push(i[s]);i=To.NestedToFlat(n),console.log(i),i.map(function(t,e){if(t.id==a.unit_group)return a.unit_group=t.name}),console.log(a),e.detail=a})},complete:function(){this.addflag=!1,console.log(this.values),this.$refs.tab.addnumber()},queding:function(t){console.log(this.value1),this.addflag=!1,this.index1="",console.log(this.values.select)},cancle:function(t){this.addflag=!1,this.index1="",console.log("zg")},setting:function(t){console.log(t),console.log(this.values.select),this.$router.push({path:"/admin/setAdmin",query:{id:t}})},del:function(t){var e=this;console.log(t);var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.post("/api/v1/admin/user/delRole",{id:[t]}).then(function(t){console.log(t),0==t.data.code?(a.getList(a.page.currentPage,a.page.size),a.$message("删除成功")):a.$message(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDelAll:function(){for(var t=this,e=this.$refs.icheck,a=[],i=0;i<e.length;i++)if(e[i].checked){var n=e[i].value;console.log(n),a.push(n)}console.log(a);var s=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/admin/user/delRole",{id:a}).then(function(t){console.log(t),0==t.data.code?(s.getList(s.page.currentPage,s.page.size),s.$message("删除成功")):s.$message(t.data.msg)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,i=0;i<e.length;i++)0==e[i].checked&&(a=!1);event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor="",t.checked=a},changecolor:function(t){this.isactive=t-0+1},colorcancel:function(){this.isactive=""}},components:{headson:H.a,schoolcheck:W,tables:at,pagination:Y.a}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[a("table",{staticClass:"tbs"},[a("tr",[a("td",[t._v("工号")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.job_num,expression:"form.job_num"}],staticStyle:{height:"40px",width:"100%"},attrs:{type:"number",placeholder:"请输入数量 不超过1000",min:"0",onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}"},domProps:{value:t.form.job_num},on:{input:function(e){e.target.composing||t.$set(t.form,"job_num",e.target.value)}}})]),t._v(" "),a("td",[t._v("性别")]),t._v(" "),a("td",[a("el-select",{attrs:{name:"",id:"type",clearable:""},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[a("el-option",{attrs:{value:"1",label:"男"}}),t._v(" "),a("el-option",{attrs:{value:"0",label:"女"}})],1)],1),t._v(" "),a("td",[t._v("姓名")]),t._v(" "),a("td",[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("手机")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticStyle:{height:"40px",width:"100%"},attrs:{type:"number",placeholder:"请输入数量 不超过1000",min:"0",onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}"},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}})]),t._v(" "),a("td",[t._v("范围")]),t._v(" "),a("td",[a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck"})],1)]),t._v(" "),a("td",[t._v("年龄")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.age,expression:"form.age"}],staticStyle:{height:"40px",width:"100%"},attrs:{type:"number",placeholder:"请输入数量 不超过1000",min:"0",onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}"},domProps:{value:t.form.age},on:{input:function(e){e.target.composing||t.$set(t.form,"age",e.target.value)}}})])])])])])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"work"},[a("span",{staticClass:"del iconfont icon-daochu1",class:{btnactive:t.isbtnActive},on:{click:t.handleDownload}},[t._v("导出")]),t._v(" "),a("span",{staticClass:"dev",on:{click:t.handleDelAll}},[t._v("删除")]),t._v(" "),a("span",{staticClass:"dev",on:{click:t.showtable}},[t._v("查询")])]),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,i){return a("th",{key:i},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.tableData3,function(e,i){return a("tr",{key:i,class:{heightcolor:t.isactive==i},on:{mouseover:function(e){t.changecolor(i)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.id},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.id))]),t._v(" "),a("td",{staticClass:"class"},[a("span",[t._v(t._s(e.job_num))])]),t._v(" "),a("td",[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.baseinfo(e.id)}}},[t._v(t._s(e.name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.unit_group_name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.phone))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.title))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.last_login||"null"))])]),t._v(" "),a("td",[[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.setting(e.id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.del(e.id)}}},[t._v("删除")])]],2)])}),0)]),t._v(" "),a("el-dialog",{attrs:{title:"个人信息",visible:t.dialogFormVisible,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("table",{staticClass:"personinfo"},[a("tr",[a("td",[t._v("账户")]),t._v(" "),a("td",[t._v(t._s(t.detail.account))]),t._v(" "),a("td",[t._v("ID")]),t._v(" "),a("td",[t._v(t._s(t.detail.id))])]),t._v(" "),a("tr",[a("td",[t._v("姓名")]),t._v(" "),a("td",[t._v(t._s(t.detail.name))]),t._v(" "),a("td",[t._v("年龄")]),t._v(" "),a("td",[t._v(t._s(t.detail.birth_date))])]),t._v(" "),a("tr",[a("td",[t._v("班级")]),t._v(" "),a("td",[t._v(t._s(t.detail.unit_group))]),t._v(" "),a("td",[t._v("性别")]),t._v(" "),a("td",[t._v(t._s(t.detail.job_num))])]),t._v(" "),a("tr",[a("td",[t._v("手机")]),t._v(" "),a("td",[t._v(t._s(t.detail.phone))]),t._v(" "),a("td",[t._v("emile")]),t._v(" "),a("td",[t._v(t._s(t.detail.email))])]),t._v(" "),a("tr",[a("td",[t._v("工号")]),t._v(" "),a("td",[t._v(t._s(t.detail.job_num))]),t._v(" "),a("td",[t._v("住址")]),t._v(" "),a("td",[t._v(t._s(t.detail.job_num))])])]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)])],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),t._v(" "),a("div",[a("router-link",{staticClass:"add",attrs:{to:"/admin/addAdmin",tag:"div"}},[t._v("新增")])],1)],1)},staticRenderFns:[]};var st=a("VU/8")(it,nt,!1,function(t){a("AnIS")},"data-v-2281c4e0",null).exports,ot={data:function(){return{links:"http://"+window.location.host+"/user.xlsx",disabled:!0,isbtnActive:!1,cansee:!1,seeflag:!1,passworld:"",startId:"",number:"",isActive:1,shows:!1,filename:"选择文件",file:{uploadPercentage:0,uploadStatus:""},headson:["学生资料录入","录入学生个人资料"],filterText:"",defaultProps:{children:"children",label:"label",treeflag:!1},tabls:["手动导入","从Excel导入","审核自助注册"],tabindex:1,page:{currentPage:1,countpage:"",total:0,size:"20"},isactive:"",index1:"",flag:!1,addflag:!1,values:{value1:"",value2:"",value3:"",value4:""},delId:"",dialogVisible:!1,thead:["学号","姓名","性别","班级","手机","注册时间"],tableData3:[]}},watch:{filterText:function(t){this.$refs.tree2.filter(t),console.log(t)}},created:function(){this.getList(this.page.currentPage,this.page.size),console.log(this.$refs.schoolcheck1)},methods:{getList:function(t,e){var a=this;this.axios.post("/api/v1/admin/user/auditList",{page:t,size:e}).then(function(t){console.log(t),a.page.total=t.data.data.total;var e=t.data.data.unit_group;console.log(e);var i=t.data.data.list;a.tableData3=i;var n=a.NestedToFlat(e);i.map(function(t,e){return n.map(function(e,a){if(t.unit_group==e.id)return console.log(e.id),t.unit_group=e.name}),t.name||(t.name="null"),0==t.sex?t.sex="女":t.sex="男"}),console.log(i)})},goaway:function(){for(var t=this.$refs.icheck,e=[],a=0;a<t.length;a++)if(t[a].checked){var i=t[a].value;console.log(i),e.push(i)}console.log(e),this.axios.post("/api/v1/admin/user/audit",{id:e}).then(function(t){0==t.data.code?alert("审核通过"):t.data.msg})},NestedToFlat:function(t){var e=[];for(var a in t)e.push({id:t[a].id,name:t[a].name,pid:t[a].pid}),0!==t[a].items.length&&(e=e.concat(this.NestedToFlat(t[a].items)));return e},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.size=t,this.getList(this.page.currentPage,this.page.size)},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentPage=t,console.log(this.page.size,this.page.currentPage),this.getList(this.page.currentPage,this.page.size)},tab:function(t){console.log(t),this.tabindex=t-0+1},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},showtree:function(){this.defaultProps.treeflag=!this.defaultProps.treeflag},upload:function(){var t=event.target.value;if(-1!=t.indexOf("xlsx")||-1!=t.indexOf("xls")){new FileReader;var e=this.$refs.myfile.files[0].name;this.filename=e,this.disabled=!1}else alert("文件为空或者文件格式不是excel.请重新选择文件")},getObjectURL:function(t){var e=null;return void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.webkitURL?e=window.webkitURL.createObjectURL(t):void 0!=window.URL&&(e=window.URL.createObjectURL(t)),e},submit2:function(){this.shows=!0;var t=this,e=t.$refs.myfile.files[0],a=new FormData;a.append("file",e),console.log(e);var i={timeout:5e3,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var a=e.loaded/e.total*100;console.log(e),t.file.uploadPercentage=a}};e?t.axios.post("/api/v1/admin/user/upload",a,i).then(function(e){if(console.log(e,i,t.file),0==e.data.code){var a=e.data.data.file_name,n=e.data.data.suffix,s=t.$refs.schoolcheck.item.id;console.log(s),t.axios.post("/api/v1/admin/user/import",{file_name:a,suffix:n,unit_group:s,type:"3"}).then(function(e){console.log(e),0==e.data.code?alert("上传成功"):(t.filename="选择文件",t.file.uploadPercentage=0,t.$refs.myfile.value="",t.shows=!1,alert(e.data.msg))})}else t.filename="选择文件",t.file.uploadPercentage=0,t.$refs.myfile.value="",t.shows=!1,alert(e.data.msg);t.file.uploadStatus=2}).catch(function(e){console.log(e),t.file.uploadStatus=-1}):(this.$refs.myfile.value="",this.shows=!1,t.$message("请选择文件才提交"))},delfile:function(t){this.filename="选择文件",this.file.uploadPercentage=0,this.$refs.myfile.value="",this.shows=!1,this.disabled=!0},see:function(){this.cansee=!this.cansee,console.log(this.passworld)},pass:function(t){console.log(t.target),"与学号相同"==t.target.value?(this.isActive=1,this.seeflag=!1):"手动填写"==t.target.value&&(this.isActive=2,this.seeflag=!0)},examine:function(){},addnumber:function(){this.addflag=!0,console.log(this.addflag)},complete:function(){this.addflag=!1,console.log(this.values),this.$refs.tab.addnumber()},queding:function(t){console.log(this.value1),this.addflag=!1,this.index1=""},cancle:function(t){this.addflag=!1,this.index1="",console.log("zg")},setting:function(t){console.log(t),this.index1=t},del:function(t){this.delId=t,this.dialogVisible=!0},delitem:function(){this.dialogVisible=!1,console.log(this.delId)},handleDelAll:function(){for(var t=this.$refs.icheck,e=[],a=0;a<t.length;a++)if(t[a].checked){var i=t[a].value;console.log(i),e.push(i)}console.log(e)},passes:function(){},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,i=0;i<e.length;i++)0==e[i].checked&&(a=!1);event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor="",t.checked=a},changecolor:function(t){this.isactive=t-0+1},colorcancel:function(){this.isactive=""},newStudent:function(){var t=this,e={},a=this.$refs.schoolcheck1.item.id;this.number>=1e3&&(this.number=1e3,this.$message("导入数量超过1000默认1000处理"),console.log(this.number)),1==this.isActive?(e.unit_group=a,e.job_num_start=this.startId,e.add_count=this.number):(e.unit_group=a,e.job_num_start=this.startId,e.add_count=this.number,e.add_count=this.passworld),this.axios.post("/api/v1/admin/user/addStudent",e).then(function(e){if(console.log(e),0==e.data.code){var a=t.number-e.data.data.effect_row;t.$message("手动导入成功"+e.data.data.effect_row+"条数据,"+a+"条数据的学号已重复")}else t.$message(e.data.msg)})}},components:{headson:H.a,schoolcheck:W,tables:at,pagination:Y.a}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,i){return a("li",{key:i,class:{tabactive:t.tabindex-1==i},on:{click:function(e){t.tab(i)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"luru"},[t._v("批量录入设置")]),t._v(" "),a("span",{staticStyle:{"font-size":"12px"}},[t._v("[注：如果手动批量录入从起止学号开始递增,数量包括起止学号，如果学号已经存在则默认跳过不会录入这数据]")]),t._v(" "),a("ul",{staticClass:"a1"},[a("li",[a("span",[t._v("范围：")]),t._v(" "),a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck1"})],1)]),t._v(" "),a("li",[a("span",[t._v("起始学号：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.startId,expression:"startId"}],attrs:{type:"number",placeholder:"请输入学号",min:"0"},domProps:{value:t.startId},on:{input:function(e){e.target.composing||(t.startId=e.target.value)}}})]),t._v(" "),a("li",[a("span",[t._v("导入数量：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],attrs:{type:"number",placeholder:"请输入数量 不超过1000",min:"0",onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}})]),t._v(" "),a("li",[a("span",[t._v("初始密码：")]),t._v(" "),a("input",{ref:"but",class:{inputActive:1==t.isActive},attrs:{type:"button",value:"与学号相同"},on:{click:t.pass}}),t._v(" "),a("input",{ref:"but",class:{inputActive:2==t.isActive},attrs:{type:"button",value:"手动填写"},on:{click:t.pass}}),t._v(" "),t.seeflag?[a("div",{staticClass:"eye"},[t.cansee?a("input",{directives:[{name:"model",rawName:"v-model",value:t.passworld,expression:"passworld"}],attrs:{type:"text"},domProps:{value:t.passworld},on:{input:function(e){e.target.composing||(t.passworld=e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.passworld,expression:"passworld"}],attrs:{type:"password",placeholder:"请输入六位数字"},domProps:{value:t.passworld},on:{input:function(e){e.target.composing||(t.passworld=e.target.value)}}}),t._v(" "),a("span",{staticClass:"iconfont icon-eyes",on:{click:t.see}})])]:t._e()],2),t._v(" "),a("li",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.newStudent}},[t._v("提交")])],1)])]):2==t.tabindex?a("li",{staticClass:"data2"},[a("div",{staticClass:"luru"},[t._v("参数设置")]),t._v(" "),a("ul",{staticClass:"a2"},[a("li",[a("span",[t._v("选择：")]),t._v(" "),a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck"})],1)]),t._v(" "),a("li",[a("span",[t._v("上传：")]),t._v(" "),a("a",{staticClass:"file",attrs:{href:"javascript:;"}},[t._v("\n              "+t._s(t.filename)+"\n              "),a("form",{attrs:{action:"",method:"post",enctype:"multipart/form-data"}},[a("input",{ref:"myfile",staticClass:"upload",attrs:{type:"file",name:"myfile",id:"myfile"},on:{change:function(e){t.upload()}}}),t._v(" "),t.shows?a("div",{staticClass:"navbar"},[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":20,percentage:t.file.uploadPercentage}})],1):t._e()])])]),t._v(" "),a("li",{staticClass:"submit2"},[a("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.submit2}},[t._v("上传")]),t._v(" "),a("span",{staticClass:"iconfont icon-trash",on:{click:function(e){return e.stopPropagation(),t.delfile(e)}}})],1)]),t._v(" "),a("fieldset",{staticStyle:{border:"0"}},[a("legend",{staticStyle:{color:"#499AD1","font-size":"16px"}},[t._v("操作提示： \n    "),a("a",{staticStyle:{color:"#499AD1","font-size":"16px"},attrs:{href:t.links,download:""}},[t._v("【模板】")])]),t._v(" "),t._m(0)])]):a("li",{staticClass:"data3"},[a("ul",{staticClass:"working"},[a("li",{staticClass:"passes",class:{btnactive:t.isbtnActive},on:{click:t.goaway}},[t._v("通过审核")])]),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,i){return a("th",{key:i},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",[t._l(t.tableData3,function(e,i){return a("tr",{key:i,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(i)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.id},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",[e.id==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.job_num,expression:"item.job_num"}],attrs:{type:"text"},domProps:{value:e.job_num},on:{input:function(a){a.target.composing||t.$set(e,"job_num",a.target.value)}}}):a("span",[t._v(t._s(e.job_num))])]),t._v(" "),a("td",{staticClass:"class"},[e.id==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}}):a("router-link",{attrs:{to:"/admin/grade.vue/"+e.sort,tag:"a"}},[t._v(t._s(e.name))])],1),t._v(" "),a("td",[e.id==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"item.sex"}],attrs:{type:"text"},domProps:{value:e.sex},on:{input:function(a){a.target.composing||t.$set(e,"sex",a.target.value)}}}):a("span",[t._v(t._s(e.sex))])]),t._v(" "),a("td",[e.id==t.index1?a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck1",refInFor:!0,staticClass:"school"})],1):a("span",[t._v(t._s(e.unit_group))])]),t._v(" "),a("td",[e.id==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"item.phone"}],attrs:{type:"text"},domProps:{value:e.phone},on:{input:function(a){a.target.composing||t.$set(e,"phone",a.target.value)}}}):a("span",[t._v(t._s(e.phone))])]),t._v(" "),a("td",[a("span",[t._v("\n                    "+t._s(e.create_time)+"\n                  ")])]),t._v(" "),a("td",[e.id==t.index1?[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){e.stopPropagation(),t.queding()}}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(e){e.stopPropagation(),t.cancle()}}},[t._v("取消")])]:void 0],2)])}),t._v(" "),t.addflag?[a("tr",[t._m(1),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(t.tableData3.length+1))]),t._v(" "),a("td",{staticClass:"class"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value1,expression:"values.value1"}],attrs:{type:"text"},domProps:{value:t.values.value1},on:{input:function(e){e.target.composing||t.$set(t.values,"value1",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value2,expression:"values.value2"}],attrs:{type:"text"},domProps:{value:t.values.value2},on:{input:function(e){e.target.composing||t.$set(t.values,"value2",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value3,expression:"values.value3"}],attrs:{type:"text"},domProps:{value:t.values.value3},on:{input:function(e){e.target.composing||t.$set(t.values,"value3",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value4,expression:"values.value4"}],attrs:{type:"text"},domProps:{value:t.values.value4},on:{input:function(e){e.target.composing||t.$set(t.values,"value4",e.target.value)}}})]),t._v(" "),a("td",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){e.stopPropagation(),t.queding()}}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(e){e.stopPropagation(),t.cancle()}}},[t._v("取消")])],1)])]:t._e()],2)]),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("请问您确认要删除选中的审批吗？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.delitem}},[t._v("确 定")])],1)])],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticStyle:{"font-size":"12px"}},[a("li",[t._v("Excel文件只能包含1个数据表（多余的表可以右键删除或隐藏，无论是否有数据都不能出现），且数据表不能有单元格合并情况，第一行为表头，从第二行开始记录数据；")]),t._v(" "),a("li",[t._v("工作表列按照以下顺序排列且至少包含以下列：学号/工号\t 密码\t姓名\t性别\t民族\t出生日期\t电话\t身份证\n（共8列），其中：\n      "),a("ul",[a("li",[t._v("学号：英文（大小写不限）、数字或者组合，不能出现汉字等特殊字符，可留空；")]),t._v(" "),a("li",[t._v("密码：登录密码，必填，如果空缺将跳过该条数据；")]),t._v(" "),a("li",[t._v("姓名：普通文字，必填，如果空缺将跳过该条数据；")]),t._v(" "),a("li",[t._v("性别：男性用汉字“男”或数字“1”、女性用汉字“女”或数字“0”表示，如果此项空缺或者格式不正确则默认为男性；")]),t._v(" "),a("li",[t._v("民族：可留空；")]),t._v(" "),a("li",[t._v("出生日期：按照规范填写")]),t._v(" "),a("li",[t._v("电话：手机号码，如果不是手机号格式将被设为空，可留空；")]),t._v(" "),a("li",[t._v("身份证：按照规范填写")])])]),t._v(" "),a("li",[t._v("每次导入会检测是否已存在，已存在导入失败。若通过EXCEL导入账号，则手机号码无需验证。\nEXCEL批量导入时，学号=账号。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{align:"center"}},[e("input",{staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"}})])}]};var rt=a("VU/8")(ot,lt,!1,function(t){a("t7zG")},"data-v-931bb0de",null).exports,ct={data:function(){return{newdata:{},id:this.$route.query.id}},created:function(){this.getpermission(),console.log(this.newdata,this.id)},mounted:function(){this.getpermission(),console.log(88,this.newdata,this.$route.query.id)},methods:{getpermission:function(){var t=this,e={};this.axios.get("/api/v1/admin/rules").then(function(a){var i=a.data.data;for(var n in console.log(i),i){var s=[],o=i[n].menu_name,l=i[n].items;0!==l.length?t.copy(l,s):(s.push(i[n]),console.log(1)),e[o]=s}t.newdata=e,console.log(t.newdata,o)})},copy:function(t,e){for(var a in t)e.push(t[a]),0!==t[a].items.length?this.copy(t[a].items,e):t[a]},setpermission:function(){for(var t=this,e=this.$refs.icheck,a=[],i=0;i<e.length;i++)e[i].checked&&a.push(e[i].value);console.log(a),t.axios.post("/api/v1/admin/user/editRoleGroup",{id:t.id,rules:a}).then(function(e){console.log(e),0==e.data.code?t.$message("权限设置成功"):t.$message("权限提交失败")})},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,i=0;i<e.length;i++)0==e[i].checked&&(a=!1);event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",console.log(event.target.parentNode)):event.target.parentNode.parentNode.style.backgroundColor="",t.checked=a}}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"a1"},[a("div",{staticClass:"set"},[a("span",{on:{click:t.getpermission}},[t._v("设定权限")])]),t._v(" "),a("div",{staticClass:"zhuyi"},[t._v("注意：当前设定的是管理员类型的权限，修改后所有属于这个类型的管理员权限将会被当前设置覆盖")]),t._v(" "),t._l(t.newdata,function(e,i,n){return a("div",{key:n,staticClass:"body"},[a("h2",[t._v(t._s(i))]),t._v(" "),t._l(e,function(e,i){return a("span",{key:i},[a("input",{ref:"icheck",refInFor:!0,attrs:{name:"right_61",type:"checkbox",checked:"checked"},domProps:{value:e.id},on:{click:t.icheck}}),t._v("\n      "+t._s(e.menu_name)+"\n    ")])})],2)}),t._v(" "),a("div",{staticClass:"sub",attrs:{align:"center"}},[a("label",[a("input",{ref:"allcheck",attrs:{type:"checkbox",id:"checkall",checked:"checked"},on:{click:t.allcheck}}),t._v("全选")]),t._v(" "),a("input",{attrs:{type:"submit",value:"提 交"},on:{click:t.setpermission}}),t._v(" "),a("a",{staticClass:"button",attrs:{href:"javascript:history.back()"}},[t._v("返 回")])])],2)},staticRenderFns:[]};var ut=a("VU/8")(ct,dt,!1,function(t){a("wUMk")},"data-v-2de5a90a",null).exports,mt={data:function(){return{links:"http://"+window.location.host+"/user.xlsx",values:{account:"",password:"",job_num:"",name:"",sex:"",birth_date:"",id_card:"",phone:"",auth_group_id:"",unit_group:""},pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},group:"",groupId:"",shows:!1,filename:"选择文件",file:{uploadPercentage:0,uploadStatus:""},headson:["管理员资料录入","增加管理员个人资料"],tabls:["手动添加","从Excel导入"],tabindex:1}},watch:{},created:function(){console.log(this.$refs.schoolcheck1),this.setGroup()},methods:{getList:function(){},tab:function(t){console.log(t),this.tabindex=t-0+1},setGroup:function(){var t=this;this.axios.get("/api/v1/admin/user/roleGroup").then(function(e){var a=e.data.data;console.log(a),t.group=a}).catch(function(t){alert(t)})},upload:function(){var t=event.target.value;if(-1!=t.indexOf("xlsx")||-1!=t.indexOf("xls")){new FileReader;var e=this.$refs.myfile.files[0].name;console.log(e,this.$refs.myfile.value),this.filename=e}else alert("文件为空或者文件格式不是excel.请重新选择文件")},submit2:function(){this.shows=!0;var t=this,e=t.$refs.myfile.files[0];console.log(e);var a=new FormData;a.append("file",e);var i={timeout:5e3,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){if(e.lengthComputable){var a=e.loaded/e.total*100;console.log(a),t.file.uploadPercentage=a}}};e?t.axios.post("/api/v1/admin/user/upload",a,i).then(function(e){if(console.log(e),0==e.data.code){var a=e.data.data.file_name,i=e.data.data.suffix,n=t.$refs.schoolcheck.item.id;t.axios.post("/api/v1/admin/user/import",{file_name:a,suffix:i,type:"2",unit_group:n,auth_group_id:t.groupId}).then(function(e){0==e.data.code?t.$confirm("管理员增加成功, 是否返回?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.go(-1)}).catch(function(){t.$message({type:"info",message:"取消返回"})}):t.$message(e.data.msg)})}else t.$message(e.data.code)}).catch(function(t){console.log(t)}):(this.filename="选择文件",this.$refs.myfile.value="",this.shows=!1,t.$message("请选择文件才提交"))},delfile:function(t){this.filename="选择文件",this.file.uploadPercentage=0,this.$refs.myfile.value="",this.shows=!1},newAdmin:function(){this.setGroup();var t=this,e=t.$refs.schoolcheck.item.id;if(this.values.unit_group=e,this.values.password.length<4||this.values.password.length>20)this.$message("密码字符集在4到20区间，请输入正确的位数");else{console.log(this.values);var a={};for(var i in this.values)this.values[i]&&(this.values.password=q()(this.values.password),a[i]=this.values[i]);console.log(a),t.axios.post("/api/v1/admin/user/addRole",a).then(function(e){console.log(e),0==e.data.code?t.$confirm("管理员增加成功, 是否返回?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.go(-1)}).catch(function(){t.$message({type:"info",message:"取消返回"})}):"学号已存在"==e.data.msg?t.$message("工号已存在"):t.$message(e.data.msg)}),console.log(this.values)}},returnback:function(){this.$router.go(-1)},checkSex:function(t){"男"==t.target.value?(this.values.sex=0,console.log(this.values.sex,this.values.group)):this.values.sex=1,this.$refs.sex1.style.backgroundColor="",this.$refs.sex2.style.backgroundColor="",t.target.style.backgroundColor="#5bb95a"}},components:{headson:H.a,schoolcheck:W,tables:at,pagination:Y.a}},pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,i){return a("li",{key:i,class:{tabactive:t.tabindex-1==i},on:{click:function(e){t.tab(i)}}},[t._v(t._s(e)+"\n       \n        ")])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"luru"},[t._v("管理员录入")]),t._v(" "),a("table",{staticClass:"a1"},[a("tr",{},[a("td",[t._v("账号：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.account,expression:"values.account"}],attrs:{placeholder:"中英文，数字，下划线 4-20位"},domProps:{value:t.values.account},on:{input:function(e){e.target.composing||t.$set(t.values,"account",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td",[t._v("密码：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.password,expression:"values.password"}],attrs:{type:"password",placeholder:"英文大小写，数字，符号 4-20位"},domProps:{value:t.values.password},on:{input:function(e){e.target.composing||t.$set(t.values,"password",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td",[t._v("工号：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.job_num,expression:"values.job_num"}],attrs:{type:"number",placeholder:"工号",min:"0"},domProps:{value:t.values.job_num},on:{input:function(e){e.target.composing||t.$set(t.values,"job_num",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td",[t._v("姓名：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.name,expression:"values.name"}],attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.values.name},on:{input:function(e){e.target.composing||t.$set(t.values,"name",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("性别：")]),t._v(" "),a("td",[a("input",{ref:"sex1",attrs:{type:"button",name:"sex1",value:"男"},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("input",{ref:"sex2",attrs:{name:"sex2",type:"button",value:"女"},on:{click:function(e){t.checkSex(e)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("出生日期：")]),t._v(" "),a("td",[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.values.birth_date,callback:function(e){t.$set(t.values,"birth_date",e)},expression:"values.birth_date"}})],1)]),t._v(" "),a("tr",{},[a("td",[t._v("身份证号：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.id_card,expression:"values.id_card"}],attrs:{type:"text",placeholder:"18位身份证号"},domProps:{value:t.values.id_card},on:{input:function(e){e.target.composing||t.$set(t.values,"id_card",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td",[t._v("手机：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.phone,expression:"values.phone"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:t.values.phone},on:{input:function(e){e.target.composing||t.$set(t.values,"phone",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td",[t._v("管理员类型：")]),t._v(" "),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.values.auth_group_id,expression:"values.auth_group_id"}],attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.values,"auth_group_id",e.target.multiple?a:a[0])}}},t._l(t.group,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td",[t._v("管理员范围：")]),t._v(" "),a("td",[a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck"}),t._v(" "),a("span",[t._v("*")])],1),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td"),t._v(" "),a("td",[a("div",{style:{"text-align":"center",width:"200px","vertical-align":"center"}},[t._v("带*必填")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.newAdmin}},[t._v("增加")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"60px"},attrs:{type:"info",plain:""},on:{click:t.returnback}},[t._v("返回")])],1)])])]):2==t.tabindex?a("li",{staticClass:"data2"},[a("div",{staticClass:"luru"},[t._v("参数设置")]),t._v(" "),a("ul",{staticClass:"a2"},[a("li",[a("span",[t._v("班级：")]),t._v(" "),a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck"})],1)]),t._v(" "),a("li",[a("span",[t._v("类型：")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.groupId,expression:"groupId"}],attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.groupId=e.target.multiple?a:a[0]}}},t._l(t.group,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[a("span",[t._v("上传：")]),t._v(" "),a("a",{staticClass:"file",attrs:{href:"javascript:;"}},[t._v("\n              "+t._s(t.filename)+"\n              "),a("form",{attrs:{action:"",method:"post",enctype:"multipart/form-data"}},[a("input",{ref:"myfile",staticClass:"upload",attrs:{type:"file",name:"myfile",id:"myfile"},on:{change:function(e){t.upload()}}}),t._v(" "),t.shows?a("div",{staticClass:"navbar"},[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":20,percentage:t.file.uploadPercentage}})],1):t._e()])])]),t._v(" "),a("li",{staticClass:"submit2",on:{click:t.submit2}},[t._v("\n            上传\n            "),a("span",{staticClass:"iconfont icon-trash delfile",on:{click:function(e){return e.stopPropagation(),t.delfile(e)}}})])]),t._v(" "),a("fieldset",{staticStyle:{border:"0"}},[a("legend",{staticStyle:{color:"#499AD1","font-size":"16px"}},[t._v("操作提示\n        "),a("a",{staticStyle:{color:"#499AD1","font-size":"16px"},attrs:{href:t.links,download:""}},[t._v("【模板】")])]),t._v(" "),t._m(0)])]):t._e()])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticStyle:{"font-size":"12px"}},[a("li",[t._v("Excel文件只能包含1个数据表（多余的表可以右键删除或隐藏，无论是否有数据都不能出现），且数据表不能有单元格合并情况，第一行为表头，从第二行开始记录数据；")]),t._v(" "),a("li",[t._v("工作表列按照以下顺序排列且至少包含以下列：学号/工号\t 密码\t姓名\t性别\t民族\t出生日期\t电话\t身份证\n（共8列），其中：\n      "),a("ul",[a("li",[t._v("学号：英文（大小写不限）、数字或者组合，不能出现汉字等特殊字符，可留空；")]),t._v(" "),a("li",[t._v("密码：登录密码，必填，如果空缺将跳过该条数据；")]),t._v(" "),a("li",[t._v("姓名：普通文字，必填，如果空缺将跳过该条数据；")]),t._v(" "),a("li",[t._v("性别：男性用汉字“男”或数字“1”、女性用汉字“女”或数字“0”表示，如果此项空缺或者格式不正确则默认为男性；")]),t._v(" "),a("li",[t._v("民族：按照规范填写")]),t._v(" "),a("li",[t._v("出生日期：按照规范填写")]),t._v(" "),a("li",[t._v("电话：手机号码，按照手机号格式规范填写；")]),t._v(" "),a("li",[t._v("身份证：按照规范填写")])])]),t._v(" "),a("li",[t._v("每次导入会检测是否已存在，已存在导入失败。若通过EXCEL导入账号，则手机号码无需验证。\nEXCEL批量导入时，学号=账号。")])])}]};var ht=a("VU/8")(mt,pt,!1,function(t){a("0Tss")},"data-v-3d4e7f06",null).exports,ft={data:function(){return{isbtnActive:!1,Groupid:"",group:"",isactive:"",headson:["学生评价","学生评价信息"],filterText:"",data2:[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:7,label:"二级 3-1"},{id:8,label:"二级 3-2"}]}],defaultProps:{children:"children",label:"label",treeflag:!1},tabls:["成长档案"],tabindex:1,page:{currentPage:1,total:0,flag:!1,size:20},index1:"",addflag:!1,values:{value1:"",value2:"",value3:""},form:{job_num:"",phone:"",name:"",age:"",unit_group:"",sex:""},thead:["id","学号","姓名","性别","年龄","班级"],thead1:["序号","学号","姓名"],tableData3:[],submitflag:!0}},watch:{},created:function(){this.group=this.$store.state.adminGroup,this.getList(this.page.currentPage,this.page.size)},methods:{goreport:function(t){this.$router.push({path:"/admin/resports",query:{id:t}})},getList:function(t,e,a){var i=this;this.axios.post("/api/v1/admin/user/student/list",{page:t,size:e,w:a}).then(function(t){var e=t.data.data.data;e.map(function(t,e){if(t.birth_date){var a=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,i=Math.floor(a/8640);console.log(i),t.age=i}else t.age="null";t.name||(t.name="null"),t.sex=t.sex+"",0==t.sex?t.sex="女":t.sex="男"}),i.tableData3=e,i.tableData3=e,i.page.total=t.data.data.total,console.log(e)})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.size=t,this.getList(this.page.currentPage,this.page.size)},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentPage=t,this.getList(this.page.currentPage,this.page.size)},addnumber:function(){this.addflag=!0,console.log(this.addflag)},queding:function(t){console.log(this.value1),this.addflag=!1,this.index1=""},cancle:function(t){this.addflag=!1,this.index1=""},setting:function(t){console.log(t),this.index1=t},del:function(t){},handleDelAll:function(){for(var t=this.$refs.icheck,e=[],a=0;a<t.length;a++)if(t[a].checked){var i=t[a].value;console.log(i),e.push(i)}console.log(e)},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,i=0;i<e.length;i++)0==e[i].checked&&(a=!1);event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor="",t.checked=a},handleDownload:function(){this.tableData3;for(var t=this.$refs.icheck,e=[],a=[],i=0;i<t.length;i++)if(t[i].checked){var n=t[i].value;console.log(n),e.push(n)}console.log(e);for(i=0;i<e.length;i++)this.tableData3.map(function(t,n){t.id==e[i]&&a.push(t)});var s=this.thead;To.handleDownload(s,["id","job_num","name","unit_group","phone","auth_group_id","last_login"],a)},tab:function(t){console.log(t),this.tabindex=t-0+1},showtable:function(){},checknode:function(){console.log(this.$refs.schoolcheck1.newvalue),this.form.unit_group=this.$refs.schoolcheck1.item.id-0,console.log(this.form);var t={};for(var e in this.form)this.form[e]&&(t[e]=this.form[e]);this.getList(this.page.currentPage,this.page.size,t)},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},showtree:function(){this.defaultProps.treeflag=!this.defaultProps.treeflag},changecolor:function(t){console.log(t),this.isactive=t-0+1},colorcancel:function(){this.isactive=""}},components:{schoolcheck:W,headson:H.a,pagination:Y.a}},gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,i){return a("li",{key:i,class:{tabactive:t.tabindex-1==i},on:{click:function(e){t.tab(i)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[5==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"search"},[a("ul",[a("li",[a("span",[t._v("范围：")]),t._v(" "),a("div",{staticClass:"schoolcheck1"},[a("schoolcheck")],1)]),t._v(" "),a("li",[a("span",[t._v("类型：")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.Groupid,expression:"Groupid"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.Groupid=e.target.multiple?a:a[0]}}},t._l(t.group,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[a("span",[t._v("学生查询：")]),t._v(" "),a("input",{attrs:{type:"text",value:"",id:"person"}}),t._v(" "),a("i",{staticClass:"iconfont icon-sousuo",on:{click:function(e){t.showtable()}}}),t._v(" "),a("span",{staticClass:"iconfont icon-wenhao"})])])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",class:{btnactive:t.isbtnActive},on:{click:t.handleDownload}},[t._v("\n         导出\n         "),a("i",{staticClass:"iconfont icon-daochu1"})])]),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,i){return a("th",{key:i},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",[t._l(t.tableData3,function(e,i){return a("tr",{key:i,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(i)},click:function(a){t.setting(e.sort)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.sort},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.sort))]),t._v(" "),a("td",{staticClass:"class"},[e.sort==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.b,expression:"item.b"}],attrs:{type:"text"},domProps:{value:e.b},on:{input:function(a){a.target.composing||t.$set(e,"b",a.target.value)}}}):a("router-link",{style:{color:"blue"},attrs:{to:"/admin/comments?id="+e.sort,tag:"a"}},[t._v(t._s(e.b))])],1),t._v(" "),a("td",[e.sort==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.c,expression:"item.c"}],attrs:{type:"text"},domProps:{value:e.c},on:{input:function(a){a.target.composing||t.$set(e,"c",a.target.value)}}}):a("span",[t._v(t._s(e.c))])]),t._v(" "),a("td",[e.sort==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.d,expression:"item.d"}],attrs:{type:"text"},domProps:{value:e.d},on:{input:function(a){a.target.composing||t.$set(e,"d",a.target.value)}}}):a("span",[t._v(t._s(e.d))])]),t._v(" "),a("td",[e.sort==t.index1?[a("el-button",{attrs:{size:"mini"},on:{click:function(e){e.stopPropagation(),t.queding()}}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){e.stopPropagation(),t.cancle()}}},[t._v("取消")])]:[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.setting(e.sort)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.del(e.sort)}}},[t._v("删除")])]],2)])}),t._v(" "),t.addflag?[a("tr",[t._m(0),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(t.tableData3.length+1))]),t._v(" "),a("td",{staticClass:"class"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value1,expression:"values.value1"}],attrs:{type:"text"},domProps:{value:t.values.value1},on:{input:function(e){e.target.composing||t.$set(t.values,"value1",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value2,expression:"values.value2"}],attrs:{type:"text"},domProps:{value:t.values.value2},on:{input:function(e){e.target.composing||t.$set(t.values,"value2",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value3,expression:"values.value3"}],attrs:{type:"text"},domProps:{value:t.values.value3},on:{input:function(e){e.target.composing||t.$set(t.values,"value3",e.target.value)}}})]),t._v(" "),[a("el-button",{attrs:{size:"mini"},on:{click:function(e){e.stopPropagation(),t.queding()}}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){e.stopPropagation(),t.cancle()}}},[t._v("取消")])]],2)]:t._e()],2)])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:400},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])]):a("li",{staticClass:"data3"},[a("div",{staticClass:"search"},[a("ul",[a("li",[a("span",[t._v("范围：")]),t._v(" "),a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck1"}),t._v(" "),a("span",{staticClass:"iconfont icon-sousuo",on:{click:t.checknode}})],1)])])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,i){return a("th",{key:i},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.tableData3,function(e,i){return a("tr",{key:i,class:{heightcolor:t.isactive==e.sort}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.sort},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",[a("span",[t._v(t._s(e.id))])]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.job_num))]),t._v(" "),a("td",{staticClass:"class"},[a("span",{staticStyle:{color:"#169bd5",cursor:"pointer"},on:{click:function(a){t.goreport(e.id)}}},[t._v(t._s(e.name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.sex))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.age))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.unit_group_name))])]),t._v(" "),a("td",[void 0],2)])}),0)])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{align:"center"}},[e("input",{staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"}})])}]};var vt=a("VU/8")(ft,gt,!1,function(t){a("VBMB")},"data-v-078266da",null).exports,_t={data:function(){return{headson:["学生评价","记录学生的点点滴滴"],value2:!0}},created:function(){console.log(this.$route.query.id)},methods:{name:function(){}},components:{headson:H.a}},bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",[a("div",[t._m(0),t._v(" "),a("div",{staticClass:"recomm"},[t._v("修改评价")]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"comments"},[t._v("\n        学生评价内容\n        ")]),t._v(" "),a("div",[a("ul",{staticClass:"commcz"},[a("li",[t._v("允许学生查看"),a("el-switch",{attrs:{"active-color":"#13ce66","active-text":"on",width:50,"inactive-color":"#ff4949"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),t._v(" "),a("li",[t._v("提交")]),t._v(" "),a("li",[t._v("取消")])])])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"comm1"},[a("li",[t._v("学号：2220140063")]),t._v(" "),a("li",[t._v("姓名：诸葛亮")]),t._v(" "),a("li",[t._v("性别：男")]),t._v(" "),a("li",[t._v("年龄：16")]),t._v(" "),a("li",[t._v("个人资料")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"type"},[a("span",[t._v("类型：")]),t._v(" "),a("select",{attrs:{name:"",id:""}},[a("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("2")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("13")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("24")])])])}]};var xt=a("VU/8")(_t,bt,!1,function(t){a("swMo")},"data-v-12889796",null).exports,yt=a("PJh5"),wt=a.n(yt),kt={data:function(){return{type:[],checkAll:!1,isIndeterminate:!0,checked:[],headson:["学生个人档案","个人档案资料导出记录"],group:[{type:1,name:"留言"},{type:2,name:"咨询"},{type:3,name:"访谈"},{type:4,name:"测评"}],activities:[],activities1:[],useid:this.$route.query.id,alldata:[]}},created:function(){console.log(this.checked),this.messages()},methods:{alldata1:function(){},messages:function(){var t=this,e=this;this.axios.get("api/v1/admin/message/listByUID?uid="+this.useid).then(function(a){var i=a.data.data;i.map(function(t,a){t.types=1,t.timestamp=t.create_time,e.alldata.push(t)}),console.log(i),t.axios.get("api/v1/admin/counsel/getClientListByUID?uid="+t.useid).then(function(a){console.log(a);var i=a.data.data;i.map(function(t,a){t.types=2,t.timestamp=t.start_time,e.alldata.push(t)}),console.log(i),t.axios.get("api/v1/admin/coach/listByUID?uid="+t.useid).then(function(t){console.log(t),t.data.data.map(function(t,a){switch(t.types=3,t.timestamp=t.start_time,t.proc_idea-0){case 0:t.proc_idea="无";break;case 1:t.proc_idea="无须干预";break;case 2:t.proc_idea="预约面询";break;case 3:t.proc_idea="危机干预";break;case 4:t.proc_idea="联系领导";break;case 5:t.proc_idea="跟踪随访"}e.alldata.push(t)}),e.getscale(e.useid)})})})},getscale:function(t){var e=this;this.axios.post("/api/v1/admin/scale/getTestResultList",{page:1,size:60,w:{uid:t}}).then(function(t){0==t.data.code&&(t.data.data.list.map(function(t,a){if(t.types=4,t.timestamp=t.start_test_time,t.birth_date){var i=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,n=Math.floor(i/8640);console.log(n),t.age=n}else t.age="null";t.times=wt()(wt()(t.end_test_time)-wt()(t.start_test_time)).format("HH:mm:ss"),0==t.sex?t.sex="女":t.sex="男",0==t.valid?t.valid="有效":t.valid="无效",2==t.type?t.type="自测":t.type="普查",e.alldata.push(t)}),console.log(e.alldata),e.alldata=e.sortDataArray(e.alldata),e.alldata.map(function(t,a){t.idnumber=a+1,e.checked.push(t.idnumber)}),e.activities=e.alldata,e.activities1=e.alldata,localStorage.setItem("alldata",c()(e.alldata)))})},sortDataArray:function(t){return t.sort(function(t,e){return Date.parse(e.timestamp)-Date.parse(t.timestamp)})},zixun:function(){this.axios.get("api/v1/admin/counsel/getClientListByUID?uid="+this.useid).then(function(t){console.log(t)})},fangtan:function(){this.axios.get("api/v1/admin/coach/listByUID?uid=="+this.useid).then(function(t){console.log(t)})},cepin:function(){},getlist:function(){var t=this.type,e=[];this.activities1.map(function(a,i){t.map(function(t){a.types==t&&e.push(a),console.log(a,t)})}),this.activities=e,console.log(e,t),this.handleCheckAllChange()},handleCheckAllChange:function(t){var e=this;this.checked?(this.checked=[],this.activities.map(function(t,a){e.checked.push(t.idnumber)})):this.checked=[],console.log(t,this.checked),this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){console.log(t);var e=t.length;this.checkAll=e===this.activities.length,this.isIndeterminate=e>0&&e<this.activities.length},archive:function(){localStorage.setItem("checked",c()(this.checked)),this.$router.push({path:"/student/archives",query:{useid:this.useid}})},changefun:function(){console.log(this.type),this.getlist()}},components:{headson:H.a}},Ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[a("el-checkbox-group",{on:{change:function(e){t.changefun()}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.group,function(e,i){return a("el-checkbox-button",{key:i,attrs:{label:e.type}},[t._v(t._s(e.name))])}),1)],1),t._v(" "),a("li",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.archive}},[a("i",{staticClass:"iconfont icon-daochu1"}),t._v("浏览档案\n        ")])],1)])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"block"},[a("el-timeline",[a("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},t._l(t.activities,function(e,i){return a("el-timeline-item",{key:i,attrs:{placement:"top",color:"#C0D3E1",size:"large",icon:"el-icon-more",type:"primary",timestamp:e.timestamp}},[a("el-card",{class:{aClass:1==e.types,bClass:2==e.types,mClass:3==e.types,nClass:4==e.types}},[a("el-checkbox",{key:e.id,attrs:{label:e.idnumber}},[a("h4",[t._v(t._s(e.timestamp))]),t._v(" "),1==e.types?a("p",[t._v("留言内容："+t._s(e.content))]):2==e.types?a("p",[t._v("咨询内容："+t._s(e.problem))]):3==e.types?a("p",[t._v("访谈干预内容："+t._s(e.proc_idea))]):t._e(),t._v(" "),4==e.types?a("p",[t._v("测评量表"+t._s(e.scale_name))]):t._e()])],1)],1)}),1)],1)],1)]),t._v(" "),a("div")],1)},staticRenderFns:[]};var $t=a("VU/8")(kt,Ct,!1,function(t){a("FEd9")},"data-v-8308f162",null).exports,St={data:function(){return{disabledInput:!0,save:!0,id:this.$route.query.id,detail:"",toux:!1,user_ext:{nation:"",father_age:"",father_job:"",father_die_age:"",mother_age:"",mother_job:"",mother_die_age:"",parent_marriage_status:"",parent_divorced_age:"",foster_flag:"",foster_age:"",stu_type:"",only_child:"",economy:""},option:{imgsrc:"",info:!0,outputSize:1,outputType:"jpeg",canScale:!0,autoCrop:!0,autoCropWidth:100,autoCropHeight:100,fixed:!1,fixedNumber:[4,4],infoTrue:!0},status:"",cropper:!1,newimgsrc:"",visible1:!1,visible2:!1,values:{password:"",job_num:"",name:"",sex:"",birth_date:"",id_card:"",phone:"",unit_group:"",enrollment:"",nation:"",email:"",address:""},gradename:"",pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},headson:["学生资料修改","修改学生个人资料"],tabls:["基本信息"],tabindex:1}},watch:{},created:function(){console.log(this.id),this.baseinfo(this.id),console.log(this.$refs.schoolcheck1)},methods:{getList:function(){this.axios.post("/api/v1/admin/user/detail")},changedisable:function(){this.disabledInput=!1},tab:function(t){console.log(t),this.tabindex=t-0+1},baseinfo:function(t){this.dialogFormVisible=!0,console.log(t);var e=this;e.axios.post("/api/v1/admin/user/detail",{uid:t}).then(function(t){console.log(t);var a=t.data.data.detail_data,i=t.data.data.unit_group_data,n=[];for(var s in i)n.push(i[s]);i=To.NestedToFlat(n),console.log(i),i.map(function(t,i){if(t.id==a.unit_group)return e.gradename=t.name,a.unit_group=t.name}),e.values.sex=a.sex,a.except=a.auth_group_id,a.birth_day=a.birth_date,console.log(a),e.detail=a,y.a.set("detail",a)})},setstudent:function(){this.values.password,this.values.job_num=this.detail.job_num,this.values.name=this.detail.name,this.values.sex,this.values.birth_date=this.detail.birth_date,this.values.id_card=this.detail.id_card,this.values.phone=this.detail.phone,this.values.unit_group=this.detail.unit_group,this.values.enrollment=this.detail.enrollment,this.values.nation=this.detail.nation,this.values.email=this.detail.email,this.values.address=this.detail.address,this.$refs.schoolcheck.item&&(this.values.unit_group=this.$refs.schoolcheck.item.id),this.values.sex=this.values.sex+"";var t=this,e={},a=JSON.parse(y.a.get("detail"));if(this.values.password&&(this.values.password.length<4||this.values.password.length>20))this.$message("密码字符集在4到20区间，请输入正确的位数");else{for(var i in this.values)this.values[i]&&this.values[i]!==a[i]&&(this.values.password=q()(this.values.password),e[i]=this.values[i]);"{}"!=c()(e)&&(console.log(this.values,e),t.axios.post("/api/v1/admin/user/editUser?id="+t.id,e).then(function(e){console.log(e),0==e.data.code?t.$message("编辑学生信息成功"):t.$message(e.data.msg)}))}},returnback:function(){this.$router.go(-1)},checkSex:function(t){"男"==t.target.value?(this.values.sex=0,console.log(this.values.sex,this.values.group)):this.values.sex=1,this.$refs.sex1.style.backgroundColor="",this.$refs.sex2.style.backgroundColor="",t.target.style.backgroundColor="#5bb95a"},fileChange:function(t){var e=this,a=t.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;if(!(a.size/1024<200))return this.$message.error("上传文件大小不能超过 200k!"),!1;if(window.FileReader){var i=new FileReader;i.readAsDataURL(a),i.onload=function(t){e.option.imgsrc=t.target.result,console.log(e.option.imgsrc,t.target),e.cropper=!0}}},cutimg:function(){var t=this;this.$refs.cropper.startCrop(),this.$refs.cropper.getCropData(function(e){t.newimgsrc=e,t.$refs.cropper.clearCrop(),t.cropper=!1})},saves:function(){this.save=!1}},components:{headson:H.a,schoolcheck:W,tables:at,pagination:Y.a,VueCropper:b.VueCropper}},zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,i){return a("li",{key:i,class:{tabactive:t.tabindex-1==i},on:{click:function(e){t.tab(i)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"luru"},[t._v("学生资料")]),t._v(" "),a("table",{staticClass:"a1"},[a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("ID：")]),t._v(" "),a("td",[a("span",[t._v(t._s(t.detail.id))])])]),t._v(" "),a("tr",[a("td",[t._v("账号：")]),t._v(" "),a("td",[a("span",[t._v(t._s(t.detail.account))])])]),t._v(" "),t.disabledInput?t._e():a("tr",{},[a("td",[t._v("密码：")]),t._v(" "),a("td",[[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.password,expression:"values.password"}],attrs:{type:"password",placeholder:"英文大小写，数字，符号 4-20位"},domProps:{value:t.values.password},on:{input:function(e){e.target.composing||t.$set(t.values,"password",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("工号：")]),t._v(" "),a("td",[[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.job_num,expression:"detail.job_num"}],attrs:{type:"text",placeholder:"学号",disabled:t.disabledInput},domProps:{value:t.detail.job_num},on:{input:function(e){e.target.composing||t.$set(t.detail,"job_num",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("姓名：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.name,expression:"detail.name"}],attrs:{type:"text",placeholder:"请输入姓名",disabled:t.disabledInput},domProps:{value:t.detail.name},on:{input:function(e){e.target.composing||t.$set(t.detail,"name",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("性别：")]),t._v(" "),a("td",[[a("input",{ref:"sex1",style:{backgroundColor:1==t.values.sex?"#5bb95a":""},attrs:{type:"button",name:"sex1",value:"男",disabled:t.disabledInput},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("input",{ref:"sex2",style:{backgroundColor:0==t.values.sex?"#5bb95a":""},attrs:{name:"sex2",type:"button",value:"女",disabled:t.disabledInput},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("出生日期：")]),t._v(" "),a("td",[[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1,disabled:t.disabledInput},model:{value:t.detail.birth_date,callback:function(e){t.$set(t.detail,"birth_date",e)},expression:"detail.birth_date"}})]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("身份证号：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.id_card,expression:"detail.id_card"}],attrs:{type:"text",placeholder:"18位身份证号",disabled:t.disabledInput},domProps:{value:t.detail.id_card},on:{input:function(e){e.target.composing||t.$set(t.detail,"id_card",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("手机：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.phone,expression:"detail.phone"}],attrs:{type:"text",placeholder:"请输入手机号",disabled:t.disabledInput},domProps:{value:t.detail.phone},on:{input:function(e){e.target.composing||t.$set(t.detail,"phone",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("班级组别：")]),t._v(" "),a("td",[t.disabledInput?a("input",{directives:[{name:"model",rawName:"v-model",value:t.gradename,expression:"gradename"}],attrs:{type:"text",placeholder:"",disabled:t.disabledInput},domProps:{value:t.gradename},on:{input:function(e){e.target.composing||(t.gradename=e.target.value)}}}):[a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck",attrs:{inputName:t.gradename}}),t._v(" "),a("span",[t._v("*")])],1)]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("学级：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.enrollment,expression:"detail.enrollment"}],attrs:{type:"text",placeholder:"请输入学级",disabled:t.disabledInput},domProps:{value:t.detail.enrollment},on:{input:function(e){e.target.composing||t.$set(t.detail,"enrollment",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("民族：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.nation,expression:"detail.nation"}],attrs:{type:"text",placeholder:"请输入名族",disabled:t.disabledInput},domProps:{value:t.detail.nation},on:{input:function(e){e.target.composing||t.$set(t.detail,"nation",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("邮箱：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.email,expression:"detail.email"}],attrs:{type:"text",placeholder:"请输入邮箱",disabled:t.disabledInput},domProps:{value:t.detail.email},on:{input:function(e){e.target.composing||t.$set(t.detail,"email",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("住址：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.address,expression:"detail.address"}],attrs:{type:"text",placeholder:"请输入住址",disabled:t.disabledInput},domProps:{value:t.detail.address},on:{input:function(e){e.target.composing||t.$set(t.detail,"address",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td"),t._v(" "),a("td",[[a("div",[a("div",{style:{"text-align":"center",width:"200px","vertical-align":"center"}},[t._v("带*必填")]),t._v(" "),t.disabledInput?a("input",{staticClass:"add1",attrs:{type:"button",value:"修改"},on:{click:t.changedisable}}):a("input",{staticClass:"add",staticStyle:{color:"#fff",cursor:"pointer"},attrs:{type:"button",value:"保存"},on:{click:t.setstudent}}),t._v(" "),a("input",{staticClass:"return",attrs:{type:"button",value:"返回"},on:{click:t.returnback}})])]],2)])])]),t._v(" "),t.toux?a("div",{staticClass:"a2"},[a("div",{staticClass:"xs"},[t._v("(上传图片不超过200k,800*600像素内)")]),t._v(" "),a("div",{staticClass:"headimg"},[a("vueCropper",{ref:"cropper",staticStyle:{width:"200px",height:"200px"},attrs:{img:t.option.imgsrc,outputSize:t.option.outputSize,outputType:t.option.outputType,info:t.option.info,canScale:t.option.canScale,autoCrop:t.option.autoCrop,autoCropWidth:t.option.autoCropWidth,autoCropHeight:t.option.autoCropHeight,fixed:t.option.fixed,fixedNumber:t.option.fixedNumber}}),t._v(" "),a("ul",[a("li",[a("input",{ref:"file_input",staticStyle:{"margin-left":"20px","margin-top":"15px"},attrs:{id:"file_input",type:"file",capture:"camera"},on:{change:function(e){t.fileChange(e)}}}),t._v(" "),a("i",{staticClass:"choose",on:{click:t.cutimg}},[t._v("选择图片")])]),t._v(" "),a("li",[a("input",{staticClass:"cutimg",attrs:{type:"button",value:"保存"},on:{click:t.cutimg}})])]),t._v(" "),a("div",{staticClass:"newimg"},[a("div",[t._v("图片：")]),t._v(" "),a("img",{attrs:{src:t.newimgsrc,alt:""}})]),t._v(" "),a("div",{staticClass:"personone"},[t._v("个人简介:")])],1)]):t._e()]):t._e()])],1)},staticRenderFns:[]};var Ft=a("VU/8")(St,zt,!1,function(t){a("z/0T")},"data-v-78d42ab2",null).exports,At={data:function(){return{disabledInput:!0,save:!0,id:this.$route.query.id,detail:"",status:"",cropper:!1,newimgsrc:"",visible1:!1,visible2:!1,values:{password:"",job_num:"",name:"",sex:"",birth_date:"",id_card:"",phone:"",except:"",unit_group:"",nation:""},gradename:"",pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},headson:["管理员资料修改","修改管理员资料"],tabls:["基本信息"],tabindex:1}},watch:{},created:function(){console.log(this.id),console.log(this.$refs.schoolcheck1),this.baseinfo(this.id)},methods:{getList:function(){},changedisable:function(){this.disabledInput=!1},tab:function(t){console.log(t),this.tabindex=t-0+1},baseinfo:function(t){this.dialogFormVisible=!0,console.log(t);var e=this;e.axios.post("/api/v1/admin/user/detail",{uid:t}).then(function(t){console.log(t);var a=t.data.data.detail_data,i=t.data.data.unit_group_data,n=[];for(var s in i)n.push(i[s]);i=To.NestedToFlat(n),console.log(i),i.map(function(t,i){t.id!=a.unit_group||(e.gradename=t.name)}),0==a.sex?e.values.sex=0:e.values.sex=1,a.except=a.auth_group_id,a.birth_day=a.birth_date,console.log(a),e.detail=a,y.a.set("detail",a)})},setadmin:function(){if(this.values.password,this.values.job_num=this.detail.job_num,this.values.name=this.detail.name,this.values.sex,this.values.birth_date=this.detail.birth_date,this.values.id_card=this.detail.id_card,this.values.phone=this.detail.phone,this.values.auth_group_id=this.detail.auth_group_id,this.values.nation=this.detail.nation,this.values.unit_group=this.detail.unit_group,this.values.password&&(this.values.password.length<4||this.values.password.length>20))this.$message("密码字符集在4到20区间，请输入正确的位数");else{this.$refs.schoolcheck.item&&(this.values.unit_group=this.$refs.schoolcheck.item.id),this.values.sex=this.values.sex+"";var t=this,e={};console.log(this.values);var a=JSON.parse(y.a.get("detail"));for(var i in this.values)this.values[i]&&this.values[i]!==a[i]&&(this.values.password=q()(this.values.password),e[i]=this.values[i]);"{}"!=c()(e)?t.axios.post("/api/v1/admin/user/editUser?id="+t.id,e).then(function(e){console.log(e),0==e.data.code?(t.$message("编辑校长用户成功"),t.$router.go(-1)):t.$message(e.data.msg)}):t.$message("没有修改信息请返回")}},returnback:function(){this.$router.go(-1)},checkSex:function(t){"男"==t.target.value?(this.values.sex=1,console.log(this.values.sex,this.values.group)):this.values.sex=0,this.$refs.sex1.style.backgroundColor="",this.$refs.sex2.style.backgroundColor="",t.target.style.backgroundColor="#5bb95a"}},components:{headson:H.a,schoolcheck:W,tables:at,pagination:Y.a,VueCropper:b.VueCropper}},Dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,i){return a("li",{key:i,class:{tabactive:t.tabindex-1==i},on:{click:function(e){t.tab(i)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"luru"},[t._v("修改管理员资料")]),t._v(" "),a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("ID：")]),t._v(" "),a("td",[a("span",[t._v(t._s(t.detail.id))])])]),t._v(" "),a("tr",[a("td",[t._v("账号：")]),t._v(" "),a("td",[a("span",[t._v(t._s(t.detail.account))])])]),t._v(" "),t.disabledInput?t._e():a("tr",{},[a("td",[t._v("密码：")]),t._v(" "),a("td",[[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.password,expression:"values.password"}],attrs:{type:"password",placeholder:"英文大小写，数字，符号 4-20位"},domProps:{value:t.values.password},on:{input:function(e){e.target.composing||t.$set(t.values,"password",e.target.value)}}}),t._v(" "),a("span")]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("工号：")]),t._v(" "),a("td",[[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.job_num,expression:"detail.job_num"}],attrs:{type:"text",placeholder:"学号",disabled:t.disabledInput},domProps:{value:t.detail.job_num},on:{input:function(e){e.target.composing||t.$set(t.detail,"job_num",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("姓名：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.name,expression:"detail.name"}],attrs:{type:"text",placeholder:"请输入姓名",disabled:t.disabledInput},domProps:{value:t.detail.name},on:{input:function(e){e.target.composing||t.$set(t.detail,"name",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("性别：")]),t._v(" "),a("td",[[a("input",{ref:"sex1",style:{backgroundColor:1==t.values.sex?"#5bb95a":""},attrs:{type:"button",name:"sex1",value:"男",disabled:t.disabledInput},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("input",{ref:"sex2",style:{backgroundColor:0==t.values.sex?"#5bb95a":""},attrs:{name:"sex2",type:"button",value:"女",disabled:t.disabledInput},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("出生日期：")]),t._v(" "),a("td",[[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期",disabled:t.disabledInput,"picker-options":t.pickerOptions1},model:{value:t.detail.birth_date,callback:function(e){t.$set(t.detail,"birth_date",e)},expression:"detail.birth_date"}})]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("身份证号：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.id_card,expression:"detail.id_card"}],attrs:{type:"text",placeholder:"18位身份证号",disabled:t.disabledInput},domProps:{value:t.detail.id_card},on:{input:function(e){e.target.composing||t.$set(t.detail,"id_card",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("手机：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.phone,expression:"detail.phone"}],attrs:{type:"text",placeholder:"请输入手机号",disabled:t.disabledInput},domProps:{value:t.detail.phone},on:{input:function(e){e.target.composing||t.$set(t.detail,"phone",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("管理范围：")]),t._v(" "),a("td",[t.disabledInput?a("input",{directives:[{name:"model",rawName:"v-model",value:t.gradename,expression:"gradename"}],attrs:{type:"text",placeholder:"",disabled:t.disabledInput},domProps:{value:t.gradename},on:{input:function(e){e.target.composing||(t.gradename=e.target.value)}}}):[a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck",attrs:{inputName:t.gradename}}),t._v(" "),a("span",[t._v("*")])],1)]],2)]),t._v(" "),a("tr",{staticClass:"rolegroup"},[a("td",[t._v("角色类型：")]),t._v(" "),a("td",[[a("el-select",{attrs:{placeholder:"请选择",disabled:t.disabledInput},model:{value:t.detail.auth_group_id,callback:function(e){t.$set(t.detail,"auth_group_id",e)},expression:"detail.auth_group_id"}},t._l(t.$store.state.adminGroup,function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}),1),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("民族：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.nation,expression:"detail.nation"}],attrs:{type:"text",placeholder:"请输入名族",disabled:t.disabledInput},domProps:{value:t.detail.nation},on:{input:function(e){e.target.composing||t.$set(t.detail,"nation",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td"),t._v(" "),a("td",[[a("div",[a("div",{style:{"text-align":"center",width:"200px","vertical-align":"center"}},[t._v("带*必填")]),t._v(" "),t.disabledInput?a("input",{staticClass:"add1",attrs:{type:"button",value:"修改"},on:{click:t.changedisable}}):a("input",{staticClass:"add",staticStyle:{color:"#fff",cursor:"pointer"},attrs:{type:"button",value:"保存"},on:{click:t.setadmin}}),t._v(" "),a("input",{staticClass:"return",attrs:{type:"button",value:"返回"},on:{click:t.returnback}})])]],2)])])]):t._e()])],1)},staticRenderFns:[]};var Vt=a("VU/8")(At,Dt,!1,function(t){a("Xp7V")},"data-v-7b9a220a",null).exports;a("t4zo"),a("9o6C"),a("QJWm");l()(function(){console.log(111111111),l()("#btn-word").on("click",function(){l()(".content").html2docx("文档")})});var Et={data:function(){return{option:"",type:1,detail:"",id:this.$route.query.id,newsinfo:{},tableData:[],alldata:[],messagedata:[],zixundata:[],coachdata:[],scaledata:[],basedetail:{}}},created:function(){var t=this;this.alldata=JSON.parse(localStorage.getItem("alldata"));var e=JSON.parse(localStorage.getItem("checked")),a=[];e.map(function(e,i){t.alldata.map(function(t,i){e==t.idnumber&&a.push(t)})});var i=this;console.log(a),a.map(function(t,e){1==t.types?i.messagedata.push(t):2==t.types?i.zixundata.push(t):3==t.types?i.coachdata.push(t):i.scaledata.push(t)}),i.coachdata.map(function(t,e){1==t.type?t.type="团辅":t.type="个人",t.times=t.start_time+"—"+t.end_time;var a=new Date(t.start_time).getTime(),i=new Date(t.end_time).getTime(),n=(new Date).getTime();n<a&&a<=i?t.staus="未开始":n>i&&i>=a?t.staus="已结束":(console.log(a,i,n),t.staus="正在进行")}),i.zixundata.map(function(t,e){t.times=wt()(t.start_time).format("HH:mm:ss")+"至"+wt()(t.end_time).format("HH:mm:ss"),t.date=wt()(t.start_time).format("YYYY-MM-DD");var a=t.trace_type-0;switch(a){case 0:t.case="无需关注";break;case 1:t.case="学业问题";break;case 2:t.case="恋爱关系";break;case 3:t.case="人际交往";break;case 4:t.case="职业发展";break;case 5:t.case="情绪问题";break;case 6:t.case="躯体疾病"}t.dos=0==a?"未处理":"已处理"}),console.log(i.alldata,i.messagedata,e)},mounted:function(){this.baseinfo(this.$route.query.useid)},beforeCreated:function(){},methods:{ex:function(){console.log(l()(".content"),this.option),l()(".content").html2docx("个人档案",this.option)},getNewsInfo:function(){var t=this;this.$http.get("/api/getnew/"+this.id).then(function(e){0===e.body.status?t.newsinfo=e.body.message[0]:Toast("获取新闻失败！")})},print:function(t){this.type=1==t?1:2==t?2:3,this.draw()},getlist:function(){var t=this;this.axios.get("/api/v1/admin/scale/getTestResultDetail",{params:{id:19}}).then(function(e){0==e.data.code&&(t.detail=e.data.data)})},draw:function(){var t=this.$refs.chart;this.myChart&&this.myChart.clear(),this.myChart=this.$echarts.init(t);var e={title:{text:"危机干预综合信息"},color:["#3398DB"],legend:{data:["销量"]},tooltip:{trigger:"axis",formatter:function(t,e,a){console.log(t);for(var i="",n=t[0].name,s=0;s<t.length;s++){n=t.name;i+=t[s][3]+"--"+n+" 得分："+t[s][2]+"<br>"}return i}},grid:{left:"3%",right:"4%",bottom:"7%",containLabel:!0},xAxis:[{type:"category",data:["潜在风险评估","自杀倾向评估","访谈评估","生活事件动态"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"2015",type:"bar",barWidth:"100",data:[10,52,200,334,390]}]};1==this.type?this.option={title:{text:"剖析图"},color:["#3398DB"],tooltip:{},legend:{x:"center",data:["销量"]},radar:{name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:[{name:"言语（sales）",max:6500},{name:"交际（Administration）",max:16e3},{name:"待人（Information Techology）",max:3e4},{name:"交谈（Customer Support）",max:38e3},{name:"交际（Development）",max:52e3},{name:"市场（Marketing）",max:25e3}]},series:[{name:"预算 vs 开销（Budget vs spending）",type:"radar",data:[{value:[4300,1e4,28e3,35e3,5e4,19e3],name:"预算分配（Allocated Budget）",label:{normal:{show:!0,formatter:function(t){return t.value}}}}]}]}:2==this.type?this.option={xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},tooltip:{},series:[{data:[820,932,901,934,1290,1330,1320],type:"line"}]}:this.option=e,this.myChart.setOption(this.option),this.myChart.resize();this.myChart.on("click",function(t){console.log(t),"潜在风险评估"==t.name||"自杀倾向评估"==t.name||t.name})},baseinfo:function(t){console.log(t);var e=this;e.axios.post("/api/v1/admin/user/detail",{uid:t}).then(function(t){console.log(t);var a=t.data.data.detail_data,i=t.data.data.unit_group_data,n=[];for(var s in i)n.push(i[s]);i=To.NestedToFlat(n),console.log(i),i.map(function(t,i){if(t.id==a.unit_group)return e.gradename=t.name,a.unit_group=t.name}),a.except=a.auth_group_id,a.birth_day=a.birth_date,console.log(a),e.basedetail=a})}}},Lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{attrs:{id:"print"}},[a("input",{attrs:{type:"button",value:"打 印",title:"打印",onclick:"javascript:self.print()"}}),t._v(" "),a("input",{attrs:{type:"button",id:"btn-word",value:"另存为Word"},on:{click:function(e){t.ex()}}})]),t._v(" "),a("div",{attrs:{id:"word-content"}},[a("h1",{staticStyle:{"text-align":"center"}},[t._v("中学管理系统平台版心理档案")]),t._v(" "),a("h2",[t._v("学生个人信息")]),t._v(" "),a("div",{attrs:{id:"english"}},[t._v("Report of Psychological Test")]),t._v(" "),a("div",{staticClass:"info"},[a("ul",[a("li",[t._v("学号："+t._s(t.basedetail.job_num))]),t._v(" "),a("li",[t._v("姓名："+t._s(t.basedetail.name))]),t._v(" "),a("li",[t._v("性别："+t._s(1==t.basedetail.sex?"男":"女"))]),t._v(" "),a("li",[t._v("出生："+t._s(t.basedetail.birth_date))]),t._v(" "),a("li",[t._v("班级："+t._s(t.basedetail.unit_group))])])]),t._v(" "),a("div",{staticClass:"pagebreak"})]),t._v(" "),a("div",[a("h2",[t._v("测试结果记录")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.scaledata}},[a("el-table-column",{attrs:{prop:"scale_name",label:"量表名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stu_name",label:"学生"}}),t._v(" "),a("el-table-column",{attrs:{prop:"start_test_time",label:"测试时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"valid",label:"有效"}})],1)],1),t._v(" "),a("div",[a("h2",[t._v("访谈记录")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.coachdata}},[a("el-table-column",{attrs:{prop:"location",label:"访谈位置"}}),t._v(" "),a("el-table-column",{attrs:{prop:"send_time",label:"发送时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"访谈时段"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"访谈对象"}}),t._v(" "),a("el-table-column",{attrs:{prop:"counselor_name",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"staus",label:"访谈状态"}})],1)],1),t._v(" "),a("div",[a("h2",[t._v("咨询记录")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.zixundata,border:""}},[a("el-table-column",{attrs:{prop:"job_num",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"预约日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"咨询时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case",label:"问题类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"proc_idea",label:"处理意见"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dos",label:"状态"}})],1)],1),t._v(" "),a("div",[a("h2",[t._v("问题留言记录")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.messagedata,border:""}},[a("el-table-column",{attrs:{prop:"theme",label:"留言主题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"留言内容"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"replys_count",label:"回复数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"更新时间"}})],1)],1)])},staticRenderFns:[]};var Tt=a("VU/8")(Et,Lt,!1,function(t){a("EHMd")},"data-v-92d054cc",null).exports,jt={data:function(){return{isbtnActive:!1,dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["团辅活动数据","点击某一行数据查询当前活动的excel文件列表"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/data/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){var t=this;this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("编辑成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelete:function(t,e){var a=this,i=[];e?i.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){i.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:i}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:H.a,pagination:Y.a}},It={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data vrdata"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"unit_name",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{property:"last_upload_time",sortable:"",label:"最近上传"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"团辅添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"活动名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"团辅编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"活动名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Rt=a("VU/8")(jt,It,!1,function(t){a("rTNR")},"data-v-4a3818a6",null).exports,Pt={data:function(){return{headson:["活动组内文件"],isbtnActive:!1,fileList:[],id:this.$route.query.id,elfileId:"",dialogFormVisible:!1,dialogVisible1:!1,tableData:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},multipleSelection:[],value4:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.$store.commit("sandgroup")},methods:{handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},filterTag:function(t,e){return e.tag===t},filterHandler:function(t,e,a){return e[a.property]===t},handleEdit:function(t,e){console.log(t,e),this.dialogVisible1=!0,this.fileId=e.id},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},handleDelete:function(t,e){console.log(t,e)},getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/file/list",{page:t,size:e,sid:a.id}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)}),this.page.countpage=Math.ceil(this.tableData.length/this.page.pagesize)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleDownload:function(){var t={headers:{"Content-Type":"application/json;charset=utf-8;application/vnd.ms-office"},responseType:"blob"};if(0!==this.multipleSelection.length){var e=[];this.multipleSelection.map(function(t){e.push(t.id)});for(var a=0;a<e.length;a++)this.axios.post("/api/v1/admin/sand/file/download?id="+e[a],{},t).then(function(t){var e=new Blob([t.data],{type:t.data.type}),a=URL.createObjectURL(e);window.location.href=a})}else this.$message("请选择导出文件选项")},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleDelAll:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/admin/sand/file/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getlist(a.page.currentpage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},addnumber:function(){this.dialogFormVisible=!0},beforeAvatarUpload:function(t){var e=t.name.split(".");return"xls"===e[1]||"xlsx"===e[1]?t:(this.$message.error("上传文件只能是 xls/xlsx 格式!"),!1)},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},submitUpload:function(){this.$refs.upload.submit()},progress:function(t,e,a){console.log(t,e,a)},error:function(t){},success:function(t,e,a){if(0==t.code){var i=t.data.upload_path,n=(t.data.suffix,e.name),s=this;this.axios.post("/api/v1/admin/sand/file/add",{sand_group_id:s.id,save_name:n,cache_path:i}).then(function(t){console.log(t),0==t.data.code?(s.getlist(s.page.currentpage,s.page.pagesize),s.$message("增加文件成功")):s.$message(t.data.msg)})}else this.$message(t.msg);console.log(t,e,a)},removeExcel:function(){this.dialogVisible1=!1;var t=this;this.elfileId?this.axios.post("/api/v1/admin/sand/file/move?id="+this.fileId+"&sid="+this.elfileId).then(function(e){0==e.data.code?(t.getlist(t.page.currentpage,t.page.pagesize),t.$message("移动成功")):t.$message(e.data.code)}).catch(function(e){t.$message(e)}):this.$message("请选择转移的沙盘组别")},changevalue:function(t){var e=this;e.$store.state.sandgroups.map(function(a){a.name==t&&(e.elfileId=a.id)})}},components:{headson:H.a,pagination:Y.a}},Nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",class:{btnactive:t.isbtnActive},on:{click:t.handleDownload}},[t._v("\n        导出\n        "),a("i",{staticClass:"iconfont icon-daochu1"})]),t._v(" "),a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:t.handleDelAll}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})]),t._v(" "),a("a",{attrs:{href:"javascript:history.back()"}},[t._v("返回")])]),t._v(" "),a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sand_file_name",label:"报告名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"上传者工号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"上传者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"upload_time",label:"上传时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("移动")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"上传文件",visible:t.dialogFormVisible,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/api/v1/admin/sand/file/upload",headers:{"X-Token":this.$store.state.token},"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:3,"before-upload":t.beforeAvatarUpload,"on-success":t.success,"on-error":t.error,"on-progress":t.progress,"on-exceed":t.handleExceed,"file-list":t.fileList}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传xsl/xslx文件，且不超过500kb")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传文件")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"移动",visible:t.dialogVisible1,width:"600px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible1=e}}},[a("input",{style:{width:"210px",height:"38px","margin-right":"10px"},attrs:{type:"button",value:this.$route.query.name}}),t._v(" "),a("span",[t._v("转移")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.removeExcel}},[t._v("转移")])],1)],1)],1)},staticRenderFns:[]};var Wt=a("VU/8")(Pt,Nt,!1,function(t){a("V1CP")},"data-v-2bf06b43",null).exports,Ut={data:function(){return{isbtnActive:!1,dialogFormVisible:!1,dialogFormVisible1:!1,form:{id:"",name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["VR游戏数据","点击个用户数据查询某个用户的所有VR报告"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/vr/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/data/vrdata/vrdetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,i=[];if(e)i.push(e.id);else{if(0===this.multipleSelection.length)return void this.$message("请至少选中选一项");this.multipleSelection.map(function(t){i.push(t.id)})}var n=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/vr/group/delete",{id:i}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/vr/group/add",{job_num:t.form.id}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:H.a,pagination:Y.a}},Bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data vrdata"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{property:"job_num",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"学生姓名"}}),t._v(" "),a("el-table-column",{attrs:{property:"unit_group_name",label:"所属组别"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",sortable:"",label:"最近上传"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"学号添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"沙盘编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Ot=a("VU/8")(Ut,Bt,!1,function(t){a("DFYo")},"data-v-018bb490",null).exports,Mt={data:function(){return{isbtnActive:!1,headson:["VR组内文件"],fileList:[],dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",tableData:[],page:{currentpage:1,countpage:0,pagesize:20,flag:!1},multipleSelection:[]}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},filterTag:function(t,e){return e.tag===t},filterHandler:function(t,e,a){return e[a.property]===t},handleDelete:function(t,e){console.log(t,e)},getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/vr/report/list",{page:t,size:e,group_id:this.$route.query.id}).then(function(t){console.log(t),0==t.data.code?(a.tableData=t.data.data.list,a.page.countpage=t.data.data.total):a.$message(t.data.msg)})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t},handleDownload:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");for(var i={headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"},n=0;n<a.length;n++)this.axios.post("/api/v1/admin/vr/report/download/"+a[n],{id:a},i).then(function(t){var e=new Blob([t.data],{type:"application/msword"}),a=URL.createObjectURL(e);window.location.href=a})},handleDelAll:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/admin/vr/report/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getlist(a.page.currentpage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},addnumber:function(){this.dialogFormVisible=!0},beforeAvatarUpload:function(t){var e=t.name.split(".");return console.log(t),"docx"===e[1]||"doc"===e[1]?t:(this.$message.error("上传文件只能是 word文档"),!1)},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},submitUpload:function(){this.$refs.upload.submit()},progress:function(t,e,a){console.log(t,e,a)},error:function(t){},success:function(t,e,a){var i=this,n=t.data.upload_path,s=(t.data.suffix,e.name);console.log(s),i.axios.post("/api/v1/admin/vr/report/add",{group_id:this.$route.query.id,save_name:s,cache_path:n}).then(function(t){console.log(t),0==t.data.code?(i.getlist(i.page.currentpage,i.page.pagesize),i.$message("增加文件成功")):i.$message(t.data.msg)})}},components:{headson:H.a,pagination:Y.a}},qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"data"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",class:{btnactive:t.isbtnActive},on:{click:t.handleDownload}},[t._v("\n        导出\n        "),a("i",{staticClass:"iconfont icon-daochu1"})]),t._v(" "),a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:t.handleDelAll}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})]),t._v(" "),a("a",{attrs:{href:"javascript:history.back()"}},[t._v("返回")])]),t._v(" "),a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"upload_time",label:"上传时间",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"vr_name",label:"文件名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"上传者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"上传者工号"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleDownload(e.$index,e.row)}}},[t._v("下载")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"上传文件",visible:t.dialogFormVisible,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/api/v1/admin/vr/report/upload",headers:{"X-Token":this.$store.state.token},"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:3,"before-upload":t.beforeAvatarUpload,"on-success":t.success,"on-error":t.error,"on-progress":t.progress,"on-exceed":t.handleExceed,"file-list":t.fileList}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传word文件，且不超过500kb")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传文件")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Ht=a("VU/8")(Mt,qt,!1,function(t){a("nk9U")},"data-v-f216d0ae",null).exports,Yt={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["身心反馈"],tableData:[],data:[{create_time:"2019-04-24",id:12,last_upload_time:"2019-04-24",name:"孟凡",unit_name:"展会演示中学"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){this.tableData=this.data},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/data/Coachdetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,i=[];e?i.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){i.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:i}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:H.a}},Gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n          删除\n          "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data vrdata"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"unit_name",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{property:"last_upload_time",sortable:"",label:"最近上传"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"身心反馈添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"身心反馈名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"身心反馈编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"身心反馈名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var Zt=a("VU/8")(Yt,Gt,!1,function(t){a("9516")},"data-v-363c5f95",null).exports,Xt={data:function(){return{headson:["身心反馈组内文件"],fileList:[],id:this.$route.query.id,elfileId:"",dialogFormVisible:!1,dialogVisible1:!1,tableData:[],data:[{id:1,job_num:2,name:"徐媛",sand_file_name:"孟凡.xlsx",upload_time:"2019-04-24 18:51:15"}],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},multipleSelection:[],value4:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.$store.commit("sandgroup")},methods:{handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)},filterTag:function(t,e){return e.tag===t},filterHandler:function(t,e,a){return e[a.property]===t},handleEdit:function(t,e){console.log(t,e),this.dialogVisible1=!0,this.fileId=e.id},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},handleDelete:function(t,e){console.log(t,e)},getlist:function(t,e){this.tableData=this.data},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleDownload:function(){var t={timeout:5e3,headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"};if(0!==this.multipleSelection.length){var e=[];this.multipleSelection.map(function(t){e.push(t.id)});for(var a=0;a<e.length;a++)this.axios.post("/api/v1/admin/sand/file/download/"+e[a],t).then(function(t){var e=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});console.log(t);var a=URL.createObjectURL(e);window.location.href=a})}else this.$message("请选择导出文件选项")},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleDelAll:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/admin/sand/file/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getlist(a.page.currentpage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},addnumber:function(){this.dialogFormVisible=!0},beforeAvatarUpload:function(t){var e=t.name.split(".");return"xls"===e[1]||"xlsx"===e[1]?t:(this.$message.error("上传文件只能是 xls/xlsx 格式!"),!1)},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},submitUpload:function(){this.$refs.upload.submit()},progress:function(t,e,a){console.log(t,e,a)},error:function(t){},success:function(t,e,a){if(0==t.code){var i=t.data.upload_path,n=(t.data.suffix,e.name),s=this;this.axios.post("/api/v1/admin/sand/file/add",{sand_group_id:s.id,save_name:n,cache_path:i}).then(function(t){console.log(t),0==t.data.code?(s.getlist(s.page.currentpage,s.page.pagesize),s.$message("增加文件成功")):s.$message(t.data.msg)})}else this.$message(t.msg);console.log(t,e,a)},removeExcel:function(){this.dialogVisible1=!1;var t=this;this.elfileId?this.axios.post("/api/v1/admin/sand/file/move/"+this.fileId+"/"+this.elfileId).then(function(e){0==e.data.code?(t.getlist(t.page.currentpage,t.page.pagesize),t.$message("移动成功")):t.$message(e.data.code)}).catch(function(e){t.$message(e)}):this.$message("请选择转移的沙盘组别")},changevalue:function(t){var e=this;e.$store.state.sandgroups.map(function(a){a.name==t&&(e.elfileId=a.id)})}},components:{headson:H.a}},Jt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",on:{click:t.handleDownload}},[t._v("\n        导出\n        "),a("i",{staticClass:"iconfont icon-daochu1"})]),t._v(" "),a("span",{staticClass:"del",on:{click:t.handleDelAll}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})]),t._v(" "),a("a",{attrs:{href:"javascript:history.back()"}},[t._v("返回")])]),t._v(" "),a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sand_file_name",label:"报告名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"上传者工号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"上传者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"upload_time",label:"上传时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("移动")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"上传文件",visible:t.dialogFormVisible,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/api/v1/admin/sand/file/upload",headers:{"X-Token":this.$store.state.token},"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:3,"before-upload":t.beforeAvatarUpload,"on-success":t.success,"on-error":t.error,"on-progress":t.progress,"on-exceed":t.handleExceed,"file-list":t.fileList}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传xsl/xslx文件，且不超过500kb")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传文件")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"移动",visible:t.dialogVisible1,width:"600px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible1=e}}},[a("input",{style:{width:"210px",height:"38px","margin-right":"10px"},attrs:{type:"button",value:this.$route.query.name}}),t._v(" "),a("span",[t._v("转移")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.removeExcel}},[t._v("转移")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var Qt=a("VU/8")(Xt,Jt,!1,function(t){a("KVo+")},"data-v-5c5cf68f",null).exports,Kt={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["身心放松组数据"],tableData:[],data:[{create_time:"2019-04-24",id:12,last_upload_time:"2019-04-24",name:"孟凡",unit_name:"展会演示中学"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){this.tableData=this.data},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/data/feedbackdetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,i=[];e?i.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){i.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:i}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:H.a}},te={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n          删除\n          "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data vrdata"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"unit_name",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{property:"last_upload_time",sortable:"",label:"最近上传"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"放松组添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"放松组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"放松组编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"放松组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var ee=a("VU/8")(Kt,te,!1,function(t){a("qEVb")},"data-v-24444861",null).exports,ae={data:function(){return{headson:["沙盘组内文件"],fileList:[],id:this.$route.query.id,elfileId:"",dialogFormVisible:!1,dialogVisible1:!1,tableData:[],data:[{id:1,job_num:2,name:"徐媛",sand_file_name:"孟凡.xlsx",upload_time:"2019-04-24 18:51:15"}],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},multipleSelection:[],value4:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.$store.commit("sandgroup")},methods:{handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)},filterTag:function(t,e){return e.tag===t},filterHandler:function(t,e,a){return e[a.property]===t},handleEdit:function(t,e){console.log(t,e),this.dialogVisible1=!0,this.fileId=e.id},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},handleDelete:function(t,e){console.log(t,e)},getlist:function(t,e){this.tableData=this.data},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleDownload:function(){var t={timeout:5e3,headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"};if(0!==this.multipleSelection.length){var e=[];this.multipleSelection.map(function(t){e.push(t.id)});for(var a=0;a<e.length;a++)this.axios.post("/api/v1/admin/sand/file/download/"+e[a],t).then(function(t){var e=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});console.log(t);var a=URL.createObjectURL(e);window.location.href=a})}else this.$message("请选择导出文件选项")},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleDelAll:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/admin/sand/file/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getlist(a.page.currentpage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},addnumber:function(){this.dialogFormVisible=!0},beforeAvatarUpload:function(t){var e=t.name.split(".");return"xls"===e[1]||"xlsx"===e[1]?t:(this.$message.error("上传文件只能是 xls/xlsx 格式!"),!1)},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},submitUpload:function(){this.$refs.upload.submit()},progress:function(t,e,a){console.log(t,e,a)},error:function(t){},success:function(t,e,a){if(0==t.code){var i=t.data.upload_path,n=(t.data.suffix,e.name),s=this;this.axios.post("/api/v1/admin/sand/file/add",{sand_group_id:s.id,save_name:n,cache_path:i}).then(function(t){console.log(t),0==t.data.code?(s.getlist(s.page.currentpage,s.page.pagesize),s.$message("增加文件成功")):s.$message(t.data.msg)})}else this.$message(t.msg);console.log(t,e,a)},removeExcel:function(){this.dialogVisible1=!1;var t=this;this.elfileId?this.axios.post("/api/v1/admin/sand/file/move/"+this.fileId+"/"+this.elfileId).then(function(e){0==e.data.code?(t.getlist(t.page.currentpage,t.page.pagesize),t.$message("移动成功")):t.$message(e.data.code)}).catch(function(e){t.$message(e)}):this.$message("请选择转移的沙盘组别")},changevalue:function(t){var e=this;e.$store.state.sandgroups.map(function(a){a.name==t&&(e.elfileId=a.id)})}},components:{headson:H.a}},ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",on:{click:t.handleDownload}},[t._v("\n        导出\n        "),a("i",{staticClass:"iconfont icon-daochu1"})]),t._v(" "),a("span",{staticClass:"del",on:{click:t.handleDelAll}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})]),t._v(" "),a("a",{attrs:{href:"javascript:history.back()"}},[t._v("返回")])]),t._v(" "),a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sand_file_name",label:"报告名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"上传者工号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"上传者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"upload_time",label:"上传时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("移动")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"上传文件",visible:t.dialogFormVisible,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/api/v1/admin/sand/file/upload",headers:{"X-Token":this.$store.state.token},"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:3,"before-upload":t.beforeAvatarUpload,"on-success":t.success,"on-error":t.error,"on-progress":t.progress,"on-exceed":t.handleExceed,"file-list":t.fileList}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传xsl/xslx文件，且不超过500kb")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传文件")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"移动",visible:t.dialogVisible1,width:"600px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible1=e}}},[a("input",{style:{width:"210px",height:"38px","margin-right":"10px"},attrs:{type:"button",value:this.$route.query.name}}),t._v(" "),a("span",[t._v("转移")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.removeExcel}},[t._v("转移")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var ne=a("VU/8")(ae,ie,!1,function(t){a("/uNm")},"data-v-cfaebf9a",null).exports,se={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["团体辅导数据"],tableData:[],data:[{create_time:"2019-04-24",id:12,last_upload_time:"2019-04-24",name:"李静",unit_name:"展会演示中学"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){this.tableData=this.data},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/data/relexdetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,i=[];e?i.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){i.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:i}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:H.a}},oe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n          删除\n          "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data vrdata"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"unit_name",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{property:"last_upload_time",sortable:"",label:"最近上传"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"团体辅导添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"团体辅导组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"团体辅导编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"团体辅导名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var le=a("VU/8")(se,oe,!1,function(t){a("1JXg")},"data-v-4dbb8cce",null).exports,re={data:function(){return{headson:["放松组内文件"],fileList:[],id:this.$route.query.id,elfileId:"",dialogFormVisible:!1,dialogVisible1:!1,tableData:[],data:[{id:1,job_num:2,name:"徐媛",sand_file_name:"李静.xlsx",upload_time:"2019-04-24 18:51:15"}],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},multipleSelection:[],value4:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.$store.commit("sandgroup")},methods:{handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)},filterTag:function(t,e){return e.tag===t},filterHandler:function(t,e,a){return e[a.property]===t},handleEdit:function(t,e){console.log(t,e),this.dialogVisible1=!0,this.fileId=e.id},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},handleDelete:function(t,e){console.log(t,e)},getlist:function(t,e){this.tableData=this.data},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleDownload:function(){var t={timeout:5e3,headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"};if(0!==this.multipleSelection.length){var e=[];this.multipleSelection.map(function(t){e.push(t.id)});for(var a=0;a<e.length;a++)this.axios.post("/api/v1/admin/sand/file/download/"+e[a],t).then(function(t){var e=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});console.log(t);var a=URL.createObjectURL(e);window.location.href=a})}else this.$message("请选择导出文件选项")},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleDelAll:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/admin/sand/file/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getlist(a.page.currentpage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},addnumber:function(){this.dialogFormVisible=!0},beforeAvatarUpload:function(t){var e=t.name.split(".");return"xls"===e[1]||"xlsx"===e[1]?t:(this.$message.error("上传文件只能是 xls/xlsx 格式!"),!1)},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},submitUpload:function(){this.$refs.upload.submit()},progress:function(t,e,a){console.log(t,e,a)},error:function(t){},success:function(t,e,a){if(0==t.code){var i=t.data.upload_path,n=(t.data.suffix,e.name),s=this;this.axios.post("/api/v1/admin/sand/file/add",{sand_group_id:s.id,save_name:n,cache_path:i}).then(function(t){console.log(t),0==t.data.code?(s.getlist(s.page.currentpage,s.page.pagesize),s.$message("增加文件成功")):s.$message(t.data.msg)})}else this.$message(t.msg);console.log(t,e,a)},removeExcel:function(){this.dialogVisible1=!1;var t=this;this.elfileId?this.axios.post("/api/v1/admin/sand/file/move/"+this.fileId+"/"+this.elfileId).then(function(e){0==e.data.code?(t.getlist(t.page.currentpage,t.page.pagesize),t.$message("移动成功")):t.$message(e.data.code)}).catch(function(e){t.$message(e)}):this.$message("请选择转移的沙盘组别")},changevalue:function(t){var e=this;e.$store.state.sandgroups.map(function(a){a.name==t&&(e.elfileId=a.id)})}},components:{headson:H.a}},ce={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",on:{click:t.handleDownload}},[t._v("\n        导出\n        "),a("i",{staticClass:"iconfont icon-daochu1"})]),t._v(" "),a("span",{staticClass:"del",on:{click:t.handleDelAll}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})]),t._v(" "),a("a",{attrs:{href:"javascript:history.back()"}},[t._v("返回")])]),t._v(" "),a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sand_file_name",label:"报告名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"上传者工号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"上传者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"upload_time",label:"上传时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("移动")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"上传文件",visible:t.dialogFormVisible,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/api/v1/admin/sand/file/upload",headers:{"X-Token":this.$store.state.token},"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:3,"before-upload":t.beforeAvatarUpload,"on-success":t.success,"on-error":t.error,"on-progress":t.progress,"on-exceed":t.handleExceed,"file-list":t.fileList}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传xsl/xslx文件，且不超过500kb")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传文件")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"移动",visible:t.dialogVisible1,width:"600px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible1=e}}},[a("input",{style:{width:"210px",height:"38px","margin-right":"10px"},attrs:{type:"button",value:this.$route.query.name}}),t._v(" "),a("span",[t._v("转移")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.removeExcel}},[t._v("转移")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var de=a("VU/8")(re,ce,!1,function(t){a("HBig")},"data-v-18bfdead",null).exports,ue={data:function(){return{isbtnActive:!1,dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["问题留言","留言记录"],thead:["序号"],tableData:[{id:"\t近期失眠",name:"任彦达",amount1:"2019.3.20",amount3:"2019-4-31",amount2:10},{id:"\t学习问题",name:"李艳",amount1:"2017-12-25",amount3:"2019-04-31",amount2:10}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项")},handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){},handleDownload:function(){var t=this.multipleSelection,e=this.thead;To.handleDownload(e,["id"],t)}},components:{headson:H.a,pagination:Y.a}},me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del"},[t._v("\n        浏览档案\n      ")]),t._v(" "),a("span",{staticClass:"export",class:{btnactive:t.isbtnActive},on:{click:t.handleDownload}},[t._v("\n          导出\n          "),a("i",{staticClass:"iconfont icon-daochu1"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount1",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount2",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount3",label:"咨询问题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount3",label:"描述"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"问题留言添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"问题留言编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"标题","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("学生信息:")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var pe=a("VU/8")(ue,me,!1,function(t){a("yHmg")},"data-v-f1fbdd0e",null).exports,he={data:function(){return{dialogVisible:!1,headson:["咨询中心月报表","咨询中心咨询情况统计记录"],tabls:["总体情况统计","咨询情况汇总"],tabindex:1}},created:function(){},mounted:function(){this.draw()},methods:{tab:function(t){console.log(t),this.tabindex=t-0+1,2==this.tabindex&&this.chart2()},draw:function(){var t=this.$refs.chart;this.myChart=this.$echarts.init(t);var e=this;this.myChart.setOption({title:{text:"总体情况统计",subtext:"纯属虚构",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["访谈统计","个案追踪","会商","咨询记录统计"]},series:[{name:"比例",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"访谈统计"},{value:310,name:"个案追踪"},{value:234,name:"会商"},{value:135,name:"咨询记录统计"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),this.myChart.resize(),this.myChart.on("click",function(t){console.log(t),e.dialogVisible=!0,setTimeout(function(){e.getdata()},500)})},getdata:function(){var t=this.$refs.detaildata;console.log(t),this.myChart=this.$echarts.init(t);var e={color:["#3398DB"],title:{text:"总体情况统计",subtext:"纯属虚构",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["学业问题","恋爱关系","人际交往","职业发展","情绪问题","身体躯病","师生关系"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"直接访问",type:"bar",label:{normal:{show:!0,textBorderColor:"fff",textBorderWidth:2}},barWidth:"50%",data:[10,52,200,334,390,330,220]}]};this.myChart.setOption(e),this.myChart.resize()},chart2:function(){var t=this.$refs.chart2;this.myChart=this.$echarts.init(t);this.myChart.setOption({title:{text:"咨询中心情况统计",subtext:"纯属虚构",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["大一","大二","大三","大四"]},series:[{name:"比例",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"大一"},{value:310,name:"大二"},{value:234,name:"大三"},{value:135,name:"大四"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),this.myChart.resize()}},components:{headson:H.a}},fe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,i){return a("li",{key:i,class:{tabactive:t.tabindex-1==i},on:{click:function(e){t.tab(i)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",{staticClass:"data"},[a("li",{directives:[{name:"show",rawName:"v-show",value:1==t.tabindex,expression:"tabindex==1"}],staticClass:"data1"},[a("div",{ref:"chart",staticClass:"chart"}),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"700px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{ref:"detaildata",staticClass:"detail"}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:2==t.tabindex,expression:"tabindex==2"}],staticClass:"data2"},[a("div",{ref:"chart2",staticClass:"chart2"})])])],1)},staticRenderFns:[]};var ge=a("VU/8")(he,fe,!1,function(t){a("YxKm")},"data-v-99fcaa1c",null).exports,ve={data:function(){return{isbtnActive:!1,dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["问题留言","留言记录"],thead:["序号"],tableData:[{id:"\t近期失眠",name:"任彦达",amount1:"2019.3.20",amount3:"2019-4-31",amount2:10},{id:"\t学习问题",name:"李艳",amount1:"2017-12-25",amount3:"2019-04-31",amount2:10}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项")},handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){},handleDownload:function(){var t=this.multipleSelection,e=this.thead;To.handleDownload(e,["id"],t)}},components:{headson:H.a,pagination:Y.a}},_e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          人员范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          人员类型：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"work"}),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount1",label:"事件"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount2",label:"时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount3",label:"IP"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount3",label:"描述"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"问题留言添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"问题留言编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"标题","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字:")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var be,xe=a("VU/8")(ve,_e,!1,function(t){a("SdNX")},"data-v-4f9ceca7",null).exports,ye={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form1:{name:"",desc:"",sort:""},form:{id:"",name:"",desc:"",sort:""},formLabelWidth:"120px",page:{currentPage:1,countpage:0,pagesize:10,flag:!1},headson:["网站栏目列表","栏目列表情况"],tableData:[],currentRow:null}},created:function(){this.getlist(this.page.currentPage,this.page.pagesize)},methods:(be={getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/article/column/list",{page:t,size:e}).then(function(i){0==i.data.code?(a.page.countpage=i.data.data.total,a.tableData=i.data.data.list,a.tableData.map(function(a,i){a.sort=(t-1)*e+(i+1)})):a.$message(i.data.msg)})},handleCurrentChange:function(t){this.currentRow=t,console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentPage,this.page.pagesize)}},v()(be,"handleCurrentChange",function(t){console.log("当前页: "+t),this.page.currentPage=t,this.getlist(this.page.currentPage,this.page.pagesize)}),v()(be,"del",function(t,e){var a=this,i=[];e&&i.push(e.id);var n=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/article/column/delete",{id:i}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentPage,n.page.pagesize),n.$store.commit("column")):n.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}),v()(be,"handleEdit",function(t,e){this.dialogFormVisible=!0,this.form.id=e.id,this.form.name=e.name,this.form.desc=e.desc,this.form.sort=e.sort}),v()(be,"add",function(){this.dialogFormVisible1=!1;var t=this;this.form1.name&&this.form1.name.length>=4?this.axios.post("/api/v1/admin/article/column/add",{name:this.form1.name,desc:this.form1.desc,sort:this.form1.sort}).then(function(e){0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentPage,t.page.pagesize),t.$store.commit("column")):t.$message(e.data.msg)}):t.$message("请填栏目名称或者名称字符长度至少为4")}),v()(be,"editSure",function(){var t=this;t.axios.post("/api/v1/admin/article/column/edit",{id:this.form.id,name:this.form.name,desc:this.form.desc,sort:this.form.sort}).then(function(e){0==e.data.code?(t.$message("编辑成功"),t.dialogFormVisible=!1,t.getlist(t.page.currentPage,t.page.pagesize),t.$store.commit("column")):t.$message(e.data.msg)})}),be),components:{headson:H.a}},we={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"datas"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:""}},[t._v(t._s(e.row.sort))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"栏目名称",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:""}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"desc",label:"栏目描述"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.del(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",[a("div",{staticClass:"add",on:{click:function(e){t.dialogFormVisible1=!0}}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"栏目增加",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"序号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.sort,callback:function(e){t.$set(t.form1,"sort",e)},expression:"form1.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"栏目名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"栏目描述","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.desc,callback:function(e){t.$set(t.form1,"desc",e)},expression:"form1.desc"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.add()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"栏目编辑",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"序号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"栏目名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"栏目描述","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.editSure()}}},[t._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var ke=a("VU/8")(ye,we,!1,function(t){a("f4Gj")},"data-v-25965232",null).exports,Ce=a("sYY+"),$e=a.n(Ce),Se={data:function(){return{isbtnActive:!1,Groupid:"",group:"",index1:"",headson:["文章列表","获取文章列表信息"],addflag:!1,values:{value1:"",value2:"",value3:"",value4:"",select:""},page:{currentPage:1,countpage:0,pagesize:10,flag:!1},tableData:[],multipleSelection:[],dialogFormVisible:!1,dialogTableVisible:!1,form:{value:"",title:"",textarea:"",editorContent:"<h1>Some initial content</h1>",type:""},gridData:[],formLabelWidth:"120px",editor:"",id:""}},mounted:function(){},created:function(){this.getList(this.page.currentPage,this.page.pagesize)},methods:v()({getList:function(t,e){var a=this;a.axios.post("/api/v1/admin/article/list",{page:t,size:e}).then(function(t){0==t.data.code?(a.tableData=t.data.data.list,a.page.countpage=t.data.data.total):a.$message(t.data.msg)})},handleSizeChange:function(t){this.page.pagesize=t,this.getList(this.page.currentPage,this.page.pagesize)},handleCurrentChange:function(t){this.page.currentPage=t,this.getList(this.page.currentPage,this.page.pagesize)},handleEdit:function(t,e){console.log(t,e);var a=e.id;this.id=a,this.dialogFormVisible=!0},getEle:function(){var t=this;if(!t.editor){console.log(t.editor);var e=this.$refs.editorElement;this.editor=new $e.a(e),this.editor.customConfig.onchange=function(e){t.form.editorContent=e,console.log(e)},this.editor.customConfig.uploadImgShowBase64=!0,this.editor.customConfig.uploadImgServer="<%=path%>/Img/upload",this.editor.customConfig.uploadImgMaxSize=3145728,this.editor.customConfig.uploadImgMaxLength=5,this.editor.customConfig.uploadFileName="myFileName",this.editor.customConfig.uploadImgHooks={customInsert:function(t,e,a){t(e.data)}},this.editor.create()}t.axios.post("/api/v1/admin/article/detail?id="+t.id).then(function(e){var a=e.data.data;t.form.title=a.theme,t.form.textarea=a.abstract,t.form.editorContent=a.content,t.form.value=a.column_id;var i=a.comment,n=a.topping;t.form.type=[],i-0==1&&t.form.type.push("允许评论或回复"),n-0==1&&t.form.type.push("应栏目内置顶/推荐文章"),console.log(a),t.editor.txt.html(t.form.editorContent)})},Reading:function(t,e){console.log(t,e),this.dialogTableVisible=!0},handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},submitcontent:function(){var t,e;this.dialogFormVisible=!1,console.log(this.form);var a=this;this.form.value&&this.form.title?(t=this.form.type.indexOf("允许评论或回复"),e=this.form.type.indexOf("应栏目内置顶/推荐文章"),t=-1!==t?1:0,e=-1!==e?1:0,this.axios.post("/api/v1/admin/article/edit",{id:a.id,column_id:this.form.value,theme:this.form.title,abstract:this.form.textarea,content:this.form.editorContent,comment:t,topping:e}).then(function(t){0==t.data.code?(a.$message("编辑文章成功"),a.getList(a.page.currentPage,a.page.pagesize)):a.$message(t.data.msg)})):this.$message("类型或者主题不能为空")},handleDelAll:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;a.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){console.log(e),a.axios.post("/api/v1/admin/article/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getList(a.page.currentPage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},showtable:function(){console.log(1)}},"Reading",function(){this.multipleSelection;var t=[];if(this.multipleSelection.length>0){this.dialogTableVisible=!0,this.multipleSelection.map(function(e){t.push(e.id)});var e=this;this.axios.post("/api/v1/admin/article/visit/detail",{id:t}).then(function(t){0==t.data.code&&(e.gridData=t.data.data)})}else this.$message("请至少选择一项")}),components:{headson:H.a,schoolcheck:W}},ze={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"work"},[a("span",{staticClass:"del iconfont icon-daochu1",class:{btnactive:t.isbtnActive},on:{click:t.handleDelAll}},[t._v("删除")]),t._v(" "),a("span",{staticClass:"dev",class:{btnactive:t.isbtnActive},on:{click:t.Reading}},[t._v("阅读情况")])]),t._v(" "),a("div",{staticClass:"datas"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"文章主题",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.theme))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"栏目类型",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"发布者工号","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"发布者","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"发表日期","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"允许评论"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.comment-0==1?a("span",{staticClass:"el-icon-check",staticStyle:{color:"green"}}):a("span",{staticClass:"el-icon-close",staticStyle:{color:"red"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"b",label:"置顶"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.topping-0==1?a("span",{staticClass:"el-icon-check",staticStyle:{color:"green"}}):a("span",{staticClass:"el-icon-close",staticStyle:{color:"red"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("修改")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"修改文章",visible:t.dialogFormVisible,width:"900px"},on:{"update:visible":function(e){t.dialogFormVisible=e},opened:t.getEle}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"类别","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}},t._l(t.$store.state.columns,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"主题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入密码"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"摘要","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.form.textarea,callback:function(e){t.$set(t.form,"textarea",e)},expression:"form.textarea"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("div",{ref:"editorElement",staticStyle:{"{width":"500px}"},attrs:{id:"editorElement"}})]),t._v(" "),a("el-form-item",{attrs:{label:"设置","label-width":t.formLabelWidth}},[a("el-checkbox-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-checkbox-button",{attrs:{label:"允许评论或回复",name:"type"}}),t._v("  \n              "),a("el-checkbox-button",{attrs:{label:"应栏目内置顶/推荐文章",name:"type"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitcontent}},[t._v("提交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"阅读情况",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{attrs:{data:t.gridData}},[a("el-table-column",{attrs:{property:"theme",label:"文章主题",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{property:"theme",label:"文章主题",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"栏目类型",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{property:"visit_count",label:"访问量",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{property:"comment_count",label:"评论量",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{property:"last_visit_time",label:"最后访问时间"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1)},staticRenderFns:[]};var Fe=a("VU/8")(Se,ze,!1,function(t){a("ikvL")},"data-v-2e2ac85e",null).exports,Ae={data:function(){return{headson:["发布文章",""],formLabelWidth:"120px",dialogFormVisible:!0,form:{title:"",textarea:"",editorContent:"<h1>Some initial content</h1>",type:[],options:[],value:""}}},mounted:function(){var t=this;console.log(this.$store.state.columns);var e=new $e.a("#editorElem");console.log(e),e.customConfig.onchange=function(e){t.form.editorContent=e,console.log(e)},e.customConfig.uploadImgServer="/api/v1/admin/article/upload",e.customConfig.uploadImgMaxSize=3145728,e.customConfig.uploadImgMaxLength=5,e.customConfig.uploadFileName="file",e.customConfig.uploadImgHeaders={"X-Token":this.$store.state.token},e.customConfig.uploadImgHooks={customInsert:function(t,e,a){0==e.code?t("/uploads/"+e.data.upload_path):that.$message(e.msg)}},e.create()},methods:{submitcontent:function(){var t,e,a=this;this.form.value&&this.form.title?(t=this.form.type.indexOf("允许评论"),e=this.form.type.indexOf("栏目内置顶"),t=-1!==t?1:0,e=-1!==e?1:0,this.axios.post("/api/v1/admin/article/publish",{column_id:this.form.value,theme:this.form.title,abstract:this.form.textarea,content:this.form.editorContent,comment:t,topping:e}).then(function(t){0==t.data.code?a.$message("发表文章成功"):a.$message(t.data.msg)})):this.$message("类型或者主题不能为空")}},components:{headson:H.a}},De={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"data"},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"类别","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}},t._l(t.$store.state.columns,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"主题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入主题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"摘要","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.form.textarea,callback:function(e){t.$set(t.form,"textarea",e)},expression:"form.textarea"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("div",{style:{"text-align":"left","min-height":"500px"},attrs:{id:"editorElem"}})]),t._v(" "),a("el-form-item",{attrs:{label:"设置","label-width":t.formLabelWidth}},[a("el-checkbox-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-checkbox-button",{attrs:{label:"允许评论",name:"type"}}),t._v("  \n         "),a("el-checkbox-button",{attrs:{label:"栏目内置顶",name:"type"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitcontent}},[t._v("提交")])],1)],1)])],1)},staticRenderFns:[]};var Ve=a("VU/8")(Ae,De,!1,function(t){a("1NoI")},"data-v-1af50d61",null).exports,Ee={data:function(){return{page:{currentPage:1,countpage:"",pagesize:1,flag:!1,offset:0,size:"20"},headson:["阅读情况","获取阅读情况"],tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}],currentRow:null}},methods:v()({handleCurrentChange:function(t){this.currentRow=t,console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条")}},"handleCurrentChange",function(t){console.log("当前页: "+t)}),components:{headson:H.a}},Le={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"body"},[t._m(0),t._v(" "),a("div",{staticClass:"datas"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":""},on:{"current-change":t.handleCurrentChange}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"标题",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:""}},[t._v(t._s(e.row.date))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"姓名",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:""}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"address",label:"打开次数"}}),t._v(" "),a("el-table-column",{attrs:{property:"address",label:"时长"}}),t._v(" "),a("el-table-column",{attrs:{property:"address",label:"最近访问时间"}})],1)],1)]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:400},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"work"},[e("span",{staticClass:"Refresh"},[this._v("刷新")]),this._v(" "),e("span",{staticClass:"returnBack"},[this._v("返回")])])}]};var Te=a("VU/8")(Ee,Le,!1,function(t){a("/tUy")},"data-v-3696e50c",null).exports,je={data:function(){return{Groupid:"",group:"",index1:"",headson:["文章列表","获取文章列表信息"],addflag:!1,values:{value1:"",value2:"",value3:"",value4:"",select:""},tableflag:!1,page:{currentPage:1,countpage:"",pagesize:1,flag:!1,offset:0,size:"20"},tableData:[{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-08",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-06",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-07",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}],multipleSelection:[]}},created:function(){this.getList()},mounted:function(){},methods:v()({getList:function(){},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t)},handleEdit:function(t,e){console.log(t,e),this.dialogFormVisible=!0},Reading:function(t,e){console.log(t,e),this.dialogTableVisible=!0},handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)},submitcontent:function(){this.dialogFormVisible=!1,console.log(this.form.htmlForEditor)},handleDelAll:function(){this.multipleSelection},showtable:function(){this.tableflag=!0,console.log(1)},complete:function(){this.addflag=!1,console.log(this.values),this.$refs.tab.addnumber()},queding:function(t){console.log(this.value1),this.addflag=!1,this.index1="",console.log(this.values.select)},cancle:function(t){this.addflag=!1,this.index1="",console.log("zg")},setting:function(t){console.log(t),this.index1=t,console.log(this.values.select)},del:function(t){}},"handleDelAll",function(){for(var t=this.$refs.icheck,e=[],a=0;a<t.length;a++)if(t[a].checked){var i=t[a].value;console.log(i),e.push(i)}console.log(e)}),components:{headson:H.a,schoolcheck:W}},Ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[t._m(0),t._v(" "),t._m(1),t._v(" "),a("li",[a("span",[t._v("作者：")]),t._v(" "),a("input",{attrs:{type:"text",value:"",id:"person"}}),t._v(" "),a("i",{staticClass:"iconfont icon-sousuo",on:{click:function(e){t.showtable()}}}),t._v(" "),a("span",{staticClass:"iconfont icon-wenhao"})])])]),t._v(" "),t.tableflag?a("div",{staticClass:"body"},[a("div",{staticClass:"datas"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"书号",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.date))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"ID",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"书名","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"作者","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"出版社","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"出版日期","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"定价","show-overflow-tooltip":""}})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:400},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("书号：")]),this._v(" "),e("input",{attrs:{type:"text",value:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("书名：")]),this._v(" "),e("input",{attrs:{type:"text",value:""}})])}]};var Re=a("VU/8")(je,Ie,!1,function(t){a("ITnX")},"data-v-e4aa12b6",null).exports,Pe=a("QaH6"),Ne=(a("E0VQ"),{data:function(){return{title:"",Mouseoverflag:!0,dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",config:{locale:"zh-cn",header:{left:"month",center:"title",right:"today prev,next,prevYear,nextYear "},allDay:!0,defaultView:"month",displayEventTime:!1,eventLimit:4,eventLimitText:"更多",allDayDefault:!1,eventLimitClick:"popover"},monthData:[],headson:["预约管理","预约时间主题管理"],tableData:[{id:"1",a1:"周一",a2:"2:00-400",a3:"50"},{id:"1",a1:"周一",a2:"2:00-400",a3:"50"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{viewrender:function(t,e){var a=this.$refs.calendar.fireMethod("getDate")._d,i=this;i.monthData=[],this.axios.post("/api/v1/admin/counsel/monthList",{year:a.getFullYear(),month:a.getMonth()+1}).then(function(t){t.data.data.map(function(t,e){t.date=wt()(t.start_time).format("YYYY-MM-DD"),t.times=wt()(t.start_time).format("HH:mm:ss")+"至"+wt()(t.end_time).format("HH:mm:ss")+" "+t.name+" "+t.funcname;var a={};a.title=t.times,a.start=t.start_time,a.end=t.end_time;var n=t.status;1==n&&(wt()().isBetween(t.start_time,t.end_time)&&(n=4));switch(n-0){case 0:a.backgroundColor="rgb(25, 190, 107)";break;case 1:a.backgroundColor="rgb(45, 140, 240)";break;case 3:a.backgroundColor="rgb(255, 153, 0)";break;case 4:a.backgroundColor="rgb(124, 46, 155)"}i.monthData.push(a)})})},getfunc:function(){var t=this;this.axios.post("/api/v1/admin/func/selectList").then(function(e){0==e.data.code&&(t.funcs=e.data.data)})},getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/counsel/monthList",{page:currentpage,size:pagesize}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},changeMonth:function(t,e,a){},eventClick:function(t,e,a){},dayClick:function(t,e){console.log("dayClick",t,e)},moreClick:function(t,e,a){},eventMouseover:function(t,e,a){if(this.Mouseoverflag){this.$refs.toop.style.display="block";var i=document.documentElement.scrollTop||document.body.scrollTop;this.$refs.toop.style.left=e.clientX+"px",this.$refs.toop.style.top=e.clientY+i+"px",this.title=t.title,this.Mouseoverflag=!1}},eventmouseout:function(){this.Mouseoverflag=!0,this.$refs.toop.style.display="none"},eventLimitClick:function(){console.log("ssss")}},components:{headson:H.a,pagination:Y.a,"full-calendar":Pe.a}}),We={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data",attrs:{id:"calendar"}},[a("span",{ref:"toop",staticClass:"toop"},[t._v("提示:"+t._s(t.title))]),t._v(" "),a("full-calendar",{ref:"calendar",staticClass:"test-fc",attrs:{events:t.monthData,config:t.config,"first-day":"1",locale:"fr"},on:{"event-selected":t.eventClick,"day-click":t.dayClick,"event-mouseover":t.eventMouseover,"event-mouseout":t.eventmouseout,"view-render":t.viewrender}})],1),t._v(" "),t._m(0),t._v(" "),a("el-dialog",{attrs:{title:"咨询时间添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"咨询时间编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticStyle:{"margin-top":"50px"},attrs:{id:"msg"}},[e("li",{staticStyle:{color:"#19be6b"},attrs:{title:"学生段可预约此时段，管理员段点击后可以手动添加预约（即指定）"}},[this._v("◼ 没有预约")]),this._v(" "),e("li",{staticStyle:{color:"#2d8cf0"},attrs:{title:"管理员点击后可以进行回复、确认、删除等处理"}},[this._v("◼ 有人预约")]),this._v(" "),e("li",{staticStyle:{color:"#7C2E9B"},attrs:{title:"该时段已经添加了咨询记录，可以查看或者修改"}},[this._v("◼ 正在咨询")])])}]};var Ue=a("VU/8")(Ne,We,!1,function(t){a("7dyJ")},"data-v-b4c43c68",null).exports,Be={data:function(){return{headson:["访谈邀请安排","邀请时间记录"],formLabelWidth:300,select:""}},methods:{back:function(){this.$router.go(-1)}},components:{headson:H.a}},Oe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[a("div",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:t.formLabelWidth,callback:function(e){t.formLabelWidth=e},expression:"formLabelWidth"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择",size:"large"},slot:"prepend",model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[a("el-option",{attrs:{label:"餐厅名",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"订单号",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"用户电话",value:"3"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)])])]),t._v(" "),a("div",[t._m(0),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.back()}}},[t._v("返回")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.back()}}},[t._v("增加")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#008000"}},[t._v("无预约时段")]),t._v(" "),a("div",{staticClass:"times"},[t._v("张老师 9:00-10:00")])]),t._v(" "),a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#169BD5"}},[t._v("尚未处理时段")]),t._v(" "),a("div",{staticClass:"times"},[t._v("张老师 9:00-10:00")])]),t._v(" "),a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#FF9900"}},[t._v("教师已确认预约")]),t._v(" "),a("div",{staticClass:"times"},[t._v("张老师 9:00-10:00")])]),t._v(" "),a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#FF0000"}},[t._v("双方已确认")]),t._v(" "),a("div",{staticClass:"times"},[t._v("张老师 9:00-10:00")])]),t._v(" "),a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#999999"}},[t._v("忙碌状态")]),t._v(" "),a("div",{staticClass:"times"},[t._v("张老师 9:00-10:00")])]),t._v(" "),a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#333333"}},[t._v("开始咨询")]),t._v(" "),a("div",{staticClass:"times"},[t._v("张老师 9:00-10:00")])])])}]};var Me=a("VU/8")(Be,Oe,!1,function(t){a("Gz/l")},"data-v-31511bce",null).exports,qe={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["咨询记录管理","查询学生用户预约咨询主题后的咨询记录"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/counsel/clientList",{page:t,size:e}).then(function(t){if(0==t.data.code){a.page.countpage=t.data.data.total;var e=t.data.data.list;e.map(function(t,i){t.times=wt()(t.start_time).format("HH:mm:ss")+"至"+wt()(t.end_time).format("HH:mm:ss"),t.date=wt()(t.start_time).format("YYYY-MM-DD");var n=t.trace_type-0;switch(n){case 0:t.case="无需关注";break;case 1:t.case="学业问题";break;case 2:t.case="恋爱关系";break;case 3:t.case="人际交往";break;case 4:t.case="职业发展";break;case 5:t.case="情绪问题";break;case 6:t.case="躯体疾病"}t.dos=0==n?"未处理":"已处理",a.tableData=e})}console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?that.$message("编辑成功"):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?i.$message("删除成功"):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?t.$message("增加成功"):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a,pagination:Y.a}},He={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,border:"","cell-style":{width:"80px",height:"30px"}}},[a("el-table-column",{attrs:{prop:"job_num",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"预约日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"咨询时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case",label:"问题类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"proc_idea",label:"处理意见"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dos",label:"状态"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"咨询记录添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"姓名","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"咨询记录编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("ul")])}]};var Ye=a("VU/8")(qe,He,!1,function(t){a("NxjI")},"data-v-a8adb384",null).exports,Ge={data:function(){return{step:1,dialogFormVisible:!1,dialogFormVisible1:!1,loading:!1,pickerOptions1:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},roles:"",funcs:"",counselorname:"",form:{counselor:"",func_id:"",start_time:"",end_time:"",remarks:""},freetime:[],date:"",form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["咨询时间管理","设置咨询时间"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.changeobj(this.tableData),this.getfunc(),this.remoteMethod("")},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/counsel/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,t.data.data.list.map(function(t,e){t.date=wt()(t.start_time).format("YYYY-MM-DD"),t.times=wt()(t.start_time).format("HH:mm:ss")+"至"+wt()(t.end_time).format("HH:mm:ss")}),a.tableData=t.data.data.list)})},getfunc:function(){var t=this;this.axios.post("/api/v1/admin/func/selectList").then(function(e){0==e.data.code&&(t.funcs=e.data.data)})},remoteMethod:function(t){var e=this;this.axios.get("/api/v1/tools/selectUserList?key="+t).then(function(t){console.log(t),0==t.data.code&&(e.roles=t.data.data)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?that.$message("编辑成功"):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):(console.log(this.multipleSelection),0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项"));var i=this;this.axios.post("/api/v1/admin/counsel/deleteTheme",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){var t=[],e=[],a=this;if(this.date&&this.form.counselor){var i=wt()(this.date).year(),n=wt()(this.date).month()+1;this.axios.post("/api/v1/admin/counsel/monthList",{year:i,month:n}).then(function(i){if(i.data.data.map(function(e,i){if(wt()(e.start_time).format("YYYY-MM-DD")==a.date){var n={};n.start_time=e.start_time,n.end_time=e.end_time,n.func_id=e.func_id;var s=wt()(e.start_time).format("HH:mm:ss")+"至"+wt()(e.end_time).format("HH:mm:ss");n.times=s,t.push(n)}}),console.log(t),t.find(function(t,i){var n=wt()(t.start_time).format("HH:mm"),s=wt()(t.end_time).format("HH:mm"),o=a.compareTime(n,a.form.end_time),l=a.compareTime(a.form.start_time,s);o||l||e.push(t)}),e.find(function(t,e){return t.func_id==a.form.func_id}))a.$message("此功能室在选择的使用时间点已被占用");else{a.dialogFormVisible=!1;var n=new Date(a.date),s=new Date(a.date),o=a.form.start_time.split(":"),l=a.form.end_time.split(":");n.setHours(o[0],o[1]),a.form.start_time=wt()(n).format("YYYY-MM-DD HH:mm:ss"),s.setHours(l[0],l[1]),a.form.end_time=wt()(s).format("YYYY-MM-DD HH:mm:ss"),a.axios.post("/api/v1/admin/counsel/addTheme",a.form).then(function(t){0==t.data.code?(a.$message("增加成功"),a.getlist(a.page.currentpage,a.page.pagesize)):a.$message(t.data.msg)})}})}},compareTime:function(t,e){var a=new Date,i=t.split(":"),n=e.split(":");return a.setHours(i[0],i[1])>=a.setHours(n[0],n[1])},judgeConfig:function(t,e){var a=[];0==a.length&&a.push([t,e]);for(var i=0;i<a.length;i++){var n=this.compareTime(t,a[i][0]),s=this.compareTime(t,a[i][1]),o=this.compareTime(e,a[i][0]),l=this.compareTime(e,a[i][1]);n&&!s||o&&!l?console.log("时间冲突了"):a.push([t,e])}},changevalue:function(t){var e=this;e.roles.map(function(a,i){a.id==t&&(e.counselorname=a.name)})},retu:function(){this.step--,this.step<=1&&(this.step=1),console.log(this.step),this.show(this.step)},next:function(){this.step++,this.step>4&&(this.step=4),this.show(this.step)},show:function(t){var e=this;if(1==t);else if(2==t)this.date||(e.$message("请填日期"),e.step=1);else if(3==t)if(console.log(this.date,this.form.counselor),this.date&&this.form.counselor){var a=wt()(this.date).year(),i=wt()(this.date).month()+1;this.axios.post("/api/v1/admin/counsel/monthList",{year:a,month:i}).then(function(t){e.freetime=[],t.data.data.map(function(t,a){if(wt()(t.start_time).format("YYYY-MM-DD")==e.date&&t.counselor==e.form.counselor){var i={};i.start_time=t.start_time,i.end_time=t.end_time;var n=wt()(t.start_time).format("HH:mm:ss")+"至"+wt()(t.end_time).format("HH:mm:ss");i.times=n,e.freetime.push(i),console.log(i)}})})}else e.$message("请必填日期和咨询师"),e.step=2;else this.form.start_time&&this.form.end_time?e.freetime.find(function(t,a){var i=wt()(t.start_time).format("HH:mm"),n=wt()(t.end_time).format("HH:mm"),s=e.compareTime(i,e.form.end_time),o=e.compareTime(e.form.start_time,n);console.log(s,o),s||o||(e.$message("和已使用时间段冲突"),e.step=3)}):(e.step=3,e.$message("请必填开始时间和结束时间"))}},components:{headson:H.a,pagination:Y.a}},Ze={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"时间段"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"funcname",label:"所在功能室"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"新增预约安排",visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("ul",[1==t.step?a("li",{staticClass:"q q1"},[a("el-form-item",{attrs:{label:"选择日期","label-width":t.formLabelWidth}},[a("el-date-picker",{attrs:{"picker-options":t.pickerOptions1,type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1):t._e(),t._v(" "),2==t.step?a("li",{staticClass:"q q2"},[a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词搜索咨询师","remote-method":t.remoteMethod,loading:t.loading,"value-key":""},on:{change:t.changevalue},model:{value:t.form.counselor,callback:function(e){t.$set(t.form,"counselor",e)},expression:"form.counselor"}},t._l(t.roles,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1):t._e(),t._v(" "),3==t.step?a("li",{staticClass:"q q3"},[a("el-form-item",{attrs:{label:"时间起（24小时制 时:分）"}},[a("br"),t._v(" "),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"HH:mm",autocomplete:"off",type:"time"},model:{value:t.form.start_time,callback:function(e){t.$set(t.form,"start_time",e)},expression:"form.start_time"}}),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{width:"210px",display:"inline-block",position:"absolute",top:"-30px",right:"10px",height:"210px","overflow-Y":"scroll"}},[a("div",{staticStyle:{color:"gray","border-bottom":"1px solid #DCDFE6","text-algin":"center"}},[t._v("已用时段（不能冲突）:")]),t._v(" "),t._l(t.freetime,function(e,i){return a("div",{key:i,staticClass:"text item"},[t._v(t._s(" "+e.times))])})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止  (24小时制 时:分)"}},[a("br"),t._v(" "),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"HH:mm",autocomplete:"off",type:"time"},model:{value:t.form.end_time,callback:function(e){t.$set(t.form,"end_time",e)},expression:"form.end_time"}})],1)],1):t._e(),t._v(" "),4==t.step?a("li",{staticClass:"q q4"},[a("el-form-item",{attrs:{label:"咨询室","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},model:{value:t.form.func_id,callback:function(e){t.$set(t.form,"func_id",e)},expression:"form.func_id"}},t._l(t.funcs,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)],1):t._e()])]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.retu()}}},[t._v("上一步")]),t._v(" "),4!==t.step?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.next()}}},[t._v("下一步")]):a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("ul")])}]};var Xe=a("VU/8")(Ge,Ze,!1,function(t){a("PX7H")},"data-v-641c01c3",null).exports,Je={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",content:"",unit_name:""},formLabelWidth:"100px",headson:["问题留言","留言记录"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/message/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.content,this.form1.unit_name=e.content,console.log(e)},editsure:function(){var t=this;this.axios.post("/api/v1/user/message/add/reply",{msg_id:this.form1.id,content:this.form1.name}).then(function(e){console.log(e),0==e.data.code?(t.$message("回复成功"),t.dialogFormVisible1=!1,t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项")},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a,pagination:Y.a}},Qe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"主题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"留言时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"replys_count",label:"回复数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"replys_count",label:"更新时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("处理")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"问题留言回复",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"留言标题","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.form1.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"留言内容","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.form1.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"请回复留言","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"500px"},attrs:{autocomplete:"off",type:"textarea"},model:{value:t.form1.content,callback:function(e){t.$set(t.form1,"content",e)},expression:"form1.content"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("ul")])}]};var Ke=a("VU/8")(Je,Qe,!1,function(t){a("paOt")},"data-v-5618b66d",null).exports,ta={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["访谈邀请安排","邀请时间记录"],tableData:[{1:"201808",2:"孟凡",3:"2018-09-12",4:"2018-09-1",5:"",6:"失效"},{1:"201808",2:"李静",3:"2018-09-12",4:"2018-09-1",5:"",6:"失效"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a,pagination:Y.a}},ea={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          发送日期：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          咨询师：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"发送时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"访谈日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"访谈时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"访谈邀请添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"访谈邀请编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字:")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var aa=a("VU/8")(ta,ea,!1,function(t){a("SnYm")},"data-v-4cd11b6e",null).exports,ia={data:function(){return{types:[{name:"团辅",id:1},{name:"个人",id:2}],typeflag:!0,pickerOptions1:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},pickerOptions2:this.beginDate(),pickerOptions3:this.endDate(),dialogFormVisible:!1,dialogFormVisible1:!1,form:{type:1,send_time:"",start_time:"",end_time:"",location:"",user_id:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["访谈时间安排","访谈时间记录"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/coach/list",{page:t,size:e}).then(function(t){if(0==t.data.code){a.page.countpage=t.data.data.total,a.tableData=t.data.data.list;var e=t.data.data.server_time;a.tableData.map(function(t,a){1==t.type?t.type="团辅":t.type="个人",t.times=t.start_time+"—"+t.end_time;var i=new Date(t.start_time).getTime(),n=new Date(t.end_time).getTime(),s=new Date(e).getTime();s<i&&i<=n?t.staus="未开始":s>n&&n>=i?t.staus="已结束":(console.log(i,n,s),t.staus="正在进行")})}console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/coach/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){if(this.dialogFormVisible=!1,1==this.form.type){var t=this.$refs.schoolcheck1.item.id;this.form.user_id=t}var e=this;console.log(this.form);var a={};for(var i in this.form)this.form[i]&&(a[i]=this.form[i]);this.axios.post("/api/v1/admin/coach/add",a).then(function(t){console.log(t),0==t.data.code?(e.$message("增加成功"),e.getlist(e.page.currentpage,e.page.pagesize)):e.$message(t.data.msg)})},handleDelAll:function(){},changevalue:function(){var t=this.form.type;console.log(t),this.typeflag=1==t},cellStyle:function(){},beginDate:function(){var t=this;return{disabledDate:function(e){return t.form.send_time?new Date(t.form.send_time).getTime()>e.getTime():t.form.end_time?new Date(t.form.end_time).getTime()<e.getTime():e.getTime()<Date.now()-864e5}}},endDate:function(){var t=this;return{disabledDate:function(e){return t.form.start_time?new Date(t.form.start_time).getTime()>e.getTime():e.getTime()<Date.now()-864e5}}}},components:{headson:H.a,schoolcheck:W}},na={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"location",label:"位置"}}),t._v(" "),a("el-table-column",{attrs:{prop:"send_time",label:"发送时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"访谈时段"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"访谈对象"}}),t._v(" "),a("el-table-column",{attrs:{prop:"counselor_name",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"staus",label:"访谈状态"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"新增团辅访谈安排",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changevalue},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.types,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发送日期","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"230px"},attrs:{type:"datetime",placeholder:"选择发送日期","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":t.pickerOptions1},model:{value:t.form.send_time,callback:function(e){t.$set(t.form,"send_time",e)},expression:"form.send_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"230px"},attrs:{type:"datetime",placeholder:"选择日期大于发送日期","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":t.pickerOptions2},model:{value:t.form.start_time,callback:function(e){t.$set(t.form,"start_time",e)},expression:"form.start_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"230px"},attrs:{type:"datetime",placeholder:"截止日期大于开始日期","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":t.pickerOptions3},model:{value:t.form.end_time,callback:function(e){t.$set(t.form,"end_time",e)},expression:"form.end_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"位置","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"230px"},attrs:{autocomplete:"off",type:"text"},model:{value:t.form.location,callback:function(e){t.$set(t.form,"location",e)},expression:"form.location"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"访谈对象","label-width":t.formLabelWidth}},[t.typeflag?[a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck1",staticClass:"school"})],1)]:a("el-input",{staticStyle:{width:"230px"},attrs:{autocomplete:"off",type:"number",min:"0",placeholder:"类型是个人请输入学号"},model:{value:t.form.user_id,callback:function(e){t.$set(t.form,"user_id",e)},expression:"form.user_id"}})],2)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"访谈时间编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间段","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var sa=a("VU/8")(ia,na,!1,function(t){a("fnQU")},"data-v-1a9ea88a",null).exports,oa={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["访谈记录管理","记录管理"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/coach/list",{page:t,size:e}).then(function(t){if(0==t.data.code){a.page.countpage=t.data.data.total,a.tableData=t.data.data.list;var e=t.data.data.server_time;a.tableData.map(function(t,a){t.times=t.start_time+"—"+t.end_time;var i=new Date(t.start_time).getTime(),n=new Date(t.end_time).getTime(),s=new Date(e).getTime();switch(t.proc_idea-0){case 0:t.proc_idea="无";break;case 1:t.proc_idea="无须干预";break;case 2:t.proc_idea="预约面询";break;case 3:t.proc_idea="危机干预";break;case 4:t.proc_idea="联系领导";break;case 5:t.proc_idea="跟踪随访"}s<i&&i<=n?(t.staus="未开始",t.dos=0):s>n&&n>=i?t.feedback_time?(t.staus="结束已处理",t.dos=1):(t.staus="结束未处理",t.dos=2):i<=s&&s<=n&&t.feedback_time?(t.staus="正在进行已处理",t.dos=1):(t.staus="正在进行未处理",t.dos=2)})}})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){console.log(e),this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.$router.push({path:"/Consultation/historydetail",query:{id:e.id,type:e.type}})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/coach/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a,pagination:Y.a}},la={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"访谈对象"}}),t._v(" "),a("el-table-column",{attrs:{prop:"counselor_name",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"staus",label:"处理状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"proc_idea",label:"处理意见"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.dos?a("el-button",{attrs:{size:"mini",disabled:""}},[t._v("处理")]):2===e.row.dos?a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("处理")]):a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("修改")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"新增访谈",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"访谈记录",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"姓名","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var ra=a("VU/8")(oa,la,!1,function(t){a("pDxi")},"data-v-09341972",null).exports,ca={data:function(){return{casedata:[{id:"1",name:"无须干预"},{id:"2",name:"预约面询"},{id:"3",name:"危机干预"},{id:"4",name:"联系领导"},{id:"5",name:"跟踪随访"}],type:this.$route.query.type,htmlmain:"",suggestdata:"",case_data:{proc_idea:"",suggest:""},user_ext:{nation:"",father_age:"",father_job:"",father_die_age:"",mother_age:"",mother_job:"",mother_die_age:"",parent_marriage_status:"",parent_divorced_age:"",foster_flag:"",foster_age:"",stu_type:"",only_child:"",economy:""},user:{name:"",sex:"",job_num:"",phone:"",unit_group_name:"",address:""},form:{suggest:"<h1>Some initial content</h1>",proc_idea:"1",id:this.$route.query.id},editor:""}},mounted:function(){var t=this;console.log(this.$store.state.columns);var e=new $e.a("#editorElemcasedata");this.editor=e,console.log(e),e.customConfig.onchange=function(e){t.case_data.suggest=e},e.customConfig.uploadImgServer="/api/v1/admin/article/upload",e.customConfig.uploadImgMaxSize=3145728,e.customConfig.uploadImgMaxLength=5,e.customConfig.uploadFileName="file",e.customConfig.uploadImgHeaders={"X-Token":this.$store.state.token},e.customConfig.uploadImgHooks={customInsert:function(t,e,a){0==e.code?t("/uploads/"+e.data.upload_path):that.$message(e.msg)}},e.create()},created:function(){this.case_data.proc_idea="5",this.getlist()},methods:{getlist:function(){var t=this;this.axios.get("/api/v1/admin/coach/detail",{params:{id:this.$route.query.id}}).then(function(e){if(0==e.data.code){if(localStorage.setItem("detail",c()(e.data.data)),e.data.data.user_ext)for(var a in t.user_ext)t.user_ext[a]=e.data.data.user_ext[a],isNaN(e.data.data[a]-0)||(t.user_ext[a]=e.data.data[a]-0);for(var a in e.data.data.user&&(t.user=e.data.data.user),t.case_data)t.case_data[a]=e.data.data.case_data[a],t.htmlmain=e.data.data.case_data.suggest}})},submit:function(){console.log(),this.casedata.suggest=this.editor.txt.html(),this.$route.query.id;var t=this,e={coach:{},user_ext:{}},a=JSON.parse(localStorage.getItem("detail"));if(a.case_data)for(var i in t.case_data)console.log(i),t.case_data[i]&&t.case_data[i]!==a.case_data[i]&&(e.coach[i]=t.case_data[i]);else e.coach=t.case_data;if(a.user_ext)for(var i in t.user_ext)t.user_ext[i]&&t.user_ext[i]!==a.user_ext[i]&&(console.log(t.user_ext[i],a.user_ext[i]),e.user_ext[i]=t.user_ext[i]);else e.user_ext=t.user_ext;var n={};for(var i in e)"{}"!==c()(e[i])&&(n[i]=e[i]);this.axios.post("/api/v1/admin/coach/saveEdit?id="+this.$route.query.id,n).then(function(e){console.log(e),0==e.data.code?(alert("修改反馈处理成功"),t.getlist()):t.$message("修改反馈处理失败或者没有修改的数据")})},return1:function(){this.$router.go(-1)}}},da={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[2==t.type?a("table",{staticClass:"tb_title"},[a("tbody",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("访谈记录修改")]),t._v(" "),a("td",{staticClass:"label"},[t._v("姓名：")]),t._v(" "),a("td",[t._v(t._s(t.user.name))]),t._v(" "),a("td",{staticClass:"label"},[t._v("学号：")]),t._v(" "),a("td",[t._v(t._s(t.user.job_num))]),t._v(" "),a("td",{staticClass:"label"},[t._v("班级：")]),t._v(" "),a("td",[t._v(t._s(t.user.unit_group_name))])]),t._v(" "),a("tr",[a("td",{staticClass:"label"},[t._v("性别：")]),t._v(" "),a("td",[t._v(t._s(1==t.user.sex?"男":"女"))]),t._v(" "),a("td",{staticClass:"label"},[t._v("手机：")]),t._v(" "),a("td",[t._v(t._s(t.user.phone))]),t._v(" "),a("td",{staticClass:"label"},[t._v("家庭住址/宿舍号：")]),t._v(" "),a("td",[t._v(t._s(t.user.address))])])])]):t._e(),t._v(" "),2==t.type?a("fieldset",[a("legend",[t._v("一般信息")]),t._v(" "),a("table",{attrs:{width:"100%"}},[a("tbody",[a("tr",[a("td",[t._v("1、民族")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.nation,expression:"user_ext['nation']"}],staticClass:"text",attrs:{type:"text",name:"q_1"},domProps:{value:t.user_ext.nation},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"nation",e.target.value)}}})]),t._v(" "),a("td",[t._v("2、父亲年龄")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_age,expression:"user_ext['father_age']"}],staticClass:"text",attrs:{type:"text",name:"q_2"},domProps:{value:t.user_ext.father_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("3、父亲职业")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_job,expression:"user_ext['father_job']"}],staticClass:"text",attrs:{type:"text",name:"q_3"},domProps:{value:t.user_ext.father_job},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_job",e.target.value)}}})]),t._v(" "),a("td",[t._v("4、如果父亲不在世，请问发生在___岁时。（父亲健在的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_die_age,expression:"user_ext['father_die_age']"}],staticClass:"text",attrs:{type:"text",name:"q_4"},domProps:{value:t.user_ext.father_die_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_die_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("5、母亲年龄")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_age,expression:"user_ext['mother_age']"}],staticClass:"text",attrs:{type:"text",name:"q_5"},domProps:{value:t.user_ext.mother_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_age",e.target.value)}}})]),t._v(" "),a("td",[t._v("6、母亲职业")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_job,expression:"user_ext['mother_job']"}],staticClass:"text",attrs:{type:"text",name:"q_6"},domProps:{value:t.user_ext.mother_job},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_job",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("7、如果母亲不在世，请问发生在___岁时。（母亲健在的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_die_age,expression:"user_ext['mother_die_age']"}],staticClass:"text",attrs:{type:"text",name:"q_7"},domProps:{value:t.user_ext.mother_die_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_die_age",e.target.value)}}})]),t._v(" "),a("td",[t._v("8、父母婚姻状况")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.parent_marriage_status,callback:function(e){t.$set(t.user_ext,"parent_marriage_status",e)},expression:"user_ext['parent_marriage_status']"}},[a("el-radio",{attrs:{label:1}},[t._v("良好")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("一般")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("较差")]),t._v(" "),a("el-radio",{attrs:{label:4}},[t._v("离异")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("9、如果父母离异的话，请问发生在___岁时。（父母未离异的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.parent_divorced_age,expression:"user_ext['parent_divorced_age']"}],staticClass:"text",attrs:{type:"text",name:"q_9"},domProps:{value:t.user_ext.parent_divorced_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"parent_divorced_age",e.target.value)}}})]),t._v(" "),a("td",[t._v("10、是否有寄养经历")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.foster_flag,callback:function(e){t.$set(t.user_ext,"foster_flag",e)},expression:"user_ext['foster_flag']"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("否")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("11、寄养时的年龄（无寄养经历的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.foster_age,expression:"user_ext['foster_age']"}],staticClass:"text",attrs:{type:"text",name:"q_11"},domProps:{value:t.user_ext.foster_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"foster_age",e.target.value)}}})]),t._v(" "),a("td",[t._v("12、生源类型")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.stu_type,callback:function(e){t.$set(t.user_ext,"stu_type",e)},expression:"user_ext['stu_type']"}},[a("el-radio",{attrs:{label:1}},[t._v("农村")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("城市")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("城镇")]),t._v(" "),a("el-radio",{attrs:{label:4}},[t._v("留学生")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("13、独生子女")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.only_child,callback:function(e){t.$set(t.user_ext,"only_child",e)},expression:"user_ext['only_child']"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("否")])],1)],1)]),t._v(" "),a("td",[t._v("14、家庭经济状况")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.economy,callback:function(e){t.$set(t.user_ext,"economy",e)},expression:"user_ext['economy']"}},[a("el-radio",{attrs:{label:1}},[t._v("困难")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("不困难")])],1)],1)])]),t._v(" "),a("tr")])]),t._v(" "),a("input",{attrs:{type:"hidden",name:"qnum",value:"27"}})]):t._e(),t._v(" "),a("fieldset",[t._m(0),t._v(" "),a("table",{attrs:{width:"100%",cellpadding:"3",cellspacing:"1"}},[a("tbody",[a("tr",[a("td",{attrs:{width:"50",valign:"top"}},[t._v("内容：")]),t._v(" "),a("td",[a("div",{style:{"text-align":"left"},attrs:{id:"editorElemcasedata"}},[t.htmlmain?t._e():a("textarea",{staticStyle:{width:"100%",overflow:"hidden","word-wrap":"break-word",resize:"horizontal","font-size":"14px",height:"900px"},attrs:{name:"question",id:"question"}},[t._v(" 问题模板：\n1 希望通过咨询解决哪些方面的问题或困惑？\n\n2 这些问题或困惑对您的生活造成了什么样的影响（学习、人际、实践活动）？\n\n3 以前曾经尝试过什么方法或途径来解决这些问题？\n\n4 您的家庭中曾出现过暴力吗？（选做）\n4.1 您认为这和您自己目前所遇到的问题或困惑又怎样的联系呢？\n4.2 您情绪不好时产生过扔东西、推搡、或打人的想法甚至付诸过行动了吗？\n4.3 如果有过上述想法或行为，那是什么时候的事情？\n4.4 是什么样的暴力？\n4.5 现在怎么样了呢？（还会有类似的想法或行为吗？）\n\n5 您曾经有过自杀或自伤的想法吗？（选做）\n5.1 那是什么时候的事情？\n5.2 那时候发生了些什么？\n5.3 您曾计划过如何去实施吗？\n5.4 您有尝试过自杀吗？\n5.5 那是什么时候的事情？\n5.6 结果如何？\n5.6 现在再回过头去看这件事，您对此有什么样的想法或感受？\n\n6 您的家庭成员中曾经有人自杀过吗？（选做）\n6.1 如果有，那是什么时候的事情？\n6.2 您知道那时候发生什么了吗？她/他为什么会选择自杀呢？\n6.3 她/他是通过什么方式自杀的？\n6.4 结果如何？\n6.5 您对她/他的行为有什么看法或感受？\n\n7 您的家庭成员中有人曾得过精神类的疾病吗？（选做）\n7.1 是谁？\n7.2 是什么时候的事情？\n7.3 当时做的诊断是什么？\n7.4 您是如何知道的？\n\n8 您有喝酒的习惯吗？（选做）\n8.1 多久喝一次？\n8.2 每次一般喝多少？\n8.3 喝酒后曾与人发生过冲突吗？\n8.4 您的家庭成员中有人有饮酒方面的问题吗，如酗酒？\n\n9 您觉得还有哪些问题是比较重要，需要让我们了解到的？\n\n10 您以前曾经做过正式的心理咨询吗？感觉效果如何？\n\n11 您对咨询有什么疑问或顾虑吗？")]),t._v(" "),a("p",{domProps:{innerHTML:t._s(t.htmlmain)}},[t._v("访谈建议：")])])])]),t._v(" "),a("tr",[a("td",[t._v("建议：")]),t._v(" "),a("td",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.case_data.proc_idea,callback:function(e){t.$set(t.case_data,"proc_idea",e)},expression:"case_data.proc_idea"}},t._l(t.casedata,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)])])])]),t._v(" "),a("div",{staticClass:"buttom"},[a("el-button",{on:{click:function(e){t.submit()}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.return1()}}},[t._v("返回")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("legend",[this._v("\n        咨询师填写\n        "),e("span",{staticStyle:{"font-size":"12px",color:"blue"}},[this._v("【注：问题模板请不要随意删除,请随访谈结果一起提交】")])])}]};var ua=a("VU/8")(ca,da,!1,function(t){a("2ycu")},"data-v-0a265691",null).exports,ma={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,select:"",form:{name:"",unit_name:"",college_id:""},form1:{id:"",name:"",unit_name:"",college_id:""},formLabelWidth:"100px",headson:["功能室设置",""],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},beforeCreate:function(){},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getschool:function(){var t=this;this.axios.get("/api/v1/super/college/select").then(function(e){console.log(e),0==e.data.code&&(t.select=e.data.data)})},getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/func/list",{page:t,size:e}).then(function(t){if(0==t.data.code){a.page.countpage=t.data.data.total;var e=t.data.data.list;a.axios.get("/api/v1/admin/tool/select/college").then(function(t){0==t.data.code&&(a.select=t.data.data,e.map(function(t,e){a.select.find(function(e,a){if(t.college_id==e.id)return t.college_name=e.name;t.college_name=null})}),a.tableData=e,console.log(e))})}console.log(e,a.select)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){var t=this;this.axios.post("/api/v1/admin/func/save",{id:this.form1.id,name:this.form1.name,desc:this.form1.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("编辑成功"),t.dialogFormVisible1=!1,t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/func/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/func/save",{name:t.form.name,desc:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a,pagination:Y.a}},pa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t._m(0),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"功能室名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"功能室简介"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("修改")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"sizes, prev, pager, next",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"功能室添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"功能室名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"功能室简介","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"功能室编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"功能室名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"功能室简介","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("ul")])}]};var ha=a("VU/8")(ma,pa,!1,function(t){a("qcZ2")},"data-v-cba37b80",null).exports,fa={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["个案追踪","个案追踪"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/counsel/caseList",{page:t,size:e}).then(function(t){if(0==t.data.code){a.page.countpage=t.data.data.total;var e=t.data.data.list;e.map(function(t,e){switch(t.check_type-0){case 0:t.check="无需关注";break;case 1:t.check="学业问题";break;case 2:t.check="恋爱关系";break;case 3:t.check="人际交往";break;case 4:t.check="职业发展";break;case 5:t.check="情绪问题";break;case 6:t.check="身体疾病"}}),a.tableData=e}console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.$router.push({path:"/Consultation/rackdetail",query:{id:e.id}})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a,pagination:Y.a}},ga={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,border:"","cell-style":{width:"80px",height:"30px"}}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"check",label:"排查分类"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("修改")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"个案追踪添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"个案追踪编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var va=a("VU/8")(fa,ga,!1,function(t){a("PNSC")},"data-v-161e4b50",null).exports,_a={data:function(){return{case_data:{check_basic:"",check_sps:"",check_type:"",trace_basic:"",trace_sps:"",trace_type:""},user_ext:{nation:"",father_age:"",father_job:"",father_die_age:"",mother_age:"",mother_job:"",mother_die_age:"",parent_marriage_status:"",parent_divorced_age:"",foster_flag:"",foster_age:"",stu_type:"",only_child:"",economy:""},user:{name:"",sex:"",job_num:"",phone:"",unit_group_name:"",address:""},checkid:"",check:[{id:"0",name:"无需关注"},{id:"1",name:"学业问题"},{id:"2",name:"恋爱关系"},{id:"3",name:"人际交往"},{id:"4",name:"职业发展"},{id:"5",name:"情绪问题"},{id:"6",name:"躯体疾病"}]}},mounted:function(){this.getlist()},beforeCreated:function(){this.getlist()},methods:{getlist:function(){var t=this;this.axios.get("/api/v1/admin/counsel/caseDetail",{params:{id:this.$route.query.id}}).then(function(e){if(0==e.data.code){if(y.a.set("detail",e.data.data),e.data.data.user_ext)for(var a in e.data.data.user_ext)t.user_ext[a]=e.data.data.user_ext[a],isNaN(e.data.data[a]-0)||(t.user_ext[a]=e.data.data[a]-0);for(var a in e.data.data.user&&(t.user=e.data.data.user),e.data.data.case_data)t.case_data[a]=e.data.data.case_data[a],t.htmlmain=e.data.data.case_data.suggest}})},submit:function(){var t=this,e={counsel:{},user_ext:{}},a=JSON.parse(y.a.get("detail"));if(console.log(a),a.case_data)for(var i in t.case_data)t.case_data[i]&&t.case_data[i]!==a.case_data[i]&&(e.counsel[i]=t.case_data[i]);else e.counsel=t.case_data;if(a.user_ext)for(var i in t.user_ext)t.user_ext[i]&&t.user_ext[i]!==a.user_ext[i]&&(e.user_ext[i]=t.user_ext[i]);else e.user_ext=t.user_ext;var n={};for(var i in e)"{}"!==c()(e[i])&&(n[i]=e[i]);this.axios.post("/api/v1/admin/counsel/saveCaseEdit?id="+this.$route.query.id,n).then(function(e){console.log(e),0==e.data.code?(t.$message("修改反馈处理成功"),t.getlist()):t.$message("修改反馈处理失败或者没有修改的数据")})},return1:function(){this.$router.go(-1)}}},ba={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"tb_title"},[a("tbody",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("个案咨询记录修改")]),t._v(" "),a("td",{staticClass:"label"},[t._v("姓名：")]),t._v(" "),a("td",[t._v(t._s(t.user.name))]),t._v(" "),a("td",{staticClass:"label"},[t._v("学号：")]),t._v(" "),a("td",[t._v(t._s(t.user.job_num))]),t._v(" "),a("td",{staticClass:"label"},[t._v("班级：")]),t._v(" "),a("td",[t._v(t._s(t.user.unit_group_name))])]),t._v(" "),a("tr",[a("td",{staticClass:"label"},[t._v("性别：")]),t._v(" "),a("td",[t._v(t._s(1==t.user.sex?"男":"女"))]),t._v(" "),a("td",{staticClass:"label"},[t._v("手机：")]),t._v(" "),a("td",[t._v(t._s(t.user.phone))]),t._v(" "),a("td",{staticClass:"label"},[t._v("家庭住址/宿舍号：")]),t._v(" "),a("td",[t._v(t._s(t.user.address))])])])]),t._v(" "),a("fieldset",[a("legend",[t._v("一般信息")]),t._v(" "),a("table",{attrs:{width:"100%"}},[a("tbody",[a("tr",[a("td",[t._v("1、民族")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.nation,expression:"user_ext['nation']"}],staticClass:"text",attrs:{type:"text",name:"q_1"},domProps:{value:t.user_ext.nation},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"nation",e.target.value)}}})]),t._v(" "),a("td",[t._v("2、父亲年龄")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_age,expression:"user_ext['father_age']"}],staticClass:"text",attrs:{type:"text",name:"q_2"},domProps:{value:t.user_ext.father_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("3、父亲职业")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_job,expression:"user_ext['father_job']"}],staticClass:"text",attrs:{type:"text",name:"q_3"},domProps:{value:t.user_ext.father_job},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_job",e.target.value)}}})]),t._v(" "),a("td",[t._v("4、如果父亲不在世，请问发生在___岁时。（父亲健在的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_die_age,expression:"user_ext['father_die_age']"}],staticClass:"text",attrs:{type:"text",name:"q_4"},domProps:{value:t.user_ext.father_die_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_die_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("5、母亲年龄")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_age,expression:"user_ext['mother_age']"}],staticClass:"text",attrs:{type:"text",name:"q_5"},domProps:{value:t.user_ext.mother_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_age",e.target.value)}}})]),t._v(" "),a("td",[t._v("6、母亲职业")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_job,expression:"user_ext['mother_job']"}],staticClass:"text",attrs:{type:"text",name:"q_6"},domProps:{value:t.user_ext.mother_job},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_job",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("7、如果母亲不在世，请问发生在___岁时。（母亲健在的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_die_age,expression:"user_ext['mother_die_age']"}],staticClass:"text",attrs:{type:"text",name:"q_7"},domProps:{value:t.user_ext.mother_die_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_die_age",e.target.value)}}})]),t._v(" "),a("td",[t._v("8、父母婚姻状况")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.parent_marriage_status,callback:function(e){t.$set(t.user_ext,"parent_marriage_status",e)},expression:"user_ext['parent_marriage_status']"}},[a("el-radio",{attrs:{label:1}},[t._v("良好")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("一般")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("较差")]),t._v(" "),a("el-radio",{attrs:{label:4}},[t._v("离异")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("9、如果父母离异的话，请问发生在___岁时。（父母未离异的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.parent_divorced_age,expression:"user_ext['parent_divorced_age']"}],staticClass:"text",attrs:{type:"text",name:"q_9"},domProps:{value:t.user_ext.parent_divorced_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"parent_divorced_age",e.target.value)}}})]),t._v(" "),a("td",[t._v("10、是否有寄养经历")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.foster_flag,callback:function(e){t.$set(t.user_ext,"foster_flag",e)},expression:"user_ext['foster_flag']"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("否")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("11、寄养时的年龄（无寄养经历的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.foster_age,expression:"user_ext['foster_age']"}],staticClass:"text",attrs:{type:"text",name:"q_11"},domProps:{value:t.user_ext.foster_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"foster_age",e.target.value)}}})]),t._v(" "),a("td",[t._v("12、生源类型")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.stu_type,callback:function(e){t.$set(t.user_ext,"stu_type",e)},expression:"user_ext['stu_type']"}},[a("el-radio",{attrs:{label:1}},[t._v("农村")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("城市")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("城镇")]),t._v(" "),a("el-radio",{attrs:{label:4}},[t._v("留学生")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("13、独生子女")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.only_child,callback:function(e){t.$set(t.user_ext,"only_child",e)},expression:"user_ext['only_child']"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("否")])],1)],1)]),t._v(" "),a("td",[t._v("14、家庭经济状况")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.economy,callback:function(e){t.$set(t.user_ext,"economy",e)},expression:"user_ext['economy']"}},[a("el-radio",{attrs:{label:1}},[t._v("困难")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("不困难")])],1)],1)])]),t._v(" "),a("tr")])]),t._v(" "),a("input",{attrs:{type:"hidden",name:"qnum",value:"27"}})]),t._v(" "),a("fieldset",[a("legend",[t._v("排查情况")]),t._v(" "),a("table",{attrs:{width:"100%"}},[a("tbody",[a("tr",[a("td",{attrs:{width:"80",valign:"top"}},[t._v("基本情况：")]),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.case_data.check_basic,expression:"case_data['check_basic']"}],staticStyle:{width:"100%","overflow-x":"hidden","word-wrap":"break-word",resize:"horizontal",height:"46px"},attrs:{name:"paicha",id:"paicha"},domProps:{value:t.case_data.check_basic},on:{input:function(e){e.target.composing||t.$set(t.case_data,"check_basic",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{attrs:{valign:"top"}},[t._v("采取措施：")]),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.case_data.check_sps,expression:"case_data['check_sps']"}],staticStyle:{width:"100%","overflow-x":"hidden","word-wrap":"break-word",resize:"horizontal",height:"46px"},attrs:{name:"paicha_deal",id:"paicha_deal"},domProps:{value:t.case_data.check_sps},on:{input:function(e){e.target.composing||t.$set(t.case_data,"check_sps",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("问题分类：")]),t._v(" "),a("td",[a("el-select",{attrs:{name:"paicha_type",id:"paicha_type"},model:{value:t.case_data.check_type,callback:function(e){t.$set(t.case_data,"check_type",e)},expression:"case_data['check_type']"}},t._l(t.check,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)])])])]),t._v(" "),a("fieldset",[a("legend",[t._v("追踪情况")]),t._v(" "),a("table",{attrs:{width:"100%"}},[a("tbody",[t._m(0),t._v(" "),a("tr",[a("td",{attrs:{valign:"top"}},[t._v("基本情况：")]),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.case_data.trace_basic,expression:"case_data['trace_basic']"}],staticStyle:{width:"100%","overflow-x":"hidden","word-wrap":"break-word",resize:"horizontal",height:"46px"},attrs:{name:"zz_content",id:"zz_content",title:"两个文本框都要填写内容才算添加成功"},domProps:{value:t.case_data.trace_basic},on:{input:function(e){e.target.composing||t.$set(t.case_data,"trace_basic",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{attrs:{valign:"top"}},[t._v("采取措施：")]),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.case_data.trace_sps,expression:"case_data['trace_sps']"}],staticStyle:{width:"100%","overflow-x":"hidden","word-wrap":"break-word",resize:"horizontal",height:"46px"},attrs:{name:"zz_deal",id:"zz_deal",title:"两个文本框都要填写内容才算添加成功"},domProps:{value:t.case_data.trace_sps},on:{input:function(e){e.target.composing||t.$set(t.case_data,"trace_sps",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("问题分类：")]),t._v(" "),a("td",[a("el-select",{attrs:{name:"paicha_type",id:"paicha_type"},model:{value:t.case_data.trace_type,callback:function(e){t.$set(t.case_data,"trace_type",e)},expression:"case_data['trace_type']"}},t._l(t.check,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)])])])]),t._v(" "),a("div",{staticClass:"buttom"},[a("el-button",{on:{click:function(e){t.submit()}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.return1()}}},[t._v("返回")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{width:"80"}}),this._v(" "),e("td",[this._v("（说明：以下两个文本框都要填写内容才算添加成功）")])])}]};var xa=a("VU/8")(_a,ba,!1,function(t){a("eUF5")},"data-v-2c1a0d9d",null).exports,ya=a("71e1"),wa=a.n(ya),ka={data:function(){return{headson:["系统参数设置","有关系统的参数设置"],file:"",imageUrl:"",data:{edit_stu:0,stu_comment:0,register_audit:0,std_page_tip:"11",logo:""},dialogFormVisible:!1}},created:function(){this.getdata()},methods:{show:function(){this.dialogFormVisible=!0},useqrcode:function(){var t=document.getElementById("canvas");console.log(this.lbId),this.name||(this.name="无"),wa.a.toCanvas(t,"http://115.159.209.142:7006/mobile",function(t){t&&console.error(t),console.log("QRCode success!")})},getdata:function(){var t=this;this.axios.get("/api/v1/admin/setting/index").then(function(e){if(0==e.data.code){var a=e.data.data;t.data.edit_stu=a.edit_stu,t.data.stu_comment=a.stu_comment,t.data.register_audit=a.register_audit,t.data.std_page_tip=a.std_page_tip,t.imageUrl="http://115.159.209.142:7006/"+a.logo}})},sub:function(){var t=this;this.data.stu_comment=this.data.stu_comment-0,this.data.register_audit=this.data.register_audit-0,this.data.edit_stu=this.data.edit_stu-0,this.axios.post("/api/v1/admin/setting/save",this.data).then(function(e){0==e.data.code&&(t.$message("设置参数成功"),t.getdata())})},handleAvatarSuccess:function(t,e){this.imageUrl=URL.createObjectURL(e.raw),0==t.code&&(this.data.logo=t.data.file_name),console.log(t,e,this.imageUrl)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),e&&a}},components:{headson:H.a,pagination:Y.a}},Ca={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("二维码管理：")]),t._v(" "),a("td",[a("span",{staticClass:"iconfont icon-qrcode",staticStyle:{"font-size":"40px",cursor:"pointer"},on:{click:t.show}})])]),t._v(" "),a("tr",[a("td",[t._v("首页LOGO：")]),t._v(" "),a("td",[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/v1/admin/setting/upload",headers:{"X-Token":this.$store.state.token},"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),t._v(" "),a("tr",[a("td",[t._v("基本信息修改许可：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","active-text":"开","inactive-text":"关","active-value":"1","inactive-value":"0","inactive-color":"#ff4949"},model:{value:t.data.edit_stu,callback:function(e){t.$set(t.data,"edit_stu",e)},expression:"data.edit_stu"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("自注册审核许可")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-text":"开","inactive-text":"关","active-color":"#13ce66","inactive-color":"#ff4949","active-value":"1","inactive-value":"0"},model:{value:t.data.register_audit,callback:function(e){t.$set(t.data,"register_audit",e)},expression:"data.register_audit"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("是否允许学生评价：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-text":"开","inactive-text":"关","active-color":"#13ce66","inactive-color":"#ff4949","active-value":"1","inactive-value":"0"},model:{value:t.data.stu_comment,callback:function(e){t.$set(t.data,"stu_comment",e)},expression:"data.stu_comment"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("学生页面底部显示信息：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",placeholder:"请输入页面底部显示信息"},model:{value:t.data.std_page_tip,callback:function(e){t.$set(t.data,"std_page_tip",e)},expression:"data.std_page_tip"}})],1)])])]),t._v(" "),a("div",{staticClass:"add",on:{click:t.sub}},[t._v("提交设置")]),t._v(" "),a("el-dialog",{attrs:{title:"手机二维码",visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e},opened:t.useqrcode}},[a("canvas",{ref:"canvas",staticStyle:{"margin-left":"150px"},attrs:{id:"canvas"}})])],1)},staticRenderFns:[]};var $a=a("VU/8")(ka,Ca,!1,function(t){a("f13M")},"data-v-7b37bf84",null).exports,Sa={data:function(){return{headson:["测量参数设置","有关测量的参数设置"],data:{stu_view:0,profile_check:0,self_testing:0,testing_desc:""}}},created:function(){this.getdata()},methods:{getdata:function(){var t=this;this.axios.get("/api/v1/admin/setting/getScaleSetting").then(function(e){if(0==e.data.code){var a=e.data.data;t.data.stu_view=a.stu_view,t.data.profile_check=a.profile_check,t.data.self_testing=a.self_testing,t.data.testing_desc=a.testing_desc}})},sub:function(){var t=this;this.axios.post("/api/v1/admin/setting/saveScaleSettings",this.data).then(function(e){0==e.data.code&&(t.$message("设置参数成功"),t.getdata())})}},components:{headson:H.a,pagination:Y.a}},za={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("学生测试结果许可：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-text":"开","inactive-text":"关","active-color":"#13ce66","inactive-color":"#ff4949","active-value":"1","inactive-value":"0"},model:{value:t.data.stu_view,callback:function(e){t.$set(t.data,"stu_view",e)},expression:"data.stu_view"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("测前学生资料完善许可：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-text":"开","inactive-text":"关","active-color":"#13ce66","inactive-color":"#ff4949","active-value":"1","inactive-value":"0"},model:{value:t.data.profile_check,callback:function(e){t.$set(t.data,"profile_check",e)},expression:"data.profile_check"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("学生自测功能开发：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-text":"开","inactive-text":"关","active-color":"#13ce66","inactive-color":"#ff4949","active-value":"1","inactive-value":"0"},model:{value:t.data.self_testing,callback:function(e){t.$set(t.data,"self_testing",e)},expression:"data.self_testing"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("学生端普测量表页面显示说明：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",placeholder:"学生端普测量表页面显示说明"},model:{value:t.data.testing_desc,callback:function(e){t.$set(t.data,"testing_desc",e)},expression:"data.testing_desc"}}),t._v(" "),a("span",{staticClass:"iconfont icon-question-circle-fill"})],1)])])]),t._v(" "),a("div",{staticClass:"add",on:{click:t.sub}},[t._v("提交")])],1)},staticRenderFns:[]};var Fa=a("VU/8")(Sa,za,!1,function(t){a("PFxc")},"data-v-f46f2ffe",null).exports,Aa={data:function(){return{imageUrl:"",headson:["个人信息设置","有关个人的参数设置"],data:{input:"",value5:"100",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"}]}}},created:function(){},methods:{handleAvatarSuccess:function(t,e){console.log(t),this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return console.log(t),a||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&a}},components:{headson:H.a,pagination:Y.a}},Da={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("头像：")]),t._v(" "),a("td",[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),t._v(" "),a("tr",[a("td",[t._v("姓名：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("ID号：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入ID"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("学号：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入学号"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("联系方式：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入联系方式"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("学校：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入学校"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("管理类型：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("个人简介：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入简介"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)])])]),t._v(" "),a("div",{staticClass:"add"},[t._v("保存")])],1)},staticRenderFns:[]};var Va=a("VU/8")(Aa,Da,!1,function(t){a("sHDv")},"data-v-a7631320",null).exports,Ea={data:function(){return{headson:["咨询参数设置","有关咨询的参数设置"],data:{value4:"",input:"",value5:"100",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"}]}}},created:function(){},methods:{},components:{headson:H.a,pagination:Y.a}},La={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("预约期限：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"eg:7天"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("距离咨询前几分钟不可预约：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"eg:7分钟"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("来访者每周最多可以预约次数：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"eg:7天"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("测前资料完善许可：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"eg:7天"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("预约前测的天数及量表：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"145px"},attrs:{placeholder:"eg:7天"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:t.data.value,callback:function(e){t.$set(t.data,"value",e)},expression:"data.value"}},t._l(t.data.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),a("tr",[a("td",[t._v("本学期/年开始:")]),t._v(" "),a("td",[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.data.value4,callback:function(e){t.$set(t.data,"value4",e)},expression:"data.value4"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("学期/年最大咨询次数：")]),t._v(" "),a("td",[a("span",{staticClass:"iconfont icon-question-circle-fill"}),t._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("咨询限制设置：：")]),t._v(" "),a("td",[a("span",{staticClass:"iconfont icon-question-circle-fill"}),t._v(" "),a("el-radio-group",{model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}},[a("el-radio",{attrs:{label:"提交"}}),t._v(" "),a("el-radio",{attrs:{label:"审核"}})],1)],1)]),t._v(" "),a("tr",[a("td",[t._v("首诊咨询师负责制设置许可：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("预约反馈许可：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("新预约许可：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("访客留言开放：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("预约自动确认：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("在线咨询QQ号：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("span",{staticClass:"iconfont icon-question-circle-fill"})],1)]),t._v(" "),a("tr",[a("td",[t._v("短信模板编辑：")]),t._v(" "),a("td",[a("span",{staticClass:"iconfont icon-question-circle-fill"}),t._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("预约协议：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"可以留空"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("span",{staticClass:"iconfont icon-question-circle-fill"})],1)]),t._v(" "),a("tr",[a("td",[t._v("预约关闭说明：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"填写内容即关闭，留空则开放"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("span",{staticClass:"iconfont icon-question-circle-fill"})],1)]),t._v(" "),a("tr",[a("td",[t._v("紧急联系方式：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("span",{staticClass:"iconfont icon-question-circle-fill"})],1)]),t._v(" "),a("tr",[a("td",[t._v("咨询中心简介图：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"265px"},attrs:{placeholder:"请输入机构类型，如演示中学",type:"file"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("input",{staticStyle:{width:"30px"},attrs:{type:"button",value:"提交"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("咨询中心简介内容：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("span",{staticClass:"iconfont icon-question-circle-fill"})],1)])])]),t._v(" "),a("div",{staticClass:"add"},[t._v("提交")])],1)},staticRenderFns:[]};var Ta=a("VU/8")(Ea,La,!1,function(t){a("DQ+d")},"data-v-5ca5ae3a",null).exports,ja={data:function(){return{headson:["页面资料管理","页面管理"],value5:!1,data4:[],defaultProps:{children:"children",label:"menu_name"}}},created:function(){this.navbardata()},methods:{navbardata:function(){var t=this;this.axios.get("/api/v1/admin/menu").then(function(e){var a=[];var i=function t(e,a){for(var i in e)if(0!==e[i].items.length){for(var n in e[i].items)if(0==e[i].items[n].flag){e[i].items=[];break}t(e[i].items,a)}return e}(e.data.data,[]);t.func(i,a),t.data4=a})},func:function(t,e){for(var a in t)if(e.push(t[a]),0!==t[a].items){var i=[];t[a].children=i,this.func(t[a].items,i)}},renderContent:function(t,e){var a=this,i=e.node,n=e.data,s=(e.store,this.value5);return t("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[t("span",[t("span",[i.label])]),t("span",[t("el-switch",{attrs:{value:s,"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"on","inactive-value":"off"},on:{change:function(){return a.append(n)}}})])])},append:function(t){}},components:{headson:H.a}},Ia={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("headson",{attrs:{headson:this.headson}}),this._v(" "),e("div",{staticClass:"data",attrs:{id:"pages"}},[e("el-tree",{attrs:{data:this.data4,props:this.defaultProps,"node-key":"id","expand-on-click-node":!1,"render-content":this.renderContent}})],1)],1)},staticRenderFns:[]};var Ra=a("VU/8")(ja,Ia,!1,function(t){a("Anfk")},"data-v-99fa9bea",null).exports,Pa={data:function(){return{obj:{scale_id:12},tableData:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},headson:["危机管理数据",""],multipleSelection:"",data:{value4:"",input:"",value5:"100",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"}]}}},mounted:function(){this.getlist(this.page.currentpage,this.page.pagesize,this.obj)},methods:{handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},getlist:function(t,e,a,i){i||(i="");var n=this;this.axios.post("/api/v1/admin/scale/getTestResultList",{page:t,size:e,w:a}).then(function(t){0==t.data.code&&(n.page.countpage=t.data.data.total,n.tableData=t.data.data.list,n.tableData.map(function(t,e){if(t.birth_date){var a=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,i=Math.floor(a/8640);console.log(i),t.age=i}else t.age="null";t.times=wt()(wt()(t.end_test_time)-wt()(t.start_test_time)).format("HH:mm:ss"),0==t.sex?t.sex="女":t.sex="男",t.valid-0==1?t.valid="有效":t.valid="无效",2==t.type?t.type="自测":t.type="普查"}))})},draw:function(){var t=this.$refs.chart;console.log(t),this.myChart=this.$echarts.init(t);this.myChart.setOption({title:{text:"危机干预综合信息"},color:["#3398DB"],legend:{data:["销量"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"7%",containLabel:!0},xAxis:[{type:"category",data:["潜在风险评估","自杀倾向评估"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"2015",type:"bar",barWidth:"100",data:[10,52]}]}),this.myChart.resize();this.myChart.on("click",function(t){console.log(t),"潜在风险评估"==t.name||"自杀倾向评估"==t.name||t.name})}},components:{headson:H.a,pagination:Y.a}},Na={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"scale_name",label:"量表名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stu_name",label:"学生"}}),t._v(" "),a("el-table-column",{attrs:{prop:"start_test_time",label:"测试时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"valid",label:"有效"}})],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)])],1)],1)},staticRenderFns:[]};var Wa=a("VU/8")(Pa,Na,!1,function(t){a("sjCi")},"data-v-614dcbae",null).exports,Ua={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var Ba=a("VU/8")({},Ua,!1,function(t){a("fPC1")},"data-v-2c55d5a6",null).exports,Oa={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var Ma=a("VU/8")({},Oa,!1,function(t){a("AW+W")},"data-v-21db1d56",null).exports,qa={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["咨询记录管理","查询咨询记录"],tableData:[{1:"1",2:"111",3:"孟凡",4:"3.2",5:10},{id:"12987122",name:"王小虎",amount1:"165",amount2:"4.43",amount3:12},{id:"12987124",name:"王小虎",amount1:"324",amount2:"1.9",amount3:9},{id:"12987124",name:"王小虎",amount1:"621",amount2:"2.2",amount3:17},{id:"12987126",name:"王小虎",amount1:"539",amount2:"4.1",amount3:15}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a}},Ha={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          级别：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"luru"},[t._v("自杀倾向评估")]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"姓名",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"院系"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"自杀想法"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"自杀计划"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"自杀行动"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"评估时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("处理")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"咨询时间添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"咨询时间编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字：")]),this._v(" "),e("input",{attrs:{type:"text",placeholder:"请输入手机号，学号，姓名"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var Ya=a("VU/8")(qa,Ha,!1,function(t){a("PGnQ")},"data-v-587bc7f3",null).exports,Ga={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var Za=a("VU/8")({},Ga,!1,function(t){a("XXr1")},"data-v-4b82b59c",null).exports,Xa={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["个案总结"],tableData:[{1:"1",2:"10003",3:"孟凡",4:"男",5:14276525678,6:"初三3班",7:"徐媛",8:"2019/3/3"},{1:"1",2:"10002",3:"李静",4:"女",5:13276525678,6:"初三3班",7:"徐媛",8:"2019/3/1"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a}},Ja={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          级别：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"手机号码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"院系"}}),t._v(" "),a("el-table-column",{attrs:{prop:"7",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"8",label:"评估时间"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"个案总结添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"安个案总结编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字：")]),this._v(" "),e("input",{attrs:{type:"text",placeholder:"请输入手机号，学号，姓名"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var Qa=a("VU/8")(Xa,Ja,!1,function(t){a("vxQ7")},"data-v-4f85417f",null).exports,Ka={data:function(){return{activeName2:"first",activeName:"first-1",titleflag:1,headson:["自杀后管理","个案总结和学生死亡通知模板"],formLabelWidth:"120px",dialogFormVisible:!0,arrs:[{pid:"11",title:"如何给学生死亡通知",obj:[{id:1,title:"学生自杀时"},{id:2,title:"死因不明时"},{id:3,title:"家属不希望公开死因时"}]},{pid:"22",title:"如何给父母死亡通知",obj:[{id:1,title:"学生自杀时"},{id:2,title:"死因不明时"},{id:3,title:"家属不希望公开死因时"}]}],form:{title:"当知道是自杀死亡时如何告知学生",textarea:"主要用于小团体，教师或通报，不适合大众群体或广播",editorContent:"<h1>Some initial content</h1>",date:"",type:[],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:""}}},mounted:function(){var t=this;console.log(document.getElementById("editorElem"));var e=new $e.a("#editorElem");console.log(e),e.customConfig.onchange=function(e){t.editorContent=e,console.log(e)},e.customConfig.uploadImgShowBase64=!0,e.customConfig.uploadImgServer="<%=path%>/Img/upload",e.customConfig.uploadImgMaxSize=3145728,e.customConfig.uploadImgMaxLength=5,e.customConfig.uploadFileName="myFileName",e.customConfig.uploadImgHooks={customInsert:function(t,e,a){t(e.data)}},e.create()},methods:{submitcontent:function(){this.form.value&&this.form.title||this.$message("类型或者主题不能为空")},handleClick:function(t,e){console.log(t,e,this.activeName)},funtitle:function(t,e){this.$refs.nav.map(function(t,e){t.style.color=""}),e.target.style.color="#009dd9",console.log(this.$refs.nav,e.target),this.titleflag=1==t?1:2==t?2:3}},components:{headson:H.a}},ti={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",[a("table",{staticClass:"tab"},[t._m(0),t._v(" "),a("tbody",[a("tr",t._l(t.arrs,function(e,i){return a("td",{key:i},[a("div",t._l(e.obj,function(e,i){return a("span",{key:i,ref:"nav",refInFor:!0,on:{click:function(a){t.funtitle(e.id,a)}}},[t._v(t._s(e.title))])}),0)])}),0)])])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"data"},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"主题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入密码"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"方式","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.form.textarea,callback:function(e){t.$set(t.form,"textarea",e)},expression:"form.textarea"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("div",{staticStyle:{"text-align":"left"},attrs:{id:"editorElem"}},[1==t.titleflag?a("div",[a("p",[t._v("我们非常伤心地告诉大家，我们的一个同学_________。我们希望大家知道，我们将尽一切努力帮助大家。")]),t._v(" "),a("p",[t._v("\n              有关自杀方面的很多问题我们不能马上回答。在此期间可能会出现一些谣言，我们请大家不要传播这些谣言。如果我们知道事情的进展，会在第一时间让大家知道确切的消息。\n              自杀是一个非常复杂的问题。通常有精神疾病，如抑郁症导致。抑郁症是一个人不能清醒的看待问题，解决问题。我们有时不能准确识别或注意到这种疾病，有些时候，有这种疾病的人可能会有明显的症状或体征，但有一点是可以肯定的，如果治疗是不会自杀的。\n              每一个人对_______的去世会有自己的反应，我们要相互尊重，感到悲伤是正常的反应。你们当中有些人可能不十分了解_________，没有受到影响，而其他人可能会经历巨大悲痛。有些人可能会感到不能集中注意力学习，有些人可能感觉集中注意力学习是很好的缓解情绪的方式。\n            ")]),t._v(" "),a("p",[t._v("\n              我们会有咨询员帮助大家处理情绪反应，让大家更多的理解自杀。如果你有需求，请告诉你的老师。\n              我们和你在一起！\n            ")])]):2==t.titleflag?a("div",[a("p",[t._v("我们非常伤心地告诉大家，我们的一个老师_________。我们希望大家知道，我们将尽一切努力帮助大家。")]),t._v(" "),a("p",[t._v("\n              有关自杀方面的很多问题我们不能马上回答。在此期间可能会出现一些谣言，我们请大家不要传播这些谣言。如果我们知道事情的进展，会在第一时间让大家知道确切的消息。\n              自杀是一个非常复杂的问题。通常有精神疾病，如抑郁症导致。抑郁症是一个人不能清醒的看待问题，解决问题。我们有时不能准确识别或注意到这种疾病，有些时候，有这种疾病的人可能会有明显的症状或体征，但有一点是可以肯定的，如果治疗是不会自杀的。\n              每一个人对_______的去世会有自己的反应，我们要相互尊重，感到悲伤是正常的反应。你们当中有些人可能不十分了解_________，没有受到影响，而其他人可能会经历巨大悲痛。有些人可能会感到不能集中注意力学习，有些人可能感觉集中注意力学习是很好的缓解情绪的方式。\n            ")]),t._v(" "),a("p",[t._v("\n              我们会有咨询员帮助大家处理情绪反应，让大家更多的理解自杀。如果你有需求，请告诉你的老师。\n              我们和你在一起！\n            ")])]):a("div",[a("p",[t._v("我们非常伤心地告诉大家,我们希望大家知道，我们将尽一切努力帮助大家。")]),t._v(" "),a("p",[t._v("\n            \n              每一个人对_______的去世会有自己的反应，我们要相互尊重，感到悲伤是正常的反应。你们当中有些人可能不十分了解_________，没有受到影响，而其他人可能会经历巨大悲痛。有些人可能会感到不能集中注意力学习，有些人可能感觉集中注意力学习是很好的缓解情绪的方式。\n            ")]),t._v(" "),a("p",[t._v("\n              我们会有咨询员帮助大家处理情绪反应，让大家更多的理解自杀。如果你有需求，请告诉你的老师。\n              我们和你在一起！\n            ")])])])])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitcontent}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitcontent}},[t._v("下载")])],1)],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("如何给学生死亡通知")]),this._v(" "),e("th",[this._v("如何给父母死亡通知")])])])}]};var ei=a("VU/8")(Ka,ti,!1,function(t){a("Cz0B")},"data-v-db400c94",null).exports,ai={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["环境安全管理","环境安全"],tableData:[{1:"1",2:"10003",3:"孟凡",4:"男",5:14276525678,6:"初三3班",7:"徐媛",8:"2019/3/3"},{1:"1",2:"10002",3:"李静",4:"女",5:12276525678,6:"初三3班",7:"徐媛",8:"2019/3/1"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.$router.push("/crisis/enviromndetail")},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a}},ii={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          级别：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"手机号码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"院系"}}),t._v(" "),a("el-table-column",{attrs:{prop:"7",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"8",label:"评估时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("处理")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"环境安全添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"环境安全编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字：")]),this._v(" "),e("input",{attrs:{type:"text",placeholder:"请输入手机号，学号，姓名"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var ni=a("VU/8")(ai,ii,!1,function(t){a("75CG")},"data-v-23426424",null).exports,si={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["危机预防小组","危机预防"],tableData:[{1:"1",2:"10003",3:"孟凡",4:"男",5:14276525678,6:"初三3班",7:"徐媛",8:"2019/3/3"},{1:"2",2:"10002",3:"李静",4:"女",5:13276525678,6:"初三3班",7:"徐媛",8:"2019/3/1"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.$router.push("/crisis/preteamdetail")},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a}},oi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          级别：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"手机号码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"院系"}}),t._v(" "),a("el-table-column",{attrs:{prop:"7",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"8",label:"评估时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("处理")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"预防小组添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"预防小组编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字：")]),this._v(" "),e("input",{attrs:{type:"text",placeholder:"请输入手机号，学号，姓名"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var li=a("VU/8")(si,oi,!1,function(t){a("JfMX")},"data-v-cc921d5e",null).exports,ri={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["预警触发","预警触发"],tableData:[{1:"1",2:"10003",3:"孟凡",4:"初三3班",5:"是",6:"是",7:"是",8:"徐媛",9:"2014/3/3"},{1:"2",2:"10002",3:"李静",4:"初三2班",5:"是",6:"是",7:"是",8:"徐媛",9:"2014/2/21"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a}},ci={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          级别：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"院系"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"自杀想法"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"自杀计划"}}),t._v(" "),a("el-table-column",{attrs:{prop:"7",label:"自杀行动"}}),t._v(" "),a("el-table-column",{attrs:{prop:"8",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"9",label:"评估时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字：")]),this._v(" "),e("input",{attrs:{type:"text",placeholder:"请输入手机号，学号，姓名"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var di=a("VU/8")(ri,ci,!1,function(t){a("ggL9")},"data-v-3661a376",null).exports,ui={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["应对策略指导","针对自杀倾向者的应急指导"],tableData:[{id:"12987122",name:"王小虎",amount1:"234",amount2:"3.2",amount3:10},{id:"12987122",name:"王小虎",amount1:"165",amount2:"4.43",amount3:12},{id:"12987124",name:"王小虎",amount1:"324",amount2:"1.9",amount3:9},{id:"12987124",name:"王小虎",amount1:"621",amount2:"2.2",amount3:17},{id:"12987126",name:"王小虎",amount1:"539",amount2:"4.1",amount3:15}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a}},mi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("headson",{attrs:{headson:this.headson}}),this._v(" "),this._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"data"},[e("div",{staticClass:"am-container"},[e("img",{attrs:{src:a("f4Ga"),alt:""}})])])}]};var pi=a("VU/8")(ui,mi,!1,function(t){a("xngq")},"data-v-ece0c57e",null).exports,hi={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["安全计划","安全计划数据"],tableData:[{1:"1",2:"10003",3:"孟凡",4:"男",5:"14276525678",6:"初三3班",7:"徐媛",8:"2014/3/3"},{1:"2",2:"10002",3:"李静",4:"女",5:"13276525678",6:"初三3班",7:"徐媛",8:"2014/3/3"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a}},fi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          级别：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,i){return a("option",{key:i,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"手机号码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"院系"}}),t._v(" "),a("el-table-column",{attrs:{prop:"7",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"8",label:"评估时间"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"安全计划添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"安全计划编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字：")]),this._v(" "),e("input",{attrs:{type:"text",placeholder:"请输入手机号，学号，姓名"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var gi=a("VU/8")(hi,fi,!1,function(t){a("tlqJ")},"data-v-75faafee",null).exports,vi={data:function(){return{casedata:[{id:1,name:"无须干预"},{id:2,name:"预约面询"},{id:3,name:"危机干预"},{id:4,name:"联系领导"},{id:5,name:"跟踪随访"}],type:this.$route.query.type,htmlmain:"",suggestdata:"",case_data:{proc_idea:"",suggest:""},user_ext:{nation:"",father_age:"",father_job:"",father_die_age:"",mother_age:"",mother_job:"",mother_die_age:"",parent_marriage_status:"",parent_divorced_age:"",foster_flag:"",foster_age:"",stu_type:"",only_child:"",economy:""},user:{name:"",sex:"",job_num:"",phone:"",unit_group_name:"",address:""},form:{suggest:"<h1>Some initial content</h1>",proc_idea:"1",id:this.$route.query.id},editor:""}},mounted:function(){var t=this;console.log(this.$store.state.columns);var e=new $e.a("#editorElemcasedata");this.editor=e,console.log(e),e.customConfig.onchange=function(e){t.case_data.suggest=e},e.customConfig.uploadImgServer="/api/v1/admin/article/upload",e.customConfig.uploadImgMaxSize=3145728,e.customConfig.uploadImgMaxLength=5,e.customConfig.uploadFileName="file",e.customConfig.uploadImgHeaders={"X-Token":this.$store.state.token},e.customConfig.uploadImgHooks={customInsert:function(t,e,a){0==e.code?t("/uploads/"+e.data.upload_path):that.$message(e.msg)}},e.create()},created:function(){this.case_data.proc_idea="5",this.getlist()},methods:{getlist:function(){var t=this;this.axios.get("/api/v1/admin/coach/detail",{params:{id:this.$route.query.id}}).then(function(e){if(0==e.data.code){if(localStorage.setItem("detail",c()(e.data.data)),e.data.data.user_ext)for(var a in t.user_ext)t.user_ext[a]=e.data.data.user_ext[a];for(var a in e.data.data.user&&(t.user=e.data.data.user),t.case_data)t.case_data[a]=e.data.data.case_data[a],t.htmlmain=e.data.data.case_data.suggest}})},submit:function(){console.log(),this.casedata.suggest=this.editor.txt.html(),this.$route.query.id;var t=this,e={coach:{},user_ext:{}},a=JSON.parse(localStorage.getItem("detail"));if(a.case_data)for(var i in t.case_data)console.log(i),t.case_data[i]&&t.case_data[i]!==a.case_data[i]&&(e.coach[i]=t.case_data[i]);else e.coach=t.case_data;if(a.user_ext)for(var i in t.user_ext)t.user_ext[i]&&t.user_ext[i]!==a.user_ext[i]&&(console.log(t.user_ext[i],a.user_ext[i]),e.user_ext[i]=t.user_ext[i]);else e.user_ext=t.user_ext;var n={};for(var i in e)"{}"!==c()(e[i])&&(n[i]=e[i]);this.axios.post("/api/v1/admin/coach/saveEdit?id="+this.$route.query.id,n).then(function(e){console.log(e),0==e.data.code?(t.$message("修改反馈处理成功"),this.getlist()):t.$message("修改反馈处理失败或者没有修改的数据")})},return1:function(){this.$router.go(-1)}}},_i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"tb_title"},[a("tbody",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("访谈记录修改")]),t._v(" "),a("td",{staticClass:"label"},[t._v("姓名：")]),t._v(" "),a("td",[t._v(t._s(t.user.name))]),t._v(" "),a("td",{staticClass:"label"},[t._v("学号：")]),t._v(" "),a("td",[t._v(t._s(t.user.job_num))]),t._v(" "),a("td",{staticClass:"label"},[t._v("班级：")]),t._v(" "),a("td",[t._v(t._s(t.user.unit_group_name))])]),t._v(" "),a("tr",[a("td",{staticClass:"label"},[t._v("性别：")]),t._v(" "),a("td",[t._v(t._s(1==t.user.sex?"男":"女"))]),t._v(" "),a("td",{staticClass:"label"},[t._v("手机：")]),t._v(" "),a("td",[t._v(t._s(t.user.phone))]),t._v(" "),a("td",{staticClass:"label"},[t._v("家庭住址/宿舍号：")]),t._v(" "),a("td",[t._v(t._s(t.user.address))])])])]),t._v(" "),t._m(0),t._v(" "),a("fieldset",[t._m(1),t._v(" "),a("table",{attrs:{width:"100%",cellpadding:"3",cellspacing:"1"}},[a("tbody",[a("tr",[a("td",{attrs:{width:"50",valign:"top"}},[t._v("内容：")]),t._v(" "),a("td",[a("div",{style:{"text-align":"left"},attrs:{id:"editorElemcasedata"}},[t.htmlmain?t._e():a("textarea",{staticStyle:{width:"100%",overflow:"hidden","word-wrap":"break-word",resize:"horizontal","font-size":"14px",height:"900px"},attrs:{name:"question",id:"question"}},[t._v(" 问题模板：\n1 希望通过咨询解决哪些方面的问题或困惑？\n\n2 这些问题或困惑对您的生活造成了什么样的影响（学习、人际、实践活动）？\n\n3 以前曾经尝试过什么方法或途径来解决这些问题？\n\n4 您的家庭中曾出现过暴力吗？（选做）\n4.1 您认为这和您自己目前所遇到的问题或困惑又怎样的联系呢？\n4.2 您情绪不好时产生过扔东西、推搡、或打人的想法甚至付诸过行动了吗？\n4.3 如果有过上述想法或行为，那是什么时候的事情？\n4.4 是什么样的暴力？\n4.5 现在怎么样了呢？（还会有类似的想法或行为吗？）\n\n5 您曾经有过自杀或自伤的想法吗？（选做）\n5.1 那是什么时候的事情？\n5.2 那时候发生了些什么？\n5.3 您曾计划过如何去实施吗？\n5.4 您有尝试过自杀吗？\n5.5 那是什么时候的事情？\n5.6 结果如何？\n5.6 现在再回过头去看这件事，您对此有什么样的想法或感受？\n\n6 您的家庭成员中曾经有人自杀过吗？（选做）\n6.1 如果有，那是什么时候的事情？\n6.2 您知道那时候发生什么了吗？她/他为什么会选择自杀呢？\n6.3 她/他是通过什么方式自杀的？\n6.4 结果如何？\n6.5 您对她/他的行为有什么看法或感受？\n\n7 您的家庭成员中有人曾得过精神类的疾病吗？（选做）\n7.1 是谁？\n7.2 是什么时候的事情？\n7.3 当时做的诊断是什么？\n7.4 您是如何知道的？\n\n8 您有喝酒的习惯吗？（选做）\n8.1 多久喝一次？\n8.2 每次一般喝多少？\n8.3 喝酒后曾与人发生过冲突吗？\n8.4 您的家庭成员中有人有饮酒方面的问题吗，如酗酒？\n\n9 您觉得还有哪些问题是比较重要，需要让我们了解到的？\n\n10 您以前曾经做过正式的心理咨询吗？感觉效果如何？\n\n11 您对咨询有什么疑问或顾虑吗？")]),t._v(" "),a("p",{domProps:{innerHTML:t._s(t.htmlmain)}},[t._v("访谈建议：")])])])])])])]),t._v(" "),a("fieldset",[a("legend",[t._v("评估结果")]),t._v("自杀危险：\n      "),a("el-select",{attrs:{placeholder:"请选择"}},[a("el-option",{attrs:{label:"正常：基本没有自杀的想法",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"较低：偶尔会有自杀的想法",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"中等：有时会有自杀的想法",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"较高：自杀意图明显，可能为自杀做出了计划",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"极高：自杀意图明显，为自杀做了计划和准备，可能表现出自杀的行为",value:"4"}})],1),t._v(" "),a("br"),t._v("处理方案：\n        "),a("el-select",{attrs:{placeholder:"请选择"}},[a("el-option",{attrs:{label:"暂时不需要干预",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"建议进行心理咨询",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"通知院系或家人，给予当事人支持和帮助",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"即使监护，防止自杀",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"送精神病院住院治疗",value:"4"}})],1),t._v("\n（可多选）\n      "),a("input",{attrs:{id:"deal_value",type:"hidden",value:""}}),t._v(" "),a("br"),t._v("评估日期：\n      "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"}})],1),t._v(" "),a("div",{staticClass:"buttom"},[a("el-button",{on:{click:function(e){t.submit()}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.return1()}}},[t._v("返回")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fieldset",[a("legend",[t._v("自杀危险性评估（SRA）")]),t._v(" "),a("table",{staticClass:"tb_list"},[a("tbody",[a("tr",[a("th",[t._v("评估项目")]),t._v(" "),a("th",{attrs:{width:"80"}},[t._v("无")]),t._v(" "),a("th",{attrs:{width:"80"}},[t._v("有（低）")]),t._v(" "),a("th",{attrs:{width:"80"}},[t._v("有（高）")]),t._v(" "),a("th",{attrs:{width:"80"}},[t._v("极高")])]),t._v(" "),a("tr",[a("td",[t._v("○评估自杀、自伤、暴力攻击计划")]),t._v(" "),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_1",value:"0"}}),t._v("0")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_1",value:"1",checked:""}}),t._v("1")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_1",value:"2"}}),t._v("2")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_1",value:"3"}}),t._v("3")])])]),t._v(" "),a("tr",[a("td",[t._v("○评估既往相关自杀、自伤、暴力攻击经历")]),t._v(" "),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_2",value:"0"}}),t._v("0")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_2",value:"1"}}),t._v("1")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_2",value:"2",checked:""}}),t._v("2")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_2",value:"3"}}),t._v("3")])])]),t._v(" "),a("tr",[a("td",[t._v("○评估目前现实压力")]),t._v(" "),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_3",value:"0"}}),t._v("0")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_3",value:"1"}}),t._v("1")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_3",value:"2",checked:""}}),t._v("2")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_3",value:"3"}}),t._v("3")])])]),t._v(" "),a("tr",[a("td",[t._v("○评估目前支持资源")]),t._v(" "),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_4",value:"2"}}),t._v("2")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_4",value:"1",checked:""}}),t._v("1")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_4",value:"0"}}),t._v("0")])]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("○临床心理评估")]),t._v(" "),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_5",value:"0"}}),t._v("0")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_5",value:"1",checked:""}}),t._v("1")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_5",value:"2"}}),t._v("2")])]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"5",align:"center"}},[t._v("\n          总分："),a("span",{attrs:{id:"sra"}},[t._v("6")]),t._v("，危机等级评定：\n          "),a("label",[a("input",{attrs:{type:"radio",name:"level",id:"radio0",value:"0"}}),t._v("正常（0）")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"level",id:"radio1",value:"1"}}),t._v("较低（1-2）")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"level",id:"radio2",value:"2"}}),t._v("中等（3-5）")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"level",id:"radio3",value:"3",checked:""}}),t._v("较高（6-8）")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"level",id:"radio4",value:"4"}}),t._v("极高（9-13）")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("legend",[this._v("\n        咨询师填写\n        "),e("span",{staticStyle:{"font-size":"12px",color:"blue"}},[this._v("【注：问题模板请不要随意删除,请随访谈结果一起提交】")])])}]};var bi=a("VU/8")(vi,_i,!1,function(t){a("vErg")},"data-v-50895c47",null).exports,xi={data:function(){return{casedata:[{id:1,name:"无须干预"},{id:2,name:"预约面询"},{id:3,name:"危机干预"},{id:4,name:"联系领导"},{id:5,name:"跟踪随访"}],type:this.$route.query.type,htmlmain:"",suggestdata:"",case_data:{proc_idea:"",suggest:""},user_ext:{nation:"",father_age:"",father_job:"",father_die_age:"",mother_age:"",mother_job:"",mother_die_age:"",parent_marriage_status:"",parent_divorced_age:"",foster_flag:"",foster_age:"",stu_type:"",only_child:"",economy:""},user:{name:"",sex:"",job_num:"",phone:"",unit_group_name:"",address:""},form:{suggest:"<h1>Some initial content</h1>",proc_idea:"1",id:this.$route.query.id},editor:""}},mounted:function(){var t=this;console.log(this.$store.state.columns);var e=new $e.a("#editorElemcasedata");this.editor=e,console.log(e),e.customConfig.onchange=function(e){t.case_data.suggest=e},e.customConfig.uploadImgServer="/api/v1/admin/article/upload",e.customConfig.uploadImgMaxSize=3145728,e.customConfig.uploadImgMaxLength=5,e.customConfig.uploadFileName="file",e.customConfig.uploadImgHeaders={"X-Token":this.$store.state.token},e.customConfig.uploadImgHooks={customInsert:function(t,e,a){0==e.code?t("/uploads/"+e.data.upload_path):that.$message(e.msg)}},e.create()},created:function(){this.case_data.proc_idea="5",this.getlist()},methods:{getlist:function(){var t=this;this.axios.get("/api/v1/admin/coach/detail",{params:{id:this.$route.query.id}}).then(function(e){if(0==e.data.code){if(localStorage.setItem("detail",c()(e.data.data)),e.data.data.user_ext)for(var a in t.user_ext)t.user_ext[a]=e.data.data.user_ext[a];for(var a in e.data.data.user&&(t.user=e.data.data.user),t.case_data)t.case_data[a]=e.data.data.case_data[a],t.htmlmain=e.data.data.case_data.suggest}})},submit:function(){console.log(),this.casedata.suggest=this.editor.txt.html(),this.$route.query.id;var t=this,e={coach:{},user_ext:{}},a=JSON.parse(localStorage.getItem("detail"));if(a.case_data)for(var i in t.case_data)console.log(i),t.case_data[i]&&t.case_data[i]!==a.case_data[i]&&(e.coach[i]=t.case_data[i]);else e.coach=t.case_data;if(a.user_ext)for(var i in t.user_ext)t.user_ext[i]&&t.user_ext[i]!==a.user_ext[i]&&(console.log(t.user_ext[i],a.user_ext[i]),e.user_ext[i]=t.user_ext[i]);else e.user_ext=t.user_ext;var n={};for(var i in e)"{}"!==c()(e[i])&&(n[i]=e[i]);this.axios.post("/api/v1/admin/coach/saveEdit?id="+this.$route.query.id,n).then(function(e){console.log(e),0==e.data.code?(t.$message("修改反馈处理成功"),this.getlist()):t.$message("修改反馈处理失败或者没有修改的数据")})},return1:function(){this.$router.go(-1)}}},yi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"tb_title"},[a("tbody",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("访谈记录修改")]),t._v(" "),a("td",{staticClass:"label"},[t._v("姓名：")]),t._v(" "),a("td",[t._v(t._s(t.user.name))]),t._v(" "),a("td",{staticClass:"label"},[t._v("学号：")]),t._v(" "),a("td",[t._v(t._s(t.user.job_num))]),t._v(" "),a("td",{staticClass:"label"},[t._v("班级：")]),t._v(" "),a("td",[t._v(t._s(t.user.unit_group_name))])]),t._v(" "),a("tr",[a("td",{staticClass:"label"},[t._v("性别：")]),t._v(" "),a("td",[t._v(t._s(1==t.user.sex?"男":"女"))]),t._v(" "),a("td",{staticClass:"label"},[t._v("手机：")]),t._v(" "),a("td",[t._v(t._s(t.user.phone))]),t._v(" "),a("td",{staticClass:"label"},[t._v("家庭住址/宿舍号：")]),t._v(" "),a("td",[t._v(t._s(t.user.address))])])])]),t._v(" "),t._m(0),t._v(" "),a("fieldset",[t._m(1),t._v(" "),a("table",{attrs:{width:"100%",cellpadding:"3",cellspacing:"1"}},[a("tbody",[a("tr",[a("td",{attrs:{width:"50",valign:"top"}},[t._v("内容：")]),t._v(" "),a("td",[a("div",{style:{"text-align":"left"},attrs:{id:"editorElemcasedata"}},[t.htmlmain?t._e():a("textarea",{staticStyle:{width:"100%",overflow:"hidden","word-wrap":"break-word",resize:"horizontal","font-size":"14px",height:"900px"},attrs:{name:"question",id:"question"}},[t._v(" 问题模板：\n1 希望通过咨询解决哪些方面的问题或困惑？\n\n2 这些问题或困惑对您的生活造成了什么样的影响（学习、人际、实践活动）？\n\n3 以前曾经尝试过什么方法或途径来解决这些问题？\n\n4 您的家庭中曾出现过暴力吗？（选做）\n4.1 您认为这和您自己目前所遇到的问题或困惑又怎样的联系呢？\n4.2 您情绪不好时产生过扔东西、推搡、或打人的想法甚至付诸过行动了吗？\n4.3 如果有过上述想法或行为，那是什么时候的事情？\n4.4 是什么样的暴力？\n4.5 现在怎么样了呢？（还会有类似的想法或行为吗？）\n\n5 您曾经有过自杀或自伤的想法吗？（选做）\n5.1 那是什么时候的事情？\n5.2 那时候发生了些什么？\n5.3 您曾计划过如何去实施吗？\n5.4 您有尝试过自杀吗？\n5.5 那是什么时候的事情？\n5.6 结果如何？\n5.6 现在再回过头去看这件事，您对此有什么样的想法或感受？\n\n6 您的家庭成员中曾经有人自杀过吗？（选做）\n6.1 如果有，那是什么时候的事情？\n6.2 您知道那时候发生什么了吗？她/他为什么会选择自杀呢？\n6.3 她/他是通过什么方式自杀的？\n6.4 结果如何？\n6.5 您对她/他的行为有什么看法或感受？\n\n7 您的家庭成员中有人曾得过精神类的疾病吗？（选做）\n7.1 是谁？\n7.2 是什么时候的事情？\n7.3 当时做的诊断是什么？\n7.4 您是如何知道的？\n\n8 您有喝酒的习惯吗？（选做）\n8.1 多久喝一次？\n8.2 每次一般喝多少？\n8.3 喝酒后曾与人发生过冲突吗？\n8.4 您的家庭成员中有人有饮酒方面的问题吗，如酗酒？\n\n9 您觉得还有哪些问题是比较重要，需要让我们了解到的？\n\n10 您以前曾经做过正式的心理咨询吗？感觉效果如何？\n\n11 您对咨询有什么疑问或顾虑吗？")]),t._v(" "),a("p",{domProps:{innerHTML:t._s(t.htmlmain)}},[t._v("访谈建议：")])])])])])])]),t._v(" "),a("fieldset",[a("legend",[t._v("评估结果")]),t._v("自杀危险：\n      "),a("el-select",{attrs:{placeholder:"请选择"}},[a("el-option",{attrs:{label:"正常：基本没有自杀的想法",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"较低：偶尔会有自杀的想法",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"中等：有时会有自杀的想法",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"较高：自杀意图明显，可能为自杀做出了计划",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"极高：自杀意图明显，为自杀做了计划和准备，可能表现出自杀的行为",value:"4"}})],1),t._v(" "),a("br"),t._v("处理方案：\n        "),a("el-select",{attrs:{placeholder:"请选择"}},[a("el-option",{attrs:{label:"暂时不需要干预",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"建议进行心理咨询",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"通知院系或家人，给予当事人支持和帮助",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"即使监护，防止自杀",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"送精神病院住院治疗",value:"4"}})],1),t._v("\n（可多选）\n      "),a("input",{attrs:{id:"deal_value",type:"hidden",value:""}}),t._v(" "),a("br"),t._v("评估日期：\n      "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"}})],1),t._v(" "),a("div",{staticClass:"buttom"},[a("el-button",{on:{click:function(e){t.submit()}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.return1()}}},[t._v("返回")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fieldset",[a("legend",[t._v("自杀危险性评估（SRA）")]),t._v(" "),a("table",{staticClass:"tb_list"},[a("tbody",[a("tr",[a("th",[t._v("评估项目")]),t._v(" "),a("th",{attrs:{width:"80"}},[t._v("无")]),t._v(" "),a("th",{attrs:{width:"80"}},[t._v("有（低）")]),t._v(" "),a("th",{attrs:{width:"80"}},[t._v("有（高）")]),t._v(" "),a("th",{attrs:{width:"80"}},[t._v("极高")])]),t._v(" "),a("tr",[a("td",[t._v("○评估自杀、自伤、暴力攻击计划")]),t._v(" "),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_1",value:"0"}}),t._v("0")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_1",value:"1",checked:""}}),t._v("1")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_1",value:"2"}}),t._v("2")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_1",value:"3"}}),t._v("3")])])]),t._v(" "),a("tr",[a("td",[t._v("○评估既往相关自杀、自伤、暴力攻击经历")]),t._v(" "),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_2",value:"0"}}),t._v("0")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_2",value:"1"}}),t._v("1")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_2",value:"2",checked:""}}),t._v("2")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_2",value:"3"}}),t._v("3")])])]),t._v(" "),a("tr",[a("td",[t._v("○评估目前现实压力")]),t._v(" "),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_3",value:"0"}}),t._v("0")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_3",value:"1"}}),t._v("1")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_3",value:"2",checked:""}}),t._v("2")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_3",value:"3"}}),t._v("3")])])]),t._v(" "),a("tr",[a("td",[t._v("○评估目前支持资源")]),t._v(" "),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_4",value:"2"}}),t._v("2")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_4",value:"1",checked:""}}),t._v("1")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_4",value:"0"}}),t._v("0")])]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("○临床心理评估")]),t._v(" "),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_5",value:"0"}}),t._v("0")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_5",value:"1",checked:""}}),t._v("1")])]),a("td",{attrs:{align:"center"}},[a("label",[a("input",{attrs:{type:"radio",name:"sra_5",value:"2"}}),t._v("2")])]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"5",align:"center"}},[t._v("\n          总分："),a("span",{attrs:{id:"sra"}},[t._v("6")]),t._v("，危机等级评定：\n          "),a("label",[a("input",{attrs:{type:"radio",name:"level",id:"radio0",value:"0"}}),t._v("正常（0）")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"level",id:"radio1",value:"1"}}),t._v("较低（1-2）")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"level",id:"radio2",value:"2"}}),t._v("中等（3-5）")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"level",id:"radio3",value:"3",checked:""}}),t._v("较高（6-8）")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"level",id:"radio4",value:"4"}}),t._v("极高（9-13）")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("legend",[this._v("\n        咨询师填写\n        "),e("span",{staticStyle:{"font-size":"12px",color:"blue"}},[this._v("【注：问题模板请不要随意删除,请随访谈结果一起提交】")])])}]};var wi=a("VU/8")(xi,yi,!1,function(t){a("TnzV")},"data-v-04e73492",null).exports,ki=a("M5l7"),Ci=a.n(ki),$i={data:function(){var t;return{loading:!1,roles:"",activeName:"",mousflag:0,fileList:[],timu:"",dialogFormVisible:!1,dialogFormVisible1:!1,form1:(t={name:"",view_name:"",short_name:"",ctgy_id:"",min_age:""},v()(t,"min_age",""),v()(t,"intro",""),v()(t,"guide",""),t),formLabelWidth:"100px",headson:["系统量表","系统量表管理"],editableTabs:[],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:10,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:"",query:""}},mounted:function(){},created:function(){this.gettype()},methods:{gettype:function(){var t=this;this.axios.get("/api/v1/tools/selectScaleTypeList").then(function(e){0==e.data.code&&(t.editableTabs=e.data.data,t.editableTabs.map(function(t,e){t.id=t.id+""}),t.activeName=t.editableTabs[0].id,t.getlist(t.page.currentpage,t.page.pagesize))})},remoteMethod:function(t){console.log(t);var e=this;this.axios.get("/api/v1/tools/selectScaleTypeList?id="+t).then(function(t){console.log(t),0==t.data.code&&(e.roles=t.data.data)})},changevalue:function(t){this.roles.map(function(t,e){t.id})},show:function(){this.dialogFormVisible=!0,console.log(1)},useqrcode:function(){var t=document.getElementById("canvas");console.log(1),wa.a.toCanvas(t,"http://psy.hxxlcloud.com/mpsycholo/ ",function(t){t&&console.error(t),console.log("QRCode success!")})},getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/scale/getScaleList",{page:t,size:e,type:a.activeName}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.count,a.tableData=t.data.data.list)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.$router.push({path:"/school/gloEditsheet",query:{id:e.id}})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/system/scale/delScaleBaseInfo",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible1=!0},makesure:function(){this.dialogFormVisible1=!1;var t=this;this.axios.post("/api/v1/system/scale/saveScaleInfo",this.form1).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleClick:function(t,e){this.activeName=t.name;this.getlist(this.page.currentpage,this.page.pagesize)}},components:{headson:H.a}},Si={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"data"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.editableTabs,function(t,e){return a("el-tab-pane",{key:e,attrs:{label:t.name,name:t.id}})}),1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"专业名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"view_name",label:"友好名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"short_name",label:"英文简称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"topic_count",label:"题数"}}),t._v(" "),a("el-table-column",{attrs:{label:"适用年龄"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.min_age+" — "+e.row.max_age))])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"量表二维码",visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e},opened:t.useqrcode}},[a("canvas",{ref:"canvas",staticStyle:{"margin-left":"150px"},attrs:{id:"canvas"}})]),t._v(" "),a("el-dialog",{attrs:{title:"上传量表",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{ref:"form",attrs:{model:t.form1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词搜索","remote-method":t.remoteMethod,loading:t.loading,"value-key":""},on:{change:t.changevalue},model:{value:t.form1.ctgy_id,callback:function(e){t.$set(t.form1,"ctgy_id",e)},expression:"form1.ctgy_id"}},t._l(t.roles,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"专业名称"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"友好名称"}},[a("el-input",{model:{value:t.form1.view_name,callback:function(e){t.$set(t.form1,"view_name",e)},expression:"form1.view_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"英文简称"}},[a("el-input",{model:{value:t.form1.short_name,callback:function(e){t.$set(t.form1,"short_name",e)},expression:"form1.short_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"适用年龄"}},[a("el-input",{staticStyle:{width:"90px"},attrs:{onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}",rules:[{required:!0,message:"年龄不能为空"},{type:"number",message:"年龄必须为数字值"}]},model:{value:t.form1.min_age,callback:function(e){t.$set(t.form1,"min_age",e)},expression:"form1.min_age"}}),t._v("-\n        "),a("el-input",{staticStyle:{width:"90px"},attrs:{onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}",rules:[{required:!0,message:"年龄不能为空"},{type:"number",message:"年龄必须为数字值"}]},model:{value:t.form1.max_age,callback:function(e){t.$set(t.form1,"max_age",e)},expression:"form1.max_age"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"简介"}},[a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.form1.intro,callback:function(e){t.$set(t.form1,"intro",e)},expression:"form1.intro"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"指导语"}},[a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.form1.guide,callback:function(e){t.$set(t.form1,"guide",e)},expression:"form1.guide"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.makesure}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]};var zi=a("VU/8")($i,Si,!1,function(t){a("NRxK")},"data-v-b7618ba6",null).exports,Fi={data:function(){return{timu:Ci.a,dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["系统量表","系统量表编辑"],editableTabs:[{title:"Tab 1",name:"1",content:"Tab 1 content"},{title:"Tab 2",name:"2",content:"Tab 2 content"}],tableData:[{1:"症状自评量表(SCL-90)",2:"大学生心理健康普查问卷",3:"ZSQZFX",4:"121",5:"18",6:"15-78"},{1:"心理健康诊断测验",2:"心理健康诊断测验",3:"XLJK",4:"98",5:"70",6:"10~100"},{1:"斯特里劳气质调查表(STI)",2:"\t你的气质类型是什么？",3:"STI",4:"3",5:"134",6:"15-78"},{1:"卡特尔16种人格因素问卷(15-70岁)",2:"\t你是什么样的人格呢？(16pf)",3:"16PF",4:"234",5:"56",6:"17-78"},{1:"大五人格量表（NEO）",2:"大五人格量表（NEO）",3:"neo",4:"121",5:"93",6:"15-78"},{1:"艾森克人格问卷成人式(EPQA)",2:"\t你的个性是什么样的？（成人版）",3:"EPQA",4:"33",5:"85",6:"15-78"},{1:"性格倾向性测试",2:"\t你的性格是内向还是外向？",3:"XGQX",4:"58",5:"50",6:"15-78"},{1:"爱德华个人偏好量表（EPPS）",2:"\t爱德华个人偏好量表（EPPS）",3:"EPPS",4:"456",5:"56",6:"7-78"},{1:"人格特质测试",2:"你的人格特质是怎样呢？",3:"ZFX",4:"121",5:"93",6:"15-78"},{1:"症自我和谐量表",2:"\t自我和谐量表",3:"SCCS",4:"121",5:"93",6:"15-78"},{1:"自尊量表（SES）",2:"\t测测你的自尊水平（SES）",3:"ses",4:"121",5:"93",6:"15-78"}],multipleSelection:[],page:{currentpage:1,countpage:10,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){},methods:{show:function(){this.dialogFormVisible=!0,console.log(1)},useqrcode:function(){var t=document.getElementById("canvas");console.log(1),wa.a.toCanvas(t,"http://psy.hxxlcloud.com/mpsycholo/ ",function(t){t&&console.error(t),console.log("QRCode success!")})},getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.timu=Ci.a,console.log(Ci.a)},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleClick:function(t,e){console.log(t,e)},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a}},Ai={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"data"},[a("table",{staticStyle:{"border-top":"2px solid #6699FF","border-bottom":"2px solid #6699FF"},attrs:{width:"100%",cellpadding:"4"}},[a("tbody",{staticClass:"data1"},[a("tr",[a("td",{attrs:{nowrap:""}},[t._v("量表名称：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),t._v(" "),a("tr",[a("td",{attrs:{nowrap:""}},[t._v("友好名称：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"border-top":"1px solid #6699FF"}},[t._v("英 文：")]),t._v(" "),a("td",{staticStyle:{"border-top":"1px solid #6699FF"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),t._v(" "),a("tr",[a("td",{attrs:{nowrap:""}},[t._v("题目数：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},attrs:{onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),t._v(" "),a("tr",[a("td",{attrs:{nowrap:""}},[t._v("适用年龄：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"90px"},attrs:{onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}",rules:[{required:!0,message:"年龄不能为空"},{type:"number",message:"年龄必须为数字值"}]},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v("-\n              "),a("el-input",{staticStyle:{width:"90px"},attrs:{onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}",rules:[{required:!0,message:"年龄不能为空"},{type:"number",message:"年龄必须为数字值"}]},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"border-top":"1px solid #6699FF"},attrs:{valign:"top"}},[t._v("简 介：")]),t._v(" "),a("td",{staticStyle:{"border-top":"1px solid #6699FF"}},[a("p",[t._v("该量表含有10个分量表，分别评价10个不同的家庭环境特征：（1）亲密度（Cohesion），即家庭成员之间互相承诺、帮助和支持的程度；（2）情感表达（Expressiveness），即鼓励家庭成员公开活动，直接表达情感的程度；（3）矛盾性（Conflict），也就是家庭成员之间公开表露愤怒、攻击和矛盾的程度；（4）独立性（Independence），即家庭成员的自尊、自信和自主程度；（5）成功性（Achievement Orientation），是将一般性活动，如上学和工作变为成就性或竞争性活动的程度；（6）知识性（Intellectual-Cultural Orientation），即对政治、社会、智力和文化活动的兴趣大小；（7）娱乐性（Active-Recreational Orientation），即参与社交和娱乐活动的程度；（8）道德宗教观（Moral-Religious Emphasis），即对伦理、宗教和价值观的重视程度；（9）组织性（Organization），即安排家庭活动和责任时有明确的组织和结构的程度；（10）控制性（Control），即使用固定家规和程序来安排家庭生活的程度。")]),t._v(" "),a("el-input",{attrs:{type:"textarea"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"border-top":"1px solid #6699FF"},attrs:{valign:"top"}},[t._v("指导语：")]),t._v(" "),a("td",{staticStyle:{"border-top":"1px solid #6699FF"}},[a("p",[t._v("该问卷用于了解您对您家庭的看法。请您确定以下问题是否符合您家里的实际情况。如果您认为某一问题符合或基本上符合您家庭的实际情况，请选择“是”；如果不符合或基本上不符合，请选择“否”。如果难以判断是否符合，您应该按多数家庭成员的表现或者经常出现的情况做答。如果仍无法确定，就按您自己的估计回答。请务必回答每一个问题。有些问题带有“★”，表示此句有否定的含义，请注意正确理解句子内容。记住，该问卷所指的“家庭”是指与您共同食宿的小家庭。在回答问卷时不要推测别人对您的家庭的看法，请一定按实际情况来回答。")]),t._v(" "),a("el-input",{attrs:{type:"textarea"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),t._v(" "),t._m(0),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("div",{staticClass:"personinfo"},[a("table",[t._m(1),t._v(" "),t._l(t.timu,function(e,i){return a("tr",{key:i},[a("td",{attrs:{align:"center"}},[t._v(t._s(i+1))]),t._v(" "),a("td",[t._v(t._s(e))]),t._v(" "),a("td",[t._v("从无/轻度/中度/偏重/严重")])])})],2)])])])])])]),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("保存")]),t._v(" "),a("el-dialog",{attrs:{title:"量表二维码",visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e},opened:t.useqrcode}},[a("canvas",{ref:"canvas",staticStyle:{"margin-left":"150px"},attrs:{id:"canvas"}})]),t._v(" "),a("el-dialog",{style:{height:"500px"},attrs:{title:"症状自评量表(SCL-90)",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("table",{staticClass:"personinfo"},[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("题目")]),t._v(" "),a("th",[t._v("备选")])]),t._v(" "),t._l(t.timu,function(e,i){return a("tr",{key:i},[a("td",{attrs:{align:"center"}},[t._v(t._s(i+1))]),t._v(" "),a("td",[t._v(t._s(e))]),t._v(" "),a("td",[t._v("从无/轻度/中度/偏重/严重")])])})],2),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("测试题：")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("#")]),this._v(" "),e("th",[this._v("题目")]),this._v(" "),e("th",[this._v("备选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"pages"})])}]};var Di=a("VU/8")(Fi,Ai,!1,function(t){a("2w+2")},"data-v-08ba2262",null).exports,Vi={data:function(){return{select:"",timu:"",dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["量表类别","系统量表类别"],tableData:[{1:"1",2:"UCLA 孤独量表",3:"UCLA 孤独量表（UCLA Lonelin.",4:"下面描述了人们生活中..",5:"√"},{1:"1",2:"UCLA 孤独量表",3:"UCLA 孤独量表（UCLA Lonelin.",4:"下面描述了人们生活中..",5:"√"}],multipleSelection:[],page:{currentpage:1,countpage:10,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{show:function(){this.dialogFormVisible=!0,console.log(1)},useqrcode:function(){var t=document.getElementById("canvas");console.log(1),wa.a.toCanvas(t,"http://psy.hxxlcloud.com/mpsycholo/ ",function(t){t&&console.error(t),console.log("QRCode success!")})},getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.timu=Ci.a,console.log(Ci.a)},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a}},Ei={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"类别名称（？）"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("编辑")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"增加类别",visible:t.dialogFormVisible,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别名称"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("提交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改类别名",visible:t.dialogFormVisible1,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{ref:"form",attrs:{model:t.form1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别名称"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]};var Li=a("VU/8")(Vi,Ei,!1,function(t){a("M8VA")},"data-v-af867ee0",null).exports,Ti={data:function(){return{isbtnActive:!1,isactive:"",headson:["测试组合及分发","系统量表管理，操作"],tabls:["因子信息","因子结算"],tabindex:1,page:{currentPage:1,total:0,flag:!1,size:20},page2:{currentPage:1,total:0,flag:!1,size:20},index1:"",addflag:!1,values:{value1:"",value2:"",value3:""},thead:["因子信息","得分计算","标准分计算","基底分","标准差","操作"],thead1:["结果描述","所属因子","比较值","比较上限","比较下限","操作"],tableData1:[],tableData2:[],submitflag:!0,dialogFormVisible1:!1,dialogFormVisible2:!1,dialogFormVisible3:!1,dialogFormVisible4:!1,form1:{name:""},form2:{name:""},form3:{name:""},form4:{name:""}}},watch:{},created:function(){this.getList(this.page.currentPage,this.page.size)},methods:{getList:function(t,e){var a=this;this.axios.post("/api/v1/admin/user/student/list",{page:t,size:e}).then(function(t){var e=t.data.data;e.map(function(t,e){var a=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,i=Math.floor(a/8640);return t.age=i,0==t.sex?t.sex="女":t.sex="男"}),a.tableData1=e,console.log(e)}),this.page.countpage=Math.ceil(this.tableData1.length/this.page.pagesize)},handleSizeChange:function(t){this.page.size=t,this.getList(this.page.currentPage,this.page.size)},handleCurrentChange:function(t){this.page.currentPage=t,this.getList(this.page.currentPage,this.page.size)},handleSizeChange2:function(t){this.page2.size=t,this.getList(this.page2.currentPage,this.page2.size)},handleCurrentChange2:function(t){this.page2.currentPage=t,this.getList(this.page2.currentPage,this.page2.size)},addnumber1:function(){this.dialogFormVisible1=!0},addnumber2:function(){this.addflag=!0,this.dialogFormVisible3=!0},setting1:function(t){console.log(1),this.dialogFormVisible2=!0},setting2:function(t){this.dialogFormVisible4=!0},queding:function(t){console.log(this.value1),this.addflag=!1,this.index1=""},cancle:function(t){this.addflag=!1,this.index1=""},del1:function(t){var e=this,a=[];if(t)a.push(t);else{for(var i=this.$refs.icheck,n=0;n<i.length;n++)if(i[n].checked){var s=i[n].value;a.push(s)}if(0==a.length)return void this.$message("请至少选择一个删除")}console.log(a);var o=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.post("/api/v1/admin/user/delRole",{id:a}).then(function(t){console.log(t),0==t.data.code?(o.getList(o.page.currentPage,o.page.size),o.$message("删除成功")):o.$message(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},del2:function(){},handleDelAll:function(){},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,i=0;i<e.length;i++)0==e[i].checked&&(a=!1);t.checked=a,event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor=""},handleDownload:function(){this.tableData3;for(var t=this.$refs.icheck,e=[],a=[],i=0;i<t.length;i++)if(t[i].checked){var n=t[i].value;console.log(n),e.push(n)}console.log(e);for(i=0;i<e.length;i++)this.tableData3.map(function(t,n){t.sort==e[i]&&a.push(t)});console.log(a);var s=this.thead;To.handleDownload(s,["id","job_num","name","unit_group","phone","auth_group_id","last_login"],a)},tab:function(t){console.log(t),this.tabindex=t-0+1},showtable:function(){console.log(1)},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},changecolor:function(t){this.isactive=t-0+1},colorcancel:function(){this.isactive=""},checknode:function(){console.log(this.$refs.schoolcheck1.newvalue)},reset:function(){}},components:{schoolcheck:W,headson:H.a,pagination:Y.a}},ji={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,i){return a("li",{key:i,class:{tabactive:t.tabindex-1==i},on:{click:function(e){t.tab(i)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"body"},[a("div",{staticClass:"work"},[a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:function(e){t.del()}}},[t._v("\n            删除\n            "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,i){return a("th",{key:i},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.tableData1,function(e,i){return a("tr",{key:i,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(i)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.id},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.job_num))]),t._v(" "),a("td",{staticClass:"class"},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.sex))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.age))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.age))])]),t._v(" "),a("td",[[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.setting1(e.sort)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.del1(e.id)}}},[t._v("删除")])]],2)])}),0)])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber1}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"增加因子",visible:t.dialogFormVisible1,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"手动录入"}},[a("el-form",{ref:"form",attrs:{model:t.form1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别名称"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"因子结束"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"得分计算"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"标准分计算"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"基底分"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"标准差"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"上传因子"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("提交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改因子",visible:t.dialogFormVisible2,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[a("el-form",{ref:"form",attrs:{model:t.form1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别名称"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"因子结束"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"得分计算"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"标准分计算"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"基底分"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"标准差"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("提交")])],1)],1)],1)]):a("li",{staticClass:"data3"},[a("div",{staticClass:"body"},[a("div",{staticClass:"work"},[a("span",{staticClass:"reset",on:{click:t.reset}},[t._v("删除")])]),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead1,function(e,i){return a("th",{key:i},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.tableData1,function(e,i){return a("tr",{key:i,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(i)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.sort},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.job_num))]),t._v(" "),a("td",{staticClass:"class"},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.sex))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.sex))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.sex))])]),t._v(" "),a("td",[[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.setting2(e.sort)}}},[t._v("修改")])]],2)])}),0)])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page2.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page2.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page2.total},on:{"size-change":t.handleSizeChange2,"current-change":t.handleCurrentChange2}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber2}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"增加因子结算",visible:t.dialogFormVisible3,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible3=e}}},[a("el-form",{ref:"form",attrs:{model:t.form3,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别名称"}},[a("el-input",{model:{value:t.form3.name,callback:function(e){t.$set(t.form3,"name",e)},expression:"form3.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible3=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible3=!1}}},[t._v("提交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改因子结算",visible:t.dialogFormVisible4,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible4=e}}},[a("el-form",{ref:"form",attrs:{model:t.form4,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别名称"}},[a("el-input",{model:{value:t.form4.name,callback:function(e){t.$set(t.form4,"name",e)},expression:"form4.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible4=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible4=!1}}},[t._v("提交")])],1)],1)],1)])])],1)},staticRenderFns:[]};var Ii=a("VU/8")(Ti,ji,!1,function(t){a("Krye")},"data-v-0fdbcf50",null).exports,Ri={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["测试结果预警",""],tableData:[{1:"1",2:"2017081",3:"翟宇轩",4:"男",5:"心理健康诊断测验",6:"1分22秒",7:"2017/3/34",8:"自测",9:"有效"},{1:"2",2:"10002",3:"孟凡",4:"男",5:"心理健康诊断测验",6:"1分22秒",7:"2017/3/33",8:"自测",9:"有效"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){0==t&&this.$router.push({path:"/liangbiao"})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a}},Pi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n        范围：\n        "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("认识自我")]),t._v(" "),a("option",{attrs:{value:""}},[t._v("心理健康")]),t._v(" "),a("option",{attrs:{value:""}},[t._v("自由量表")]),t._v(" "),a("option",{attrs:{value:""}},[t._v("人际关系")])])])])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"量表"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"7",label:"测评时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"8",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"9",label:"有效"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("查看")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Ni=a("VU/8")(Ri,Pi,!1,function(t){a("fLQZ")},"data-v-2380c0aa",null).exports,Wi=(a("1nuA"),{data:function(){return{disabled:!0,activeName:"first",dialogFormVisible:!1,dialogFormVisible1:!1,loading:!1,roles:"",form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:"",scale_id:""},times:"",form2:{scale_id:"",scale_type:"",test_type:"",job_num:"",valid:"",name:"",start_time:"",unit_group_id:"",expire_time:""},formLabelWidth:"100px",headson:["测试结果","测试结果数据查看"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:"",eglist:[[{1:{caleid:2}},{2:{caleid:4}},{3:{caleid:6}},{4:{caleid:8}}],[{1:{caleid:3}},{2:{caleid:5}},{3:{caleid:6}},{4:{caleid:8}}]],factor:[{id:1,cales:[{id:2},{id:3}]},{id:2,cales:[{id:4},{id:5}]},{id:3,cales:[{id:6},{id:7}]},{id:4,cales:[{id:8},{id:9}]}],editableTabs:[]}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},mounted:function(){this.remoteMethod(""),this.gettype()},methods:{gettype:function(){var t=this;this.axios.get("/api/v1/tools/selectScaleTypeList").then(function(e){0==e.data.code&&(t.editableTabs=e.data.data,t.editableTabs.map(function(t,e){t.id=t.id+""}),t.activeName=t.editableTabs[0].id,t.getlist(t.page.currentpage,t.page.pagesize))})},mouse:function(){var t=this;this.eglist.map(function(e){console.log(e),e.map(function(e){for(var a in console.log(e),e){var i=a,n=e[a].caleid;console.log(n);var s=t.factor.find(function(t){return t.id==i});console.log(s)}})})},gostatistic:function(){this.go(1)},goscore:function(){this.go(2)},goanswer:function(){this.go(3)},go:function(t){console.log(this.multipleSelection);var e=[];0!==this.multipleSelection.length?this.multipleSelection.map(function(t){e.push(t.id)}):this.$message("请确定选中了选项");var a=this;if(this.axios.post("/api/v1/admin/scale/getTestResultSet",{ids:e}).then(function(t){if(0==t.data.code){var e=c()(t.data.data);localStorage.setItem("scalesobj",e)}else a.$message(t.data.msg)}),1==t){var i=a.$router.resolve({path:"/Gauge/statistic",query:{id:96}});window.open(i.href,"_blank")}else if(2==t){var n=a.$router.resolve({path:"/Gauge/answer_score",query:{id:96}});window.open(n.href,"_blank")}else if(3==t){var s=a.$router.resolve({path:"/Gauge/test_export_answer",query:{id:96}});window.open(s.href,"_blank")}else{var o=a.$router.resolve({path:"/Gauge/totalresult"});window.open(o.href,"_blank")}},remoteMethod:function(t){console.log(t);var e=this;this.axios.get("/api/v1/system/scale/getSelectScaleList?key="+t).then(function(t){console.log(t),0==t.data.code&&(e.roles=t.data.data)})},selectcale:function(){var t=this.form2.scale_id;this.showtable();[12,29,31,35,43].find(function(e){return e==t})?this.disabled=!1:(this.disabled=!0,this.$message("请选择[scl90,EPQ,16pf,ASLEC,MHT]固定量表进行统计"))},showtable:function(){this.$refs.schoolcheck.treeflag=!1,this.$refs.schoolcheck.newvalue,this.form2.unit_group_id=this.$refs.schoolcheck.item.id-0,console.log(this.times);var t={};for(var e in this.times&&(this.form2.start_time=this.times[0],this.form2.expire_time=this.times[1]),this.form2)this.form2[e]&&(t[e]=this.form2[e]);console.log(this.form2,t),this.getlist(this.page.currentpage,this.page.pagesize,t)},formatDuring:function(t){parseInt(t/864e5);return parseInt(t%864e5/36e5)+" : "+parseInt(t%36e5/6e4)+" : "+t%6e4/1e3},getlist:function(t,e,a,i){i||(i="");var n=this;this.axios.post("/api/v1/admin/scale/getTestResultList",{page:t,size:e,w:a}).then(function(t){0==t.data.code&&(n.page.countpage=t.data.data.total,n.tableData=t.data.data.list,n.tableData.map(function(t,e){if(t.birth_date){var a=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,i=Math.floor(a/8640);t.age=i}else t.age="null";var n=new Date(t.end_test_time).valueOf()-new Date(t.start_test_time).valueOf(),s=wt.a.duration(n),o=(a=wt.a.duration(s).hours(),wt.a.duration(s).minutes()),l=wt.a.duration(s).seconds();t.times=a+":"+o+":"+l,0==t.sex?t.sex="女":t.sex="男",t.valid-0==1?t.valid="有效":t.valid="无效",2==t.type?t.type="自测":t.type="普查"}))})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.$router.push({path:"/Gauge/resultdetail",query:{id:e.id}})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},tabClick:function(t,e){console.log(t,e)},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){},draw:function(){var t=this.$refs.chart;console.log(t),this.myChart=this.$echarts.init(t);this.myChart.setOption({title:{text:"参测统计信息"},color:["#3398DB"],legend:{data:["销量"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"15%",right:"4%",bottom:"3%",containLabel:!0},yAxis:[{type:"category",data:["zonghe","潜在风险评估","自杀倾向评估","访谈评估","生活事件动态"],axisTick:{alignWithLabel:!0}}],xAxis:[{type:"value"}],series:[{name:"2015",type:"bar",barWidth:"30",data:[10,52,200,334,390]}]}),this.myChart.resize();this.myChart.on("click",function(t){console.log(t),"潜在风险评估"==t.name||"自杀倾向评估"==t.name||t.name})}},components:{headson:H.a,schoolcheck:W}}),Ui={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[a("table",{staticClass:"tbs"},[a("tr",[a("td",[t._v("类型")]),t._v(" "),a("td",[a("el-select",{attrs:{name:"",id:"type",clearable:""},model:{value:t.form2.scale_type,callback:function(e){t.$set(t.form2,"scale_type",e)},expression:"form2.scale_type "}},t._l(t.editableTabs,function(e,i){return a("el-option",{key:i,attrs:{label:e.name,value:e.id}},[t._v(t._s(e.name))])}),1)],1),t._v(" "),a("td",[t._v("性别")]),t._v(" "),a("td",[a("el-select",{attrs:{name:"",id:"type",clearable:""},model:{value:t.form2.sex,callback:function(e){t.$set(t.form2,"sex",e)},expression:"form2.sex"}},[a("el-option",{attrs:{value:"1",label:"男"}}),t._v(" "),a("el-option",{attrs:{value:"0",label:"女"}})],1)],1),t._v(" "),a("td",[t._v("量表")]),t._v(" "),a("td",[a("el-select",{attrs:{clearable:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"选择量表再统计[ASLEC,MHT,scl90,EPQ,16pf]","remote-method":t.remoteMethod,loading:t.loading,"value-key":""},on:{change:t.selectcale},model:{value:t.form2.scale_id,callback:function(e){t.$set(t.form2,"scale_id",e)},expression:"form2.scale_id"}},t._l(t.roles,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)]),t._v(" "),a("tr",[a("td",[t._v("学号")]),t._v(" "),a("td",[a("el-input",{model:{value:t.form2.job_num,callback:function(e){t.$set(t.form2,"job_num",e)},expression:"form2.job_num"}})],1),t._v(" "),a("td",[t._v("范围")]),t._v(" "),a("td",[a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck"})],1)]),t._v(" "),a("td",[t._v("有效性")]),t._v(" "),a("td",[a("el-select",{attrs:{name:"",id:"type",clearable:""},model:{value:t.form2.valid,callback:function(e){t.$set(t.form2,"valid",e)},expression:"form2.valid"}},[a("el-option",{attrs:{value:"1",label:"有效"}}),t._v(" "),a("el-option",{attrs:{value:"0",label:"无效"}})],1)],1)]),t._v(" "),a("tr",[a("td",[t._v("自/普测")]),t._v(" "),a("td",[a("el-select",{attrs:{name:"",id:"type",clearable:""},model:{value:t.form2.test_type,callback:function(e){t.$set(t.form2,"test_type",e)},expression:"form2.test_type"}},[a("el-option",{attrs:{value:"2",label:"自测"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"普测"}})],1)],1),t._v(" "),a("td",[t._v("姓名")]),t._v(" "),a("td",[a("el-input",{model:{value:t.form2.name,callback:function(e){t.$set(t.form2,"name",e)},expression:"form2.name"}})],1),t._v(" "),a("td",[t._v("时间")]),t._v(" "),a("td",[a("el-date-picker",{staticStyle:{width:"220px"},attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.times,callback:function(e){t.times=e},expression:"times"}})],1)])])])])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{on:{click:t.showtable}},[t._v("查询")]),t._v(" "),a("span",{on:{click:t.goanswer}},[t._v("导出答题")]),t._v(" "),a("span",{on:{click:t.goscore}},[t._v("导出结果")]),t._v(" "),a("i",{staticClass:"del"},[a("el-button",{staticStyle:{"border-radius":"5px",border:"1px solid #9f9a9b",height:"20px","line-height":"0px"},attrs:{size:"mini",primary:"",disabled:t.disabled},on:{click:t.go}},[t._v("团体报告")])],1)]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"scale_name",label:"量表名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stu_name",label:"学生"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"start_test_time",label:"测试时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"valid",label:"有效"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("数据统计")])]}}])})],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)])],1),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Bi=a("VU/8")(Wi,Ui,!1,function(t){a("H6Nh")},"data-v-5c78324e",null).exports,Oi=(a("HNZq"),{data:function(){return{case_data:{check_basic:"",check_sps:"",check_type:"",trace_basic:"",trace_sps:"",trace_type:""},user_ext:{nation:"",father_age:"",father_job:"",father_die_age:"",mother_age:"",mother_job:"",mother_die_age:"",parent_marriage_status:"",parent_divorced_age:"",foster_flag:"",foster_age:"",stu_type:"",only_child:"",economy:""},factors:"",answers:"",facname:[],score:[],user:{name:"",sex:"",job_num:"",phone:"",unit_group_name:"",address:""},checkid:"",check:[{id:0,name:"无需关注"},{id:1,name:"学业问题"},{id:2,name:"恋爱关系"},{id:3,name:"人际交往"},{id:4,name:"职业发展"},{id:5,name:"情绪问题"},{id:6,name:"躯体疾病"}],type:1,detail:"",option:""}},mounted:function(){this.getlist();var t=this.option;console.log(t)},beforeCreated:function(){},methods:{exportss:function(){l()(".content").html2docx("统计分析文档")},print:function(t){this.type=1==t?1:2==t?2:3,this.draw()},getlist:function(){var t=this;this.axios.get("/api/v1/admin/scale/getTestResultDetail",{params:{id:this.$route.query.id}}).then(function(e){if(0==e.data.code){t.detail=e.data.data,t.factors=e.data.data.result,t.answers=e.data.data.answer,console.log(e.data.data.result,t.factors,t.answers);for(var a in t.factors)t.factors[a].calc.length>0&&(t.facname.push(t.factors[a].desc.factor.name),t.score.push(t.factors[a].score));t.print(t.type),console.log(t.facname,t.score)}})},return1:function(){this.$router.go(-1)},draw:function(){var t,e=this.$refs.chart;this.myChart&&this.myChart.clear(),console.log(this.facname,this.score),this.myChart=this.$echarts.init(e);var a={tooltip:{trigger:"item",formatter:"{a} <br/>{b}{c} ({d}%)"},legend:{orient:"vertical",x:"left",data:this.facnanme},series:[{name:"得分：",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:this.score}]},i={xAxis:{type:"category",data:this.facname},yAxis:{type:"value"},tooltip:{},series:[{data:this.score,type:"line"}]},n={title:{text:"危机干预综合信息"},color:["#3398DB"],legend:{data:["销量"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"7%",containLabel:!0},xAxis:[{type:"category",data:this.facname,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"分数",type:"bar",barWidth:"100",data:this.score}]};t=1==this.type?a:2==this.type?i:n,l()(".chart").data("option",t),console.log(l()(".chart").data("option")),this.option=t,this.myChart.setOption(t),this.myChart.resize();this.myChart.on("click",function(t){console.log(t),"潜在风险评估"==t.name||"自杀倾向评估"==t.name||t.name})}}}),Mi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("table",{staticClass:"tb_title"},[a("tbody",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("测试记录记录查看")]),t._v(" "),a("td",{staticClass:"label"},[t._v("姓名：")]),t._v(" "),a("td",[t._v(t._s(t.detail.name))]),t._v(" "),a("td",{staticClass:"label"},[t._v("学号：")]),t._v(" "),a("td",[t._v(t._s(t.detail.job_num))])]),t._v(" "),a("tr",[a("td",{staticClass:"label"},[t._v("性别：")]),t._v(" "),a("td",[t._v(t._s(1==t.detail.sex?"男":"女"))]),t._v(" "),a("td",{staticClass:"label"},[t._v("手机：")])])])]),t._v(" "),a("div",{attrs:{align:"center"}},[a("b",[t._v("量表：同学关系问卷")]),t._v(" 【\n    "),a("a",{staticStyle:{color:"blue"},attrs:{href:"#",target:""},on:{click:t.exportss}},[t._v("测试报告")]),t._v("】\n  ")]),t._v(" "),a("fieldset",[a("legend",[t._v("测试结果")]),t._v(" "),a("table",{staticClass:"tb_stat"},[a("tbody",[a("tr",[a("th",[t._v("因子")]),t._v(" "),t._l(t.facname,function(e,i,n){return a("td",{key:n},[t._v(t._s(e))])})],2),t._v(" "),a("tr",[a("td",[t._v("得分")]),t._v(" "),t._l(t.score,function(e,i,n){return a("td",{key:n},[t._v(t._s(e))])})],2)])])]),t._v(" "),a("fieldset",[a("legend",[t._v("\n      量表剖析图 【\n      "),a("span",{on:{click:function(e){t.print(1)}}},[t._v("饼图")]),t._v(" "),a("span",{on:{click:function(e){t.print(2)}}},[t._v("折线图")]),t._v(" "),a("span",{on:{click:function(e){t.print(3)}}},[t._v("柱形图")]),t._v("】\n    ")]),t._v(" "),a("div",{ref:"chart",staticClass:"chart"})]),t._v(" "),a("fieldset",{staticStyle:{"line-height":"150%"}},[a("legend",[t._v("结果解释")]),t._v(" "),t._l(t.factors,function(e,i,n){return a("div",{key:n},[e.desc?a("span",[t._v("【"+t._s(e.desc.factor.name)+"】"+t._s(e.desc.calc.explain)+"。")]):t._e()])})],2),t._v(" "),a("fieldset",{staticStyle:{"line-height":"150%"}},[a("legend",[t._v("原始选择")]),t._v(" "),a("el-row",t._l(t.answers,function(e,i){return a("el-col",{key:i,attrs:{xs:2,sm:2,md:2,lg:2}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\n          "+t._s(i+1)+"．[\n          "),e.length>=0?a("span",{staticClass:"answer"},t._l(e,function(e,i){return a("i",{key:i},[t._v(t._s(e)+",")])}),0):a("span",{staticClass:"answer"},[t._v(t._s(e))]),t._v("]\n        ")])])}),1)],1),t._v(" "),a("div",{staticClass:"buttom"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.return1()}}},[t._v("返回")])],1)])},staticRenderFns:[]};var qi=a("VU/8")(Oi,Mi,!1,function(t){a("Y2pp")},"data-v-01d1400a",null).exports,Hi=a("XLwt"),Yi=a.n(Hi),Gi={name:"echartscom",props:{chartData:{type:Array,default:function(){return[]}},index:""},data:function(){return{option:"",xarr:"",yarr:""}},watch:{option:function(){this.$emit("childByValue",this.option,this.index)}},mounted:function(){console.log(this.chartData);var t=[],e=[];this.chartData.map(function(a,i){t.push(a.name);var n={};n.name=a.name,n.value=a.count||0,e.push(n)}),this.xarr=t,this.yarr=e,console.log(t,e),this.drawCharts()},methods:{drawCharts:function(){var t=Yi.a.init(document.getElementById(this.echarts)),e={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:this.xarr},series:[{name:"访问来源",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:this.yarr}]};this.option=e,t.setOption(e)}},computed:{echarts:function(){return"echarts"+1e5*Math.random()}},components:{}},Zi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"charttest"},[e("div",{ref:"echarts",staticClass:"echarts",staticStyle:{width:"800px",height:"300px"},attrs:{id:this.echarts}})])},staticRenderFns:[]};var Xi={data:function(){return{msg:{chartData1:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],chartData2:[{value:2,name:"直接访问"},{value:1,name:"邮件营销"},{value:3,name:"联盟广告"},{value:4,name:"视频广告"},{value:123,name:"搜索引擎"}]},tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}],myChart:"",option:"",factor:"",fct_cal:"",scalelist:"",name:"",intro:"",age:{max:"",min:"",aver:""},sexs:{a:0,b:0},time:[],times:{min:"",max:{}},ages:[]}},created:function(){var t=this,e=JSON.parse(localStorage.getItem("scalesobj"));this.factor=e.fct,this.fct_cal=e.fct_cal,this.scalelist=e.list,this.name=e.list[0].scale_name,this.intro=e.list[0].intro;var a=[];this.factor.map(function(e,a){e.fct_cal=[],t.fct_cal.map(function(t,a){if(e.id==t.factor_id)return e.fct_cal.push(t),e})});var i=this;i.scalelist.map(function(t,e){if(t.birth_date){var n=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,s=Math.floor(n/8640);console.log(s),a.push(s)}else a.push(0);i.time.push(t.start_test_time),console.log(t.sex),0==t.sex?(console.log(t.sex),i.sexs.a+=1):(console.log(t.sex),i.sexs.b+=1);t.sex,t.start_test_time;console.log(t);var o=JSON.parse(t.result);for(var l in o){var r=o[l].calc[0];if(console.log(r),r){var c=i.factor.find(function(t,e){return t.id==l});console.log(i.factor);var d=c.fct_cal;d.map(function(t,e){t.id==r&&(t.count?(t.count=t.count+1,t.persent=(t.count/i.scalelist.length*100).toFixed(2)-0):(t.count=1,t.persent=(t.count/i.scalelist.length*100).toFixed(2)-0))}),console.log(d),i.factor.map(function(t,e){t.id==l&&(t.fct_cal=d)})}}console.log(i.factor)}),console.log(a,i.time,i.sexs);var n=Math.max.apply(Math,a),s=Math.min.apply(Math,a),o=0;a.map(function(t){o+=t,console.log(t)});var l=o/a.length;i.ages.min=s,i.ages.max=n,i.ages.aver=l;var r=wt.a.max(i.time.map(function(t){return wt()(t)})).format("YYYY-MM-DD"),c=wt.a.min(i.time.map(function(t){return wt()(t)})).format("YYYY-MM-DD");console.log(r,c),i.times.min=c,i.times.max=r},mounted:function(){l()("#chart-00").data("option",this.option)},methods:{childByValues:function(t,e){l()("#chart"+e).data("option",t)},ex:function(){l()(".content").html2docx("统计分析文档")},draw:function(){var t=this.$refs.chart;this.myChart=this.$echarts.init(t),console.log(this.myChart);var e={title:{text:"危机干预综合信息"},color:["#3398DB"],legend:{data:["销量"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"7%",containLabel:!0},xAxis:[{type:"category",data:["潜在风险评估","自杀倾向评估","访谈评估","生活事件动态"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"2015",type:"bar",barWidth:"100",data:[10,52,200,334,390]}]};this.option=e,this.myChart.setOption(e),this.myChart.resize()}},components:{echartscom:a("VU/8")(Gi,Zi,!1,function(t){a("+yXY")},null,null).exports}},Ji={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("article",{staticClass:"am-container content"},[a("div",{staticClass:"inner"},[a("h1",[a("small",[t._v("中学心理管理系统")]),t._v(" "),a("br"),t._v("\n        "+t._s(t.name)+"测试结果报告\n      ")]),t._v(" "),t._m(0),t._v(" "),a("section",[a("p",[t._v(t._s(t.intro))]),t._v(" "),a("p",[t._v("该量表主要测查测试群体在"+t._s(t.factor.length)+"个因子上的情况，"+t._s(t.factor.length)+"个因子各自的定义如下：")]),t._v(" "),t._l(t.factor,function(e,i){return a("p",{key:i},[t._v("（1）"+t._s(e.name)+"。该因子主要反映"+t._s(e.specification)+"。")])})],2),t._v(" "),t._m(1),t._v(" "),a("p",[t._v(t._s(t.times.min)+"～"+t._s(t.times.max))]),t._v(" "),t._m(2),t._v(" "),a("section",[a("ul",[a("li",[t._v("人数： 本次测评采用网络测评的方式，实测人数"+t._s(t.scalelist.length)+"人。")]),t._v(" "),a("li",[t._v("性别： 男性"+t._s(t.sexs.b)+"人，女性"+t._s(t.sexs.a)+"人。")]),t._v(" "),a("li",[t._v("\n            年龄：\n            最大年龄："+t._s(t.ages.max)+"，最小年龄："+t._s(t.ages.min)+"，平均年龄："+t._s(t.ages.aver)+"。\n          ")])]),t._v(" "),t._m(3),t._v(" "),a("section",[t._m(4),t._v(" "),t._l(t.factor,function(e,i){return a("div",{key:i},[a("h4",{staticClass:"autocjs-heading",attrs:{id:"autocjs-heading-7"}},[t._v("\n            【"+t._s(e.name)+"】\n            "),a("a",{staticClass:"autocjs-anchor autocjs-hide",attrs:{"aria-hidden":"true",id:"autocjs-anchor-7",href:"#autocjs-heading-7","aria-label":"【躯体化】"}})]),t._v(" "),a("p",{staticClass:"am-article-lead"},[t._v(t._s(e.specification)+"。")]),t._v(" "),t._l(e.fct_cal,function(e,i){return a("div",{key:i},[t._v("\n            在测查群体中，有\n            "),a("span",{staticClass:"underline"},[t._v(t._s(e.count||0))]),t._v("人是"+t._s(e.name)+"，所占比例为\n            "),a("span",{staticClass:"underline"},[t._v(t._s(e.persent||0)+"%")]),t._v("；\n          ")])}),t._v(" "),a("div",{staticClass:"test chart",attrs:{id:"chart"+i}},[a("echartscom",{attrs:{chartData:e.fct_cal,index:i,autoresize:""},on:{childByValue:t.childByValues}})],1)],2)}),t._v(" "),t._m(5)],2)])])]),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary",onclick:"javascript:window.print()"}},[t._v("打印")]),t._v(" "),a("el-button",{attrs:{type:"success"}},[a("div",{attrs:{id:"btn-word"},on:{click:function(e){t.ex()}}},[t._v("导出")])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"autocjs-heading",attrs:{id:"autocjs-heading-0"}},[this._v("\n        一、测试工具\n        "),e("a",{staticClass:"autocjs-anchor autocjs-hide",attrs:{"aria-hidden":"true",id:"autocjs-anchor-0",href:"#autocjs-heading-0","aria-label":"一、测试工具"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"autocjs-heading",attrs:{id:"autocjs-heading-1"}},[this._v("\n        二、测试时间\n        "),e("a",{staticClass:"autocjs-anchor autocjs-hide",attrs:{"aria-hidden":"true",id:"autocjs-anchor-1",href:"#autocjs-heading-1","aria-label":"二、测试时间"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"autocjs-heading",attrs:{id:"autocjs-heading-2"}},[this._v("\n        三、测试群体\n        "),e("a",{staticClass:"autocjs-anchor autocjs-hide",attrs:{"aria-hidden":"true",id:"autocjs-anchor-2",href:"#autocjs-heading-2","aria-label":"三、测试群体"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"autocjs-heading",attrs:{id:"autocjs-heading-3"}},[e("a",{staticClass:"autocjs-anchor autocjs-hide",attrs:{"aria-hidden":"true",id:"autocjs-anchor-3",href:"#autocjs-heading-3","aria-label":"四、总体的测试结果"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"autocjs-heading",attrs:{id:"autocjs-heading-6"}},[this._v("\n            3．具体分析\n            "),e("a",{staticClass:"autocjs-anchor autocjs-hide",attrs:{"aria-hidden":"true",id:"autocjs-anchor-6",href:"#autocjs-heading-6","aria-label":"3．具体分析"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chart",staticStyle:{width:"100%",height:"300px","overflow-x":"auto","overflow-y":"hidden",margin:"0px auto","-webkit-tap-highlight-color":"transparent","user-select":"none",position:"relative"},attrs:{id:"chart-555425","data-src":"/Scripts/chart.js?c=pie&h=300&x=正常|轻度|中重度&v=12,1,1",_echarts_instance_:"ec_1576745798249"}},[e("div",{staticStyle:{position:"relative",overflow:"hidden",width:"874px",height:"300px",padding:"0px",margin:"0px","border-width":"0px"}},[e("canvas",{staticStyle:{position:"absolute",left:"0px",top:"0px",width:"874px",height:"300px","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",padding:"0px",margin:"0px","border-width":"0px"},attrs:{"data-zr-dom-id":"zr_0",width:"874",height:"300"}})]),this._v(" "),e("div")])}]};var Qi=a("VU/8")(Xi,Ji,!1,function(t){a("upna")},"data-v-74ec882b",null).exports,Ki={data:function(){return{newtable:[{},{}],thead:["编号","姓名","性别","年龄","民族","父亲年龄","父亲职业","父亲去世","母亲年龄","母亲职业","母亲去世","父母婚姻","离异年龄","寄养经历","寄养年龄","生源类型","独生子女","家庭经济","测评时间"],factor:"",fct_cal:"",scalelist:""}},created:function(){var t=this,e=JSON.parse(localStorage.getItem("scalesobj"));this.factor=e.fct,this.fct_cal=e.fct_cal,this.scalelist=e.list,this.scalelist.map(function(e,a){if(e.birth_date){var i=((new Date).getTime()-new Date(e.birth_date))/1e3/60/60,n=Math.floor(i/8640);console.log(n),e.age=n}else e.age="null";var s=JSON.parse(e.result);t.factor.map(function(t,a){for(var i in s)i-0==t.id-0&&(s[i].name=t.name,e[t.name]=s[i].score)}),e.result=s}),console.log(this.scalelist)},methods:{Download:function(){var t=this.scalelist;t.map(function(t,e){switch(t.economy-0==1?t.economy="困难":t.economy="不困难",t.stu_type-0){case 1:t.stu_type="农村";break;case 2:t.stu_type="城市";break;case 3:t.stu_type="城镇";break;case 4:t.stu_type="留学生"}});var e=this.thead,a=["user_id","stu_name","sex","age","nation","father_age","father_job","father_die_age","mother_age","mother_job","mother_die_age","parent_marriage_status","parent_divorced_age","foster_flag","foster_age","stu_type","only_child","economy","start_test_time"];this.factor.map(function(t,i){a.push(t.name),e.push(t.name)}),console.log(a),To.handleDownload(e,a,t)}}},tn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-button",{staticStyle:{margin:"10px"},attrs:{type:"primary"},on:{click:t.Download}},[t._v("存为Excel文档")])],1),t._v(" "),a("table",{staticClass:"am-table"},[a("thead",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("编号")]),t._v(" "),a("th",[t._v("姓名")]),t._v(" "),a("th",[t._v("性别")]),t._v(" "),a("th",[t._v("年龄")]),t._v(" "),a("th",[t._v("名族")]),t._v(" "),a("th",[t._v("父亲年龄")]),t._v(" "),a("th",[t._v("父亲职业")]),t._v(" "),a("th",[t._v("父亲去世")]),t._v(" "),a("th",[t._v("母亲年龄")]),t._v(" "),a("th",[t._v("母亲职业")]),t._v(" "),a("th",[t._v("母亲去世")]),t._v(" "),a("th",[t._v("父母婚姻")]),t._v(" "),a("th",[t._v("离异年龄")]),t._v(" "),a("th",[t._v("寄养经历")]),t._v(" "),a("th",[t._v("寄养年龄")]),t._v(" "),a("th",[t._v("生源类型")]),t._v(" "),a("th",[t._v("独生子女")]),t._v(" "),a("th",[t._v("家庭经济")]),t._v(" "),a("th",[t._v("测评时间")]),t._v(" "),t._l(t.scalelist[0].result,function(e,i){return a("th",{key:i},[t._v(t._s(e.name))])})],2),t._v(" "),a("tbody",t._l(t.scalelist,function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(i+1))]),t._v(" "),a("td",[t._v(t._s(e.user_id))]),t._v(" "),a("td",[t._v(t._s(e.stu_name))]),t._v(" "),a("td",[t._v(t._s(0==e.sex?"女":"男"))]),t._v(" "),a("td",[t._v(t._s(e.age))]),t._v(" "),a("td",[t._v(t._s(e.nation))]),t._v(" "),a("td",[t._v(t._s(e.father_age))]),t._v(" "),a("td",[t._v(t._s(e.father_job))]),t._v(" "),a("td",[t._v(t._s(e.father_die_age))]),t._v(" "),a("td",[t._v(t._s(e.mother_age))]),t._v(" "),a("td",[t._v(t._s(e.mother_job))]),t._v(" "),a("td",[t._v(t._s(e.mother_die_age))]),t._v(" "),a("td",[1==e.parent_marriage_status?a("span",[t._v("良好")]):2==e.parent_marriage_status?a("span",[t._v("一般")]):2==e.parent_marriage_status?a("span",[t._v("较差")]):a("span",[t._v("离异")])]),t._v(" "),a("td",[t._v(t._s(e.parent_divorced_age))]),t._v(" "),a("td",[t._v(t._s(1==e.foster_flag?"是":"否"))]),t._v(" "),a("td",[t._v(t._s(e.foster_age))]),t._v(" "),a("td",[1==e.stu_type?a("span",[t._v("农村")]):2==e.stu_type?a("span",[t._v("城市")]):3==e.stu_type?a("span",[t._v("城镇")]):4==e.stu_type?a("span",[t._v("留学生")]):t._e()]),t._v(" "),a("td",[t._v(t._s(1==e.only_child?"是":"否"))]),t._v(" "),a("td",[t._v(t._s(1==e.economy?"困难":"不困难"))]),t._v(" "),a("td",[t._v(t._s(e.start_test_time))]),t._v(" "),t._l(e.result,function(e,i){return a("td",{key:i},[t._v(t._s(e.score))])})],2)}),0)])])},staticRenderFns:[]};var en=a("VU/8")(Ki,tn,!1,function(t){a("D29O")},"data-v-3f266398",null).exports,an={data:function(){return{newtable:[{},{}],thead:["编号","姓名","性别","年龄","民族","父亲年龄","父亲职业","父亲去世","母亲年龄","母亲职业","母亲去世","父母婚姻","离异年龄","寄养经历","寄养年龄","生源类型","独生子女","家庭经济","测评时间"],factor:"",fct_cal:"",scalelist:""}},created:function(){var t=JSON.parse(localStorage.getItem("scalesobj"));this.factor=t.fct,this.fct_cal=t.fct_cal,this.scalelist=t.list,this.scalelist.map(function(t,e){if(t.birth_date){var a=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,i=Math.floor(a/8640);t.age=i}else t.age="null";var n=JSON.parse(t.answer);n.map(function(e,a){t[a+1]=e}),t.answer=n}),console.log(this.scalelist)},methods:{Download:function(){var t=this.scalelist;t.map(function(t,e){switch(t.economy-0==1?t.economy="困难":t.economy="不困难",t.stu_type-0){case 1:t.stu_type="农村";break;case 2:t.stu_type="城市";break;case 3:t.stu_type="城镇";break;case 4:t.stu_type="留学生"}});var e=this.thead,a=["user_id","stu_name","sex","age","nation","father_age","father_job","father_die_age","mother_age","mother_job","mother_die_age","parent_marriage_status","parent_divorced_age","foster_flag","foster_age","stu_type","only_child","economy","start_test_time"];this.scalelist[0].answer.map(function(t,i){a.push(i+1),e.push(i+1)}),console.log(a),To.handleDownload(e,a,t)}}},nn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-button",{staticStyle:{margin:"10px"},attrs:{type:"primary"},on:{click:t.Download}},[t._v("存为Excel文档")])],1),t._v(" "),a("table",{staticClass:"am-table"},[a("thead",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("编号")]),t._v(" "),a("th",[t._v("姓名")]),t._v(" "),a("th",[t._v("性别")]),t._v(" "),a("th",[t._v("年龄")]),t._v(" "),a("th",[t._v("名族")]),t._v(" "),a("th",[t._v("父亲年龄")]),t._v(" "),a("th",[t._v("父亲职业")]),t._v(" "),a("th",[t._v("父亲去世")]),t._v(" "),a("th",[t._v("母亲年龄")]),t._v(" "),a("th",[t._v("母亲职业")]),t._v(" "),a("th",[t._v("母亲去世")]),t._v(" "),a("th",[t._v("父母婚姻")]),t._v(" "),a("th",[t._v("离异年龄")]),t._v(" "),a("th",[t._v("寄养经历")]),t._v(" "),a("th",[t._v("寄养年龄")]),t._v(" "),a("th",[t._v("生源类型")]),t._v(" "),a("th",[t._v("独生子女")]),t._v(" "),a("th",[t._v("家庭经济")]),t._v(" "),a("th",[t._v("测评时间")]),t._v(" "),t._l(t.scalelist[0].answer,function(e,i){return a("th",{key:i},[t._v(t._s(i+1))])})],2),t._v(" "),a("tbody",t._l(t.scalelist,function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(i+1))]),t._v(" "),a("td",[t._v(t._s(e.user_id))]),t._v(" "),a("td",[t._v(t._s(e.stu_name))]),t._v(" "),a("td",[t._v(t._s(0==e.sex?"女":"男"))]),t._v(" "),a("td",[t._v(t._s(e.age))]),t._v(" "),a("td",[t._v(t._s(e.nation))]),t._v(" "),a("td",[t._v(t._s(e.father_age))]),t._v(" "),a("td",[t._v(t._s(e.father_job))]),t._v(" "),a("td",[t._v(t._s(e.father_die_age))]),t._v(" "),a("td",[t._v(t._s(e.mother_age))]),t._v(" "),a("td",[t._v(t._s(e.mother_job))]),t._v(" "),a("td",[t._v(t._s(e.mother_die_age))]),t._v(" "),a("td",[1==e.parent_marriage_status?a("span",[t._v("良好")]):2==e.parent_marriage_status?a("span",[t._v("一般")]):2==e.parent_marriage_status?a("span",[t._v("较差")]):a("span",[t._v("离异")])]),t._v(" "),a("td",[t._v(t._s(e.parent_divorced_age))]),t._v(" "),a("td",[t._v(t._s(1==e.foster_flag?"是":"否"))]),t._v(" "),a("td",[t._v(t._s(e.foster_age))]),t._v(" "),a("td",[1==e.stu_type?a("span",[t._v("农村")]):2==e.stu_type?a("span",[t._v("城市")]):3==e.stu_type?a("span",[t._v("城镇")]):4==e.stu_type?a("span",[t._v("留学生")]):t._e()]),t._v(" "),a("td",[t._v(t._s(1==e.only_child?"是":"否"))]),t._v(" "),a("td",[t._v(t._s(1==e.economy?"困难":"不困难"))]),t._v(" "),a("td",[t._v(t._s(e.start_test_time))]),t._v(" "),t._l(e.answer,function(e,i){return a("td",{key:i},[t._v(t._s(e))])})],2)}),0)])])},staticRenderFns:[]};var sn=a("VU/8")(an,nn,!1,function(t){a("M96b")},"data-v-9db12e20",null).exports,on={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n统计答案\n  ")])},staticRenderFns:[]};var ln=a("VU/8")({},on,!1,function(t){a("G9MG")},"data-v-1947bb62",null).exports,rn={data:function(){return{formLabelWidth:"100px",isbtnActive:!1,dialogFormVisible1:!1,selectid:"",pickerOptions1:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},pickerOptions2:this.beginDate(),selsets:[{value:1,name:"团体"},{value:2,name:"个人"}],target:"",form1:{scale_id:"",type:"",target:"",start_time:"",expire_time:""},isactive:"",headson:["测试组合及分发","系统量表管理，操作"],roles:"",loading:!1,tabls:["组合分发","组合设置"],tabindex:1,page:{currentPage:1,total:0,flag:!1,size:20},index1:"",addflag:!1,values:{value1:"",value2:"",value3:""},thead:["所选量表","所选班级","学生学号","添加时间","截止时间","操作"],thead1:["序号","名称","量表组合","测评二维码"],tableData3:[],submitflag:!0}},watch:{},created:function(){this.getList(this.page.currentPage,this.page.size)},methods:{getList:function(t,e){var a=this;this.axios.post("/api/v1/admin/scale/getScaleCombList",{page:t,size:e}).then(function(t){var e=t.data.data.list;a.page.total=t.data.data.total,e.map(function(t,e){if(t.scale.length>0){var a="";t.scale.map(function(t){a=a+t.name+","}),t.scalename=a}else t.scalename="无";if(t.target_name.length>0){var i="";t.target_name.map(function(t){i=i+t.name+","}),t.targetname=i}else t.targetname="无";1==t.type?(t.groupname=t.targetname,t.person="无"):(t.person=t.target,t.groupname="无")}),a.tableData3=e,console.log(e)}),this.page.countpage=Math.ceil(this.tableData3.length/this.page.pagesize)},handleSizeChange:function(t){this.page.size=t,this.getList(this.page.currentPage,this.page.size)},handleCurrentChange:function(t){this.page.currentPage=t,this.getList(this.page.currentPage,this.page.size)},addnumber:function(){this.addflag=!0,this.dialogFormVisible1=!0,this.remoteMethod(""),console.log(this.addflag)},queding:function(t){console.log(this.value1),this.addflag=!1,this.index1=""},cancle:function(t){this.addflag=!1,this.index1=""},setting:function(t){console.log(t),this.index1=t},del:function(t){var e=this,a=[];if(t)a.push(t);else{for(var i=this.$refs.icheck,n=0;n<i.length;n++)if(i[n].checked){var s=i[n].value;a.push(s)}if(0==a.length)return void this.$message("请至少选择一个删除")}console.log(a);var o=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.post("/api/v1/admin/scale/delScaleComb",{id:a}).then(function(t){console.log(t),0==t.data.code?(o.getList(o.page.currentPage,o.page.size),o.$message("删除成功")):o.$message(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDelAll:function(){},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,i=0;i<e.length;i++)0==e[i].checked&&(a=!1);t.checked=a,event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor=""},handleDownload:function(){this.tableData3;for(var t=this.$refs.icheck,e=[],a=[],i=0;i<t.length;i++)if(t[i].checked){var n=t[i].value;console.log(n),e.push(n)}console.log(e);for(i=0;i<e.length;i++)this.tableData3.map(function(t,n){t.sort==e[i]&&a.push(t)});console.log(a);var s=this.thead;To.handleDownload(s,["id","job_num","name","unit_group","phone","auth_group_id","last_login"],a)},tab:function(t){console.log(t),this.tabindex=t-0+1},showtable:function(){console.log(1)},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},changecolor:function(t){this.isactive=t-0+1},colorcancel:function(){this.isactive=""},checknode:function(){console.log(this.$refs.schoolcheck1.newvalue)},remoteMethod:function(t){console.log(t);var e=this;this.axios.get("/api/v1/system/scale/getSelectScaleList?key="+t).then(function(t){console.log(t),0==t.data.code&&(e.roles=t.data.data)})},editsure:function(){var t=this,e=this,a=[];1==this.selectid?(a.push(this.$refs.schoolcheck.item.id),this.form1.target=a):this.form1.target=this.target.split(","),this.form1.type=this.selectid,this.axios.post("/api/v1/admin/scale/saveScaleComb",this.form1).then(function(a){0==a.data.code?(e.$message("增加成功"),e.dialogFormVisible1=!1,t.getList(t.page.currentPage,t.page.size)):e.$message(a.data.msg)})},beginDate:function(){var t=this;return{disabledDate:function(e){return t.form1.start_time?new Date(t.form1.start_time).getTime()>=e.getTime():e.getTime()<=Date.now()-864e5}}}},components:{schoolcheck:W,headson:H.a,pagination:Y.a}},cn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"body"},[a("div",{staticClass:"work"},[a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:function(e){t.del()}}},[t._v("\n            删除\n            "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,i){return a("th",{key:i},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.tableData3,function(e,i){return a("tr",{key:i,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(i)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.id},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.scalename))]),t._v(" "),a("td",{staticClass:"class"},[a("span",[t._v(t._s(e.groupname))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.person))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.start_time))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.expire_time))])]),t._v(" "),a("td",[[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.del(e.id)}}},[t._v("删除")])]],2)])}),0)])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"分发量表",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"发送日期","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"210px"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions1},model:{value:t.form1.start_time,callback:function(e){t.$set(t.form1,"start_time",e)},expression:"form1.start_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"截止日期","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"210px"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions2},model:{value:t.form1.expire_time,callback:function(e){t.$set(t.form1,"expire_time",e)},expression:"form1.expire_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"选择对象","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"210px"},attrs:{placeholder:"请选择"},model:{value:t.selectid,callback:function(e){t.selectid=e},expression:"selectid"}},t._l(t.selsets,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})}),1)],1),t._v(" "),1==t.selectid?a("el-form-item",{attrs:{label:"选择组别","label-width":t.formLabelWidth}},[a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck"})],1)]):t._e(),t._v(" "),2==t.selectid?a("el-form-item",{attrs:{label:"选择个人","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",placeholder:"请输入学号,多人请用“,”隔开",onkeyup:"this.value=this.value.replace(/[^\\d\\,]/g,'')"},model:{value:t.target,callback:function(e){t.target=e},expression:"target"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"选择量表","label-width":t.formLabelWidth}},[a("el-select",{attrs:{filterable:"",remote:"",multiple:"","reserve-keyword":"",placeholder:"请输入关键词搜索","remote-method":t.remoteMethod,loading:t.loading,"value-key":""},model:{value:t.form1.scale_id,callback:function(e){t.$set(t.form1,"scale_id",e)},expression:"form1.scale_id"}},t._l(t.roles,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)]):t._e()])],1)},staticRenderFns:[]};var dn=a("VU/8")(rn,cn,!1,function(t){a("Clwp")},"data-v-6ebe8be8",null).exports,un={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["录入测试量表","用户测试数据"],tableData:[{1:"1",2:"2017081",3:"翟宇轩",4:"男",5:"心理健康诊断测验",6:"1分22秒",7:"2017/3/34",8:"自测",9:"有效"},{1:"2",2:"10002",3:"孟凡",4:"男",5:"心理健康诊断测验",6:"1分22秒",7:"2017/3/33",8:"自测",9:"有效"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},mounted:function(){},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){0==t&&this.$router.push({path:"/liangbiao"})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a}},mn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[a("table",[a("tr",[a("td",[t._v("量表：")]),t._v(" "),a("td",[a("el-select",{attrs:{name:"",id:"type"},model:{value:t.formLabelWidth,callback:function(e){t.formLabelWidth=e},expression:"formLabelWidth"}},[a("el-option",{attrs:{value:""}},[t._v("认识自我")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("心理健康")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("自由量表")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("人际关系")])],1)],1),t._v(" "),a("td",[t._v("类型：")]),t._v(" "),a("td",[a("el-select",{attrs:{name:"",id:"type"},model:{value:t.formLabelWidth,callback:function(e){t.formLabelWidth=e},expression:"formLabelWidth"}},[a("el-option",{attrs:{value:""}},[t._v("认识自我")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("心理健康")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("自由量表")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("人际关系")])],1)],1),t._v(" "),a("td",[t._v("关键字：")]),t._v(" "),a("td",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入学号，名字，性别"},model:{value:t.formLabelWidth,callback:function(e){t.formLabelWidth=e},expression:"formLabelWidth"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.formLabelWidth,callback:function(e){t.formLabelWidth=e},expression:"formLabelWidth"}},[a("el-option",{attrs:{label:"正常",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"异常",value:"2"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)])])])])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("table",[t._m(0),t._v(" "),a("tr",[a("td",[t._m(1),t._v(" "),t._m(2),t._v(" "),a("el-checkbox-group",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},[a("el-checkbox",{attrs:{label:"美食/餐厅线上活动",name:"type1"}}),t._v(" "),a("el-checkbox",{attrs:{label:"地推活动",name:"type2"}}),t._v(" "),a("el-checkbox",{attrs:{label:"线下主题活动",name:"type3"}}),t._v(" "),a("el-checkbox",{attrs:{label:"单纯品牌曝光",name:"type4"}})],1)],1)]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),a("tr",[a("td",[a("el-radio-group",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},[a("el-radio",{attrs:{label:"选项一"}}),t._v(" "),a("el-radio",{attrs:{label:"选项二"}})],1)],1)])]),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)])]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("提交所有答案")]),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("1，选题内容")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"boxcheck"},[e("input",{attrs:{type:"checkbox",name:"",id:"",value:""}}),this._v(" "),e("span",[this._v("选项一")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"boxcheck"},[e("input",{attrs:{type:"checkbox",name:"",id:"",value:""}}),this._v(" "),e("span",[this._v("选项二")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("2，选题内容")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("div",{staticClass:"boxcheck"},[e("input",{attrs:{type:"checkbox",name:"",id:"",value:""}}),this._v(" "),e("span",[this._v("选项一")])]),this._v(" "),e("div",{staticClass:"boxcheck"},[e("input",{attrs:{type:"checkbox",name:"",id:"",value:""}}),this._v(" "),e("span",[this._v("选项二")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("3，选题内容")])])}]};var pn=a("VU/8")(un,mn,!1,function(t){a("hoyp")},"data-v-1a2d43cf",null).exports,hn={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,fileList:[],form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["导入测试数据","批量导入学生测试数据"],tableData:[{1:"1",2:"2017081",3:"翟宇轩",4:"男",5:"心理健康诊断测验",6:"1分22秒",7:"2017/3/34",8:"自测",9:"有效"},{1:"2",2:"10002",3:"孟凡",4:"男",5:"心理健康诊断测验",6:"1分22秒",7:"2017/3/33",8:"自测",9:"有效"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},mounted:function(){},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){0==t&&this.$router.push({path:"/liangbiao"})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){},beforeUpload:function(){},upload:function(){}},components:{headson:H.a}},fn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("div",[a("table",[a("tr",[a("td",[t._v("选择：")]),a("td",[a("el-select",{attrs:{name:"",id:"type"},model:{value:t.formLabelWidth,callback:function(e){t.formLabelWidth=e},expression:"formLabelWidth"}},[a("el-option",{attrs:{value:""}},[t._v("认识自我")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("心理健康")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("自由量表")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("人际关系")])],1)],1)]),t._v(" "),a("tr",[a("td",[t._v("上传：")]),a("td",[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","before-upload":t.beforeUpload,"on-success":t.upload,multiple:"","file-list":t.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("ul",[e("li")])])}]};var gn=a("VU/8")(hn,fn,!1,function(t){a("19oY")},"data-v-ba12e8e4",null).exports,vn=a("Xh+0"),_n=a.n(vn),bn={name:"Navbar",data:function(){return{userId:1,navbardata:[],rightdata:{},leftdata:[],title:"",icon:"",domIindex:0,keys:[],rightflag:!0,routename:""}},components:{SidebarItem:z},watch:{$route:function(){this.handleOpen(this.routename)}},mounted:function(){this.navbardata1()},methods:{hanselect:function(t){},handleOpen:function(t){this.routename=t,console.log(t,this.$route.path)},handleClose:function(t,e){console.log(t,e)},sortnumber:function(t,e){return t-e},navbardata1:function(){var t,e=this,a=_n.a,i=[];for(var n in a)i.push(a[n].sort);i.sort(e.sortnumber),i.map(function(t){for(var i in a)t==a[i].sort&&e.navbardata.push(a[i])}),e.navbardata.map(function(a,i){console.log(e.$route.path.indexOf(a.menu_route)),-1!==e.$route.path.indexOf(a.menu_route)&&(console.log(a.menu_route,i),t=i)}),console.log(e.navbardata,t)},showright:function(t){var e=this.navbardata[this.keys[t]];console.log(e),this.title=e.menu_name,this.icon=e.icon,this.rightdata=e.items,console.log(this.rightdata),this.domIindex=t,0==e.items.length?(console.log(e.menu_route),this.rout(e.menu_route),this.$refs.nav.style.width="122px",this.rightflag=!1):(this.$refs.nav.style.width="332px",this.rightflag=!0)},rout:function(t){console.log(t),this.$router.push("/"+t)},creatdata:function(t,e){var a={};for(var i in t)a[t[i].pid]||(a[t[i].pid]=[]),a[t[i].pid].push(t[i])},findroute:function(t,e){for(var a in t){if(t[a].id==e)return t[a].pid?(e=t[a].pid,this.findroute(t,e)):t[a].id}}}},xn={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"nav",staticClass:"nav"},[e("ul",{directives:[{name:"show",rawName:"v-show",value:this.rightflag,expression:"rightflag"}],staticClass:"right"},[e("li",[e("ul",[e("el-row",{staticClass:"tac"},[e("el-col",{attrs:{span:12}},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"text-color":"#fff","active-text-color":"#00CBA3",router:!0},on:{select:this.handleOpen,close:this.handleClose}},this._l(this.navbardata,function(t,a){return e("sidebar-item",{key:a,attrs:{item:t}})}),1)],1)],1)],1)])])])},staticRenderFns:[]};var yn={name:"layout",components:{top:C,Navbar:a("VU/8")(bn,xn,!1,function(t){a("nelq")},"data-v-55a8ca39",null).exports}},wn={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-wrapper"},[e("div",{staticClass:"head"},[e("top")],1),this._v(" "),e("div",{staticClass:"main-container"},[e("Navbar"),this._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view",[this._v("1")])],1)],1)])},staticRenderFns:[]};var kn=a("VU/8")(yn,wn,!1,function(t){a("JmTv")},"data-v-1e923c3c",null).exports,Cn={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n学生首页\n  ")])},staticRenderFns:[]};var $n=a("VU/8")({},Cn,!1,function(t){a("sYId")},"data-v-7c8217ef",null).exports,Sn=(a("162o"),{data:function(){return{index1:"",data:[],ids:""}},watch:{data:function(){this.$emit("changedata",this.data,this.ids)}},mounted:function(){this.getlist(this.id),this.index1=this.index;var t=this;setTimeout(function(){console.log(t.index,t.$refs.soli,document.getElementsByClassName("soli")),t.$refs.soli.map(function(e,a){a==t.index&&(console.log(e),e.style.cssText='position: relative;bottom: 0px;background-color: #00CBA3;transition: all 1s ease; color: #fff;border-bottom: "";')})},2e3)},methods:{getlist:function(t){var e=this;e.ids=t,this.axios.post("/api/v1/user/article/list?id="+t).then(function(t){console.log(t),0==t.data.code&&(e.data=t.data.data)})},mouse:function(t){t.target.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: #00CBA3;border-bottom: "";'},cli:function(t,e,a){this.$refs.soli.map(function(t){t.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";'}),this.$refs.soli1.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',this.$refs.soli2.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',t.target.style.cssText="position: relative;bottom: 20px; background-color: #00CBA3;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff","click"==t.type&&(this.getlist(a),t.target.style.cssText="position: relative;bottom: 0px; background-color: #00CBA3;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff",this.$router.push({path:"/studentindex/gpartical",query:{id:a,index:e}}))},move:function(t,e,a){this.$refs.soli.map(function(t){t.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";'}),this.$refs.soli1.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',this.$refs.soli2.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',t.target.style.cssText="position: relative;bottom: 0px; background-color: #00CBA3;transition: all 1s ease; color: '#fff';border-bottom: 1px solied #fff"},first:function(t){"click"==t.type&&this.$router.push({path:"/login"}),this.$refs.soli.map(function(t){t.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";'}),this.$refs.soli1.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',this.$refs.soli2.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',t.target.style.cssText="position: relative;bottom: 20px; background-color: #00CBA3;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"},handleCommand:function(t){this.getlist(t),this.$router.push({path:"/studentindex/gpartical",query:{id:t}})}},props:["index","id"]}),zn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"top1"},[t.$store.state.token?i("div",{staticClass:"title"},[t.$store.state.logo?i("img",{attrs:{src:t.$store.state.logo,alt:""}}):i("img",{attrs:{src:a("NKBi"),alt:""}})]):t._e(),t._v(" "),i("ul",[i("li",{ref:"soli1",staticClass:"soli1",on:{click:function(e){return e.stopPropagation(),t.first(e)},mouseover:function(e){return e.stopPropagation(),t.first(e)},mouseout:t.mouse}},[t._v("首页")]),t._v(" "),t._l(t.$store.state.columns,function(e,a){return a<5?i("li",{key:a,ref:"soli",refInFor:!0,staticClass:"soli",on:{click:function(i){if(i.target!==i.currentTarget)return null;t.cli(i,a,e.id)},mouseover:function(e){if(e.target!==e.currentTarget)return null;t.cli(e)},mouseout:t.mouse}},[t._v(t._s(e.name))]):t._e()}),t._v(" "),i("li",{ref:"soli2",on:{click:function(e){return e.target!==e.currentTarget?null:t.first(e)},mouseover:function(e){return e.target!==e.currentTarget?null:t.first(e)},mouseout:t.mouse}},[i("span",[t._v("更多")]),t._v(" "),i("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.$store.state.columns,function(e,a){return a>=5?i("el-dropdown-item",{key:a,attrs:{icon:"el-icon-plus",command:e.id}},[t._v(t._s(e.name))]):t._e()}),1)],1)],1)],2)])},staticRenderFns:[]};var Fn=a("VU/8")(Sn,zn,!1,function(t){a("Y2Yh")},"data-v-469441f4",null).exports,An={data:function(){return{commentsflag:!0,flag:!0,articalId:"",id:this.$route.query.id,index:this.$route.query.index,column:"",tableData:[],name:"",theme:"",time:"",visit:"",content:" ",pinglun:"",offset:0,getcomment:[]}},methods:{changedata:function(t,e){console.log(t),this.flag=!0,this.id=e,console.log(e),this.tableData=t},handleOpen:function(t,e){var a=this;a.articalId=t,console.log(t),a.axios.post("/api/v1/user/article/visit?id="+t).then(function(t){var e=t.data.data;a.theme=e.theme,a.content=e.content,a.name=e.name,a.time=e.create_time,a.visit=e.visit_count}),a.getcomment=[],a.getcomments(a.articalId,a.offset)},handleClose:function(t,e){console.log(t,e)},gocommon:function(t,e){var a;(a=this).getcomment=[],this.flag=!1,(a=this).articalId=t,this.$store.state.columns.map(function(t){a.id==t.id&&(a.column=t.name,console.log(a.name))}),console.log(a.name),a.axios.post("/api/v1/user/article/visit?id="+t).then(function(t){var e=t.data.data;a.theme=e.theme,a.content=e.content,a.name=e.name,a.time=e.create_time,a.visit=e.visit_count}),a.offset=0;a.getcomments(a.articalId,a.offset,!1)},loginpath:function(){this.$router.push({path:"/login"})},cangyan:function(){var t=this;this.$store.state.token?t.axios.post("/api/v1/user/article/comment",{art_id:t.articalId,content:t.pinglun}).then(function(e){0==e.data.code&&(t.$message("评论成功"),t.commentsflag=!0,t.offset=0,t.getcomments(t.articalId,t.offset,!1))}):this.$message("请去登录后再评论")},getcomments:function(t,e,a){var i=this;i.axios.post("/api/v1/user/article/comment/list",{id:t,offset:e}).then(function(t){if(console.log(t),0==t.data.code){var e=t.data.data;i.getcomment=i.getcomment.concat(e),0==e.length&&(a?i.$message("没有更多评论"):i.commentsflag=!1)}console.log(i.getcomment)})},loadmore:function(){this.getcomment.length>0&&(this.offset=this.getcomment[this.getcomment.length-1].id,this.getcomments(this.offset,this.articalId,!0))}},components:{headtop:Fn}},Dn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mains"},[a("div",{staticClass:"head"},[a("headtop",{ref:"headtop",attrs:{index:t.index,id:t.id},on:{changedata:t.changedata}})],1),t._v(" "),t.flag?[a("div",{staticClass:"container atticalcon"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"",width:"700"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"},style:{color:"#8CB6C0",cursor:"pointer"},on:{click:function(a){t.gocommon(e.row.id,t.index)}}},[t._v(t._s(e.row.theme))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.create_time))])]}}])})],1)],1)]:[a("div",{staticClass:"bac"},[a("div",{staticClass:"container1"},[a("div",{staticClass:"left"},[a("el-row",{staticClass:"tac"},[a("el-col",{attrs:{span:12}},[a("h5",[t._v(t._s(t.column))]),t._v(" "),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2"},on:{select:t.handleOpen,close:t.handleClose}},t._l(t.tableData,function(e,i){return a("el-menu-item",{key:i,attrs:{index:""+e.id}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.theme))])])}),1)],1)],1)],1),t._v(" "),a("div",{staticClass:"right",staticStyle:{"text-algin":"center"},attrs:{"v-html":t.content}},[a("div",{staticClass:"title"},[a("h1",{staticClass:"am-article-title am-text-center"},[t._v(t._s(t.theme))]),t._v(" "),a("p",[t._v("\n                作者：\n                "),a("span",[t._v(t._s(t.name))]),t._v("   时间：\n                "),a("span",[t._v(t._s(t.time))]),t._v("   浏览次数：\n                "),a("span",[t._v(t._s(t.visit))])])]),t._v(" "),a("p",{staticClass:"pcon",domProps:{innerHTML:t._s(t.content)}}),t._v(" "),a("div",{staticClass:"pinglun"},[a("span",{staticClass:"logins el-icon-star-on",on:{click:t.loginpath}},[t._v("登录")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.pinglun,expression:"pinglun"}],attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.pinglun},on:{input:function(e){e.target.composing||(t.pinglun=e.target.value)}}},[t._v("          233\n        ")]),t._v(" "),a("div",{staticClass:"sub"},[a("input",{attrs:{type:"button",value:"畅言一下"},on:{click:t.cangyan}})]),t._v(" "),a("div",{staticClass:"liuyans"},[t._l(t.getcomment,function(e,i){return a("div",{key:i,staticClass:"tab"},[a("div",{staticClass:"lef"}),t._v(" "),a("div",{staticClass:"rig"},[a("div",{staticClass:"titl"},[t._v("\n                      姓名：\n                      "),a("span",[t._v(t._s(e.name))]),t._v(" 评论时间：\n                      "),a("span",[t._v(t._s(e.create_time))])]),t._v(" "),a("div",{staticClass:"content"},[t._v(t._s(e.content))])])])}),t._v(" "),t.commentsflag?a("div",{staticClass:"loadmore",on:{click:t.loadmore}},[t._v("加载更多")]):t._e()],2)])])])])]],2)},staticRenderFns:[]};var Vn=a("VU/8")(An,Dn,!1,function(t){a("Y/4O")},"data-v-2bffe6e7",null).exports,En={data:function(){return{commentsflag:!0,lbId:"",page:{currentpage:1,countpage:10,pagesize:"10",flag:!1},column:"",tableData:[],name:"",theme:"",time:"",visit:"",content:" ",pinglun:"",offset:0,getcomment:[],dialogFormVisible:!1,multipleSelection:[]}},created:function(){this.getlist(this.page.currentpage-0,this.page.pagesize-0)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/scale/getScaleList",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.count,a.tableData=t.data.data.list)})},show:function(t){this.dialogFormVisible=!0,this.lbId=t.id,this.name=t.view_name+t.short_name},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},useqrcode:function(){var t=document.getElementById("canvas");console.log(this.lbId),this.name||(this.name="无"),wa.a.toCanvas(t,"http://"+window.location.host+"/public/#/studentindex/questionLogin?id="+this.lbId+"&name="+this.name,function(t){t&&console.error(t),console.log("QRCode success!")})}},components:{headtop:Fn}},Ln={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mains"},[a("div",{staticClass:"head"}),t._v(" "),[a("div",{staticClass:"container atticalcon"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,height:"800px","cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"view_name",label:"友好名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"short_name",label:"英文简称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"topic_count",label:"题数"}}),t._v(" "),a("el-table-column",{attrs:{label:"适用年龄"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.min_age+" — "+e.row.max_age))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.show(e.row)}}},[a("span",{staticClass:"iconfont icon-qrcode"})])]}}])})],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"量表二维码",visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e},opened:t.useqrcode}},[a("canvas",{ref:"canvas",staticStyle:{"margin-left":"150px"},attrs:{id:"canvas"}})])]],2)},staticRenderFns:[]};var Tn=a("VU/8")(En,Ln,!1,function(t){a("w98O")},"data-v-1e18b07c",null).exports,jn={data:function(){var t;return t={name:this.$route.query.name,id:this.$route.query.id,flag:!0,value:"",changeflag:!0},v()(t,"name",""),v()(t,"dialogVisible",!1),v()(t,"username",""),v()(t,"password",""),v()(t,"yzm",""),v()(t,"key",""),v()(t,"imgurl",""),t},created:function(){this.value=sessionStorage.getItem("phone")},methods:{getyzm:function(){var t=this;this.axios.get("/api/v1/verify?v="+Math.random(10)).then(function(e){console.log(e),200==e.status&&(t.key=e.data.data.key,t.imgurl=e.data.data.imgSrc,console.log(t.imgurl))}).catch(function(t){console.log(t)})},checkstr:function(t){},handleClose:function(){},gos:function(){this.$router.push({path:"/studentindex/caleindex",query:{id:this.id,name:this.name}})},sturegister:function(){this.$router.push({path:"/register",query:{id:this.id,name:this.name}})},nosavephone:function(){this.dialogVisible=!1,this.$router.push({path:"/studentindex/caleindex",query:{id:this.id,name:this.name}})},savephone:function(){this.$router.push({path:"/studentindex/caleindex",query:{id:this.id,name:this.name}})},gotest:function(){var t,e=this;t=q()(this.password),console.log(this.value,this.password);var a=this;this.axios.post("/api/v1/admin/login",{account:this.value,pwd:t}).then(function(t){if(console.log(t),0==t.data.code){var i=t.data.data.token,n=t.data.data.role,s=t.data.data.setting;y.a.set("userToken",i,86400),a.$store.commit("setToken",{token:i,role:n,logo:s}),a.$router.push({path:"/studentindex/caleindex",query:{id:e.id,name:e.name}})}else a.$message(t.data.message)})},forgetpass:function(){this.$message("请联系学校管理员修改密码重置")},goindex:function(t){sessionStorage.setItem("phone",this.value),console.log(this.value.substr(this.value.length-6));var e=/^1\d{10}$/,a=this.value;console.log(this.value,e.test(a)),this.flag=e.test(a),this.flag?l()('input[name="btn"]').css("backgroundColor","blue"):(alert("手机号码格式错误,重新输入"),this.flag=!1);var i=this;this.flag&&(l()('input[name="btn"]').css("backgroundColor","blue"),console.log("可以发送请求看手机号是否存在，存在显示输入密码界面。不存在就接口自动注册成功进入测试界面"),this.axios.post("/api/v1/user/simpleRegister",{phone:this.value}).then(function(t){if(0==t.data.code){i.changeflag=!1;var e=sessionStorage.getItem("phone");i.password=e.substr(e.length-6)}else{i.changeflag=!1;e=sessionStorage.getItem("phone");i.password=e.substr(e.length-6)}console.log(t)})),l()(function(){l()('input[name="phone"]').blur(function(){})})}}},In={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t._m(0),t._v(" "),i("div",{staticClass:"login"},[i("div",{staticStyle:{color:"rgb(91, 91, 241)"}},[t._v("心理管理系统 心理测评")]),t._v(" "),i("img",{attrs:{src:a("XZF3"),alt:""}}),t._v(" "),t.changeflag?[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"number",placeholder:"输入手机号",name:"phone"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),t._v(" "),i("input",{attrs:{type:"button",value:"快捷登录",name:"btn"},on:{click:function(e){t.goindex(e)}}}),t._v(" "),i("div",{staticStyle:{"margin-top":"80px"}},[i("el-button",{attrs:{type:"primary",round:""},on:{click:t.sturegister}},[t._v("本校学生注册")]),t._v(" "),i("el-button",{attrs:{type:"success",round:""},on:{click:t.gos}},[t._v("跳过直接测试")])],1)])]:[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"输入密码[默认手机号后6位]",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),i("div",{staticStyle:{"margin-top":"80px"}},[i("el-button",{attrs:{type:"primary",round:""},on:{click:t.gotest}},[t._v("登录测试")]),t._v(" "),i("el-button",{attrs:{type:"success",round:""},on:{click:t.forgetpass}},[t._v("忘记密码")])],1)])],t._v(" "),i("el-dialog",{attrs:{title:"您还没有留下联系方式，请在下方仔细填写，如需修改请联系管理员",visible:t.dialogVisible,width:"98%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.nosavephone}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.savephone}},[t._v("确 定")])],1)],1)],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:a("+Z75"),alt:""}})])}]};var Rn=a("VU/8")(jn,In,!1,function(t){a("loPB")},"data-v-ef916c42",null).exports,Pn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),t._v(" "),a("main",[a("div",{staticClass:"top"},[a("div",{staticClass:"top1"},[t._v(t._s(t.name))]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"ms"}),t._v(" "),a("input",{attrs:{type:"button",value:"开始测试"},on:{click:t.go}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("span"),this._v("  心理测评管理系统 "),e("span")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tu"},[e("img",{attrs:{src:a("dK8Y"),alt:""}})])}]};var Nn=a("VU/8")({data:function(){return{name:this.$route.query.name,id:this.$route.query.id}},created:function(){},methods:{go:function(){this.$router.push({path:"/studentindex/calequestion",query:{scaleid:this.id,name:this.name}})}}},Pn,!1,function(t){a("Go9S")},"data-v-080f38d7",null).exports,Wn={data:function(){return{selected:[],data:[{id:1,name:1},{id:2,name:2}],ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},name:this.$route.query.name,topic:[],num:1,qusetion:"",option:"",timu:"",prersent:0,flag:!0,starttime:"",disabled:!0}},created:function(){this.getdata()},mounted:function(){},methods:{getdata:function(){var t=this;this.axios.get("/api/v1/scale/startSelfTest?id="+this.$route.query.scaleid).then(function(e){0==e.data.code?(t.starttime=e.data.data.start_test_time,t.topic=e.data.data.topic,t.show(t.num)):(t.flag=!1,t.$alert("<strong>"+e.data.msg+"</strong>","提示",{dangerouslyUseHTMLString:!0}).then(function(){t.$router.go(-1)}))})},show:function(t){var e=t,a=t/this.topic.length;this.prersent=(100*a).toFixed(2)-0,this.timu=this.topic[e-1],2==this.timu.type&&this.timu.selected&&(this.selected=this.timu.selected),this.timu.selected?this.disabled=!1:this.disabled=!0,this.qusetion=this.timu.topic.content,this.option=this.timu.topic.option},pre:function(){this.selected=[],this.num>1?(this.num--,this.show(this.num)):alert("已是第一题")},next:function(){this.num<this.topic.length?(this.num++,this.selected=[],this.show(this.num)):(alert("最后一题可以提交"),this.num,this.topic.length)},chooseAnswer:function(){var t=this;if(t.disabled=!1,1==t.timu.type){var e=[];e.push(t.timu.select),t.topic[t.num-1].selected=e}else t.topic[t.num-1].selected=t.selected;setTimeout(function(){t.next()},500),console.log(t.topic[t.num-1],t.selected)},submit:function(){if(!y.a.get("userToken"))return this.$message("请前去登录再提交答案查看结果"),void this.$router.push({path:"/studentindex/questionLogin",query:{id:this.$route.query.scaleid,name:this.name}});var t=this,e=[],a=[];if(this.topic.map(function(t,i){t.selected&&t.selected.length>0?(console.log(t.selected),e.push(t.selected)):(e.push(null),a.push(i+1))}),a.length>0){var i="无答题：";return a.map(function(t,e){i=i+t+","}),void alert("有漏题，请答完题目在提交。"+i)}e.map(function(t,a){Array.isArray(t)&&1==t.length&&(e[a]=t[0])}),this.axios.post("/api/v1/scale/submitAnswer",{scale_id:t.$route.query.scaleid,start_test_time:t.starttime,answer:e}).then(function(e){0==e.data.code?(localStorage.setItem("scaleresult",c()(e.data.data)),t.$alert("<strong>提交成功查看结果吗</strong>","提示",{dangerouslyUseHTMLString:!0}).then(function(){t.$router.push({path:"/studentindex/caleresult",query:{starttime:t.starttime,name:t.name}})})):t.$message(e.data.msg)})},golin:function(){this.$router.go(-1)}}},Un={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("header",[a("span",{staticClass:"iconfont icon-angle-left",on:{click:t.golin}}),t._v("\n    "+t._s(t.name)+"\n    "),a("span")]),t._v(" "),t.flag?a("main",[a("div",{staticClass:"top"},[a("div",{staticClass:"top1"},[t._v("量表名称")]),t._v(" "),a("div",{staticClass:"content"},[a("el-progress",{attrs:{percentage:t.prersent}}),t._v(" "),a("div",{staticClass:"th"},[a("i",[t._v(t._s(t.num))]),t._v("/\n          "),a("em",[t._v(t._s(t.topic.length))])]),t._v(" "),a("div",{staticClass:"qus"},[a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.num))]),t._v(",\n            "),a("i",[t._v(t._s(t.qusetion))]),t._v(" "),1==t.timu.type?a("span",[t._v("(这是单选)")]):a("span",[t._v("(这是多选)")])]),t._v(" "),a("div",{staticClass:"a1"},[1==t.timu.type?[a("el-radio-group",{model:{value:t.timu.select,callback:function(e){t.$set(t.timu,"select",e)},expression:"timu.select"}},t._l(t.option,function(e,i){return a("el-radio",{key:i,attrs:{label:i+1},on:{change:function(e){t.chooseAnswer()}}},[t._v(t._s(e[0]))])}),1)]:[a("div",[a("el-checkbox-group",{on:{change:function(e){t.chooseAnswer()}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.option,function(e,i){return a("el-checkbox",{key:i,attrs:{label:i+1}},[t._v(t._s(e[0]))])}),1)],1)]],2)])],1),t._v(" "),a("div",{staticClass:"jh"},[a("input",{staticClass:"left",class:{active:t.num>1},attrs:{type:"button",value:"上一题"},on:{click:t.pre}}),t._v(" "),t.num<t.topic.length?a("input",{staticClass:"right active show",attrs:{disabled:t.disabled,type:"button",value:"下一题"},on:{click:t.next}}):a("input",{staticClass:"get active",attrs:{type:"button",value:"提交"},on:{click:t.submit}})])])]):t._e()])},staticRenderFns:[]};var Bn=a("VU/8")(Wn,Un,!1,function(t){a("eb/j")},"data-v-2a978f68",null).exports,On={data:function(){return{scalename:this.$route.query.name,starttime:this.$route.query.starttime,detail:"",factors:"",answers:"",facname:[],score:[]}},created:function(){var t=JSON.parse(localStorage.getItem("scaleresult"));this.detail=t,this.factors=t.result,this.answers=t.answer,console.log(this.factors,this.answers);for(var e in this.factors)this.factors[e].calc.length>0&&(this.facname.push(this.factors[e].desc.factor.name),this.score.push(this.factors[e].score));console.log(t)},methods:{get:function(){}}},Mn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),t._v(" "),a("main",[a("div",{staticClass:"top"},[t._v(t._s(t.scalename))]),t._v(" "),a("div",{staticClass:"time"},[t._v("\n      测评时间：\n      "),a("span",[t._v(t._s(t.starttime))])]),t._v(" "),a("div",{staticClass:"a3"},[a("div",{staticClass:"a2"},[t._v("测试结果")]),t._v(" "),a("fieldset",{staticStyle:{"line-height":"200%"}},[a("legend",[t._v("结果解释")]),t._v(" "),t._l(t.factors,function(e,i,n){return a("div",{key:n,staticClass:"yz"},[e.desc?a("span",[t._v("【"+t._s(e.desc.factor.name)+"】"+t._s(e.desc.calc.explain)+"。")]):t._e()])})],2)]),t._v(" "),a("div",{staticClass:"buttom"})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("span"),this._v(" 测评管理系统\n    "),e("span")])}]};var qn=a("VU/8")(On,Mn,!1,function(t){a("KIX+")},"data-v-2f5489c5",null).exports,Hn={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["心理普测","查看待测量表"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/scale/getScaleTestList",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.count,a.tableData=t.data.data.list,0==a.page.countpage&&a.$message("没有待测量表")),console.log(t)})},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/data/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.scaleid=e.sbi_id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.$router.push({path:"/test",query:{id:e.id,name:e.view_name,scaleid:e.sbi_id}})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,i=[];e?i.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){i.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:i}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:H.a,pagination:Y.a}},Yn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"view_name",label:"量表名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"topic_count",label:"题目数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"start_time",label:"开始时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"expire_time",label:"截止时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"完成"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.end_test_time?a("span",{staticStyle:{color:"green"}},[t._v("已完成")]):a("span",{staticStyle:{color:"red"}},[t._v("未完成")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("测试")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)])],1)},staticRenderFns:[]};var Gn=a("VU/8")(Hn,Yn,!1,function(t){a("ke8S")},"data-v-a3e0a440",null).exports,Zn={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["我的自测","根据自己兴趣测试一下量表"],tableData:[],tableData3:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/scale/getScaleList",{page:t,size:e}).then(function(t){if(0==t.data.code){var e=t.data.data.list;a.page.countpage=t.data.data.count,a.tableData=e}0==a.tableData.length&&this.$message("没有待测量表"),console.log(t)})},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;t.id,t.name;console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.$router.push({path:"/test",query:{scaleid:e.id,name:e.view_name}})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0}},components:{headson:H.a,pagination:Y.a}},Xn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"view_name",label:"友好名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"short_name",label:"英文简称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type_name",label:"量表类别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"topic_count",label:"题数"}}),t._v(" "),a("el-table-column",{attrs:{label:"适用年龄"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.min_age+" — "+e.row.max_age))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("测试")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)])],1)},staticRenderFns:[]};var Jn=a("VU/8")(Zn,Xn,!1,function(t){a("+Ggk")},"data-v-4692d841",null).exports,Qn={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["测试记录","根据自己兴趣测试一下量表"],tableData:[],tableData3:[{a:"1",b:"2015-12-3",c:"ucla孤独量表",d:"普测....",e:"无效...."},{a:"1",b:"2015-12-3",c:"ucla孤独量表",d:"普测....",e:"处理中...."},{a:"1",b:"2015-12-3",c:"ucla孤独量表",d:"普测....",e:"查看结果...."}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/scale/getScaleTestResult",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list,a.tableData.map(function(t,e){if(t.birth_date){var a=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,i=Math.floor(a/8640);console.log(i),t.age=i}else t.age="null";var n=new Date(t.end_test_time).valueOf()-new Date(t.start_test_time).valueOf(),s=wt.a.duration(n),o=(a=wt.a.duration(s).hours(),wt.a.duration(s).minutes()),l=wt.a.duration(s).seconds();t.times=a+":"+o+":"+l,t.sex-0==0?t.sex="女":t.sex="男",t.valid-0==1?t.valid="有效":t.valid="无效",t.type-0==2?t.type="自测":t.type="普查"})),0==a.tableData.length&&this.$message("没有待测量表"),console.log(t)})},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;t.id,t.name;console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,console.log(e),1===e.is_visible?this.$router.push({path:"/Evaluation/resultdetail",query:{id:e.id}}):alert("当前量表结果不可见")},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,i=[];e?i.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){i.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:i}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:H.a,pagination:Y.a}},Kn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"scale_name",label:"量表名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stu_name",label:"学生"}}),t._v(" "),a("el-table-column",{attrs:{prop:"start_test_time",label:"测试时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"valid",label:"有效"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("查看")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"沙盘添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"沙盘编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var ts=a("VU/8")(Qn,Kn,!1,function(t){a("Ujg2")},"data-v-2e17a491",null).exports,es={data:function(){return{selected:[],data:[{id:1,name:1},{id:2,name:2}],ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},name:this.$route.query.name,topic:[],num:1,qusetion:"",option:"",timu:"",prersent:0,flag:!0,starttime:"",disabled:!0}},created:function(){this.getdata()},mounted:function(){},methods:{getdata:function(){var t=this;this.axios.get("/api/v1/scale/startSelfTest?id="+this.$route.query.scaleid).then(function(e){0==e.data.code?(t.starttime=e.data.data.start_test_time,t.topic=e.data.data.topic,t.show(t.num)):(t.flag=!1,t.$alert("<strong>"+e.data.msg+"</strong>","提示",{dangerouslyUseHTMLString:!0}).then(function(){t.$router.go(-1)}))})},show:function(t){var e=t,a=t/this.topic.length;this.prersent=(100*a).toFixed(2)-0,this.timu=this.topic[e-1],2==this.timu.type&&this.timu.selected&&(this.selected=this.timu.selected),this.timu.selected?this.disabled=!1:this.disabled=!0,this.qusetion=this.timu.topic.content,this.option=this.timu.topic.option},pre:function(){this.selected=[],this.num>1?(this.num--,this.show(this.num)):alert("已是第一题")},next:function(){this.num<this.topic.length?(this.selected=[],this.num++,this.show(this.num)):(this.$message("最后一题可以提交"),this.num,this.topic.length)},chooseAnswer:function(){var t=this;if(t.disabled=!1,1==t.timu.type){var e=[];e.push(t.timu.select),t.topic[t.num-1].selected=e}else t.topic[t.num-1].selected=t.selected;setTimeout(function(){t.next()},500),console.log(t.topic[t.num-1],t.selected)},submit:function(){var t=this,e=[],a=[];if(this.topic.map(function(t,i){t.selected&&t.selected.length>0?(console.log(t.selected),e.push(t.selected)):(e.push(null),a.push(i+1))}),a.length>0){var i="无答题：";return a.map(function(t,e){i=i+t+","}),void alert("有漏题，请答完题目在提交。"+i)}e.map(function(t,a){Array.isArray(t)&&1==t.length&&(e[a]=t[0])}),console.log(e);var n={scale_id:t.$route.query.scaleid,start_test_time:t.starttime,answer:e};t.$route.query.id&&(n.answer_id=t.$route.query.id),this.axios.post("/api/v1/scale/submitAnswer",n).then(function(e){0==e.data.code?t.$alert("<strong>提交成功</strong>","提示",{dangerouslyUseHTMLString:!0}).then(function(){t.$router.go(-1)}):t.$message(e.data.msg)})},golin:function(){this.$router.go(-1)}}},as={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("header",[a("span",{staticClass:"iconfont icon-angle-left",on:{click:t.golin}}),t._v("\n    "+t._s(t.name)+"\n    "),a("span")]),t._v(" "),t.flag?a("main",[a("div",{staticClass:"top"},[a("div",{staticClass:"top1"},[t._v("量表名称")]),t._v(" "),a("div",{staticClass:"content"},[a("el-progress",{attrs:{percentage:t.prersent}}),t._v(" "),a("div",{staticClass:"th"},[a("i",[t._v(t._s(t.num))]),t._v("/\n          "),a("em",[t._v(t._s(t.topic.length))])]),t._v(" "),a("div",{staticClass:"qus"},[a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.num))]),t._v(",\n            "),a("i",[t._v(t._s(t.qusetion))]),t._v(" "),1==t.timu.type?a("span",[t._v("(这是单选)")]):a("span",[t._v("(这是多选)")])]),t._v(" "),a("div",{staticClass:"a1"},[1==t.timu.type?[a("el-radio-group",{model:{value:t.timu.select,callback:function(e){t.$set(t.timu,"select",e)},expression:"timu.select"}},t._l(t.option,function(e,i){return a("el-radio",{key:i,attrs:{label:i+1},on:{change:function(e){t.chooseAnswer()}}},[t._v(t._s(e[0]))])}),1)]:[a("div",[a("el-checkbox-group",{on:{change:function(e){t.chooseAnswer()}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.option,function(e,i){return a("el-checkbox",{key:i,attrs:{label:i+1}},[t._v(t._s(e[0]))])}),1)],1)]],2)])],1),t._v(" "),a("div",{staticClass:"jh"},[a("input",{staticClass:"left",class:{active:t.num>1},attrs:{type:"button",value:"上一题"},on:{click:t.pre}}),t._v(" "),t.num<t.topic.length?a("input",{staticClass:"right active show",attrs:{disabled:t.disabled,type:"button",value:"下一题"},on:{click:t.next}}):a("input",{staticClass:"get active",attrs:{type:"button",value:"提交"},on:{click:t.submit}})])])]):t._e()])},staticRenderFns:[]};var is=a("VU/8")(es,as,!1,function(t){a("ohG3")},"data-v-62380524",null).exports,ns={data:function(){return{case_data:{check_basic:"",check_sps:"",check_type:"",trace_basic:"",trace_sps:"",trace_type:""},user_ext:{nation:"",father_age:"",father_job:"",father_die_age:"",mother_age:"",mother_job:"",mother_die_age:"",parent_marriage_status:"",parent_divorced_age:"",foster_flag:"",foster_age:"",stu_type:"",only_child:"",economy:""},factors:"",answers:"",facname:[],score:[],user:{name:"",sex:"",job_num:"",phone:"",unit_group_name:"",address:""},checkid:"",check:[{id:0,name:"无需关注"},{id:1,name:"学业问题"},{id:2,name:"恋爱关系"},{id:3,name:"人际交往"},{id:4,name:"职业发展"},{id:5,name:"情绪问题"},{id:6,name:"躯体疾病"}],type:1,detail:"",option:""}},mounted:function(){this.getlist();var t=this.option;console.log(t)},beforeCreated:function(){},methods:{exportss:function(){l()(".content").html2docx("统计分析文档")},print:function(t){this.type=1==t?1:2==t?2:3,this.draw()},getlist:function(){var t=this;this.axios.get("/api/v1/admin/scale/getTestResultDetail",{params:{id:this.$route.query.id}}).then(function(e){if(0==e.data.code){t.detail=e.data.data,t.factors=e.data.data.result,t.answers=e.data.data.answer,console.log(e.data.data.result,t.factors,t.answers);for(var a in t.factors)t.factors[a].calc.length>0&&(t.facname.push(t.factors[a].desc.factor.name),t.score.push(t.factors[a].score));t.print(t.type),console.log(t.facname,t.score)}})},return1:function(){this.$router.go(-1)},draw:function(){var t,e=this.$refs.chart;this.myChart&&this.myChart.clear(),console.log(this.facname,this.score),this.myChart=this.$echarts.init(e);var a={tooltip:{trigger:"item",formatter:"{a} <br/>{b}{c} ({d}%)"},legend:{orient:"vertical",x:"left",data:this.facnanme},series:[{name:"得分：",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:this.score}]},i={xAxis:{type:"category",data:this.facname},yAxis:{type:"value"},tooltip:{},series:[{data:this.score,type:"line"}]},n={title:{text:"危机干预综合信息"},color:["#3398DB"],legend:{data:["销量"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"7%",containLabel:!0},xAxis:[{type:"category",data:this.facname,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"分数",type:"bar",barWidth:"100",data:this.score}]};t=1==this.type?a:2==this.type?i:n,l()(".chart").data("option",t),console.log(l()(".chart").data("option")),this.option=t,this.myChart.setOption(t),this.myChart.resize();this.myChart.on("click",function(t){console.log(t),"潜在风险评估"==t.name||"自杀倾向评估"==t.name||t.name})}}},ss={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("table",{staticClass:"tb_title"},[a("tbody",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("测试记录记录查看")]),t._v(" "),a("td",{staticClass:"label"},[t._v("姓名：")]),t._v(" "),a("td",[t._v(t._s(t.detail.name))]),t._v(" "),a("td",{staticClass:"label"},[t._v("学号：")]),t._v(" "),a("td",[t._v(t._s(t.detail.job_num))])]),t._v(" "),a("tr",[a("td",{staticClass:"label"},[t._v("性别：")]),t._v(" "),a("td",[t._v(t._s(1==t.detail.sex?"男":"女"))]),t._v(" "),a("td",{staticClass:"label"},[t._v("手机：")])])])]),t._v(" "),a("div",{attrs:{align:"center"}},[a("b",[t._v("量表：同学关系问卷")]),t._v(" 【\n    "),a("a",{staticStyle:{color:"blue"},attrs:{href:"#",target:""},on:{click:t.exportss}},[t._v("测试报告")]),t._v("】\n  ")]),t._v(" "),a("fieldset",[a("legend",[t._v("测试结果")]),t._v(" "),a("table",{staticClass:"tb_stat"},[a("tbody",[a("tr",[a("th",[t._v("因子")]),t._v(" "),t._l(t.facname,function(e,i,n){return a("td",{key:n},[t._v(t._s(e))])})],2),t._v(" "),a("tr",[a("td",[t._v("得分")]),t._v(" "),t._l(t.score,function(e,i,n){return a("td",{key:n},[t._v(t._s(e))])})],2)])])]),t._v(" "),a("fieldset",[a("legend",[t._v("\n      量表剖析图 【\n      "),a("span",{on:{click:function(e){t.print(1)}}},[t._v("饼图")]),t._v(" "),a("span",{on:{click:function(e){t.print(2)}}},[t._v("折线图")]),t._v(" "),a("span",{on:{click:function(e){t.print(3)}}},[t._v("柱形图")]),t._v("】\n    ")]),t._v(" "),a("div",{ref:"chart",staticClass:"chart"})]),t._v(" "),a("fieldset",{staticStyle:{"line-height":"150%"}},[a("legend",[t._v("结果解释")]),t._v(" "),t._l(t.factors,function(e,i,n){return a("div",{key:n},[e.desc?a("span",[t._v("【"+t._s(e.desc.factor.name)+"】"+t._s(e.desc.calc.explain)+"。")]):t._e()])})],2),t._v(" "),a("fieldset",{staticStyle:{"line-height":"150%"}},[a("legend",[t._v("原始选择")]),t._v(" "),a("el-row",t._l(t.answers,function(e,i){return a("el-col",{key:i,attrs:{xs:2,sm:2,md:2,lg:2}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\n          "+t._s(i+1)+"．[\n          "),e.length>=0?a("span",{staticClass:"answer"},t._l(e,function(e,i){return a("i",{key:i},[t._v(t._s(e)+",")])}),0):a("span",{staticClass:"answer"},[t._v(t._s(e))]),t._v("]\n        ")])])}),1)],1),t._v(" "),a("div",{staticClass:"buttom"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.return1()}}},[t._v("返回")])],1)])},staticRenderFns:[]};var os=a("VU/8")(ns,ss,!1,function(t){a("UWv1")},"data-v-ce42fcbe",null).exports,ls={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["团辅记录","我的团辅记录"],tableData:[],tableData3:[{a:"1",b:"与孩子相处模式",c:" 2019-04-20",f:"处理中"},{a:"1",b:"与孩子相处模式",c:" 2019-04-20",f:"处理中"},{a:"1",b:"与孩子相处模式",c:" 2019-04-20",f:"处理中"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){this.tableData=this.tableData3,0==this.tableData.length&&this.$message("没有确认的访谈邀请")},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;t.id,t.name;console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,i=[];e?i.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){i.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:i}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:H.a}},rs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{property:"a",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{property:"b",label:"课程类别"}}),t._v(" "),a("el-table-column",{attrs:{property:"f",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{label:"时间段"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.c))])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("我要留言")]),t._v(" "),a("el-dialog",{attrs:{title:"沙盘添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"沙盘编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var cs=a("VU/8")(ls,rs,!1,function(t){a("37E2")},"data-v-fcaa1d32",null).exports,ds={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["课程列表","查看课程列表"],tableData:[],tableData3:[{a:"1",b:"与孩子相处模式",c:" 2019-04-20",f:"处理中"},{a:"1",b:"与孩子相处模式",c:" 2019-04-20",f:"处理中"},{a:"1",b:"与孩子相处模式",c:" 2019-04-20",f:"处理中"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){this.tableData=this.tableData3,0==this.tableData.length&&this.$message("没有确认的访谈邀请")},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;t.id,t.name;console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,i=[];e?i.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){i.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:i}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:H.a}},us={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{property:"a",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{property:"b",label:"课程类别"}}),t._v(" "),a("el-table-column",{attrs:{property:"f",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{label:"时间段"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.c))])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("我要留言")]),t._v(" "),a("el-dialog",{attrs:{title:"沙盘添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"沙盘编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var ms=a("VU/8")(ds,us,!1,function(t){a("QNdV")},"data-v-a77aff38",null).exports,ps={data:function(){return{disabledInput:!0,save:!0,id:this.$route.query.id,detail:"",toux:!1,user_ext:{nation:"",father_age:"",father_job:"",father_die_age:"",mother_age:"",mother_job:"",mother_die_age:"",parent_marriage_status:"",parent_divorced_age:"",foster_flag:"",foster_age:"",stu_type:"",only_child:"",economy:""},option:{imgsrc:"",info:!0,outputSize:1,outputType:"jpeg",canScale:!0,autoCrop:!0,autoCropWidth:100,autoCropHeight:100,fixed:!1,fixedNumber:[4,4],infoTrue:!0},status:"",cropper:!1,newimgsrc:"",visible1:!1,visible2:!1,values:{password:"",repassword:"",name:"",sex:"",birth_day:"",id_card:"",phone:""},gradename:"",pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},headson:["学生资料修改","修改学生个人资料"],tabls:["基本信息","扩展信息"],tabindex:1}},watch:{},created:function(){console.log(this.id),this.baseinfo(this.id),console.log(this.$refs.schoolcheck1)},methods:{getList:function(){this.axios.post("/api/v1/admin/user/detail")},changedisable:function(){this.disabledInput=!1},tab:function(t){console.log(t),this.tabindex=t-0+1},baseinfo:function(t){this.dialogFormVisible=!0,console.log(t);var e=this;e.axios.get("/api/v1/user/viewDetails").then(function(t){console.log(t);var a=t.data.data;for(var i in t.data.data)e.user_ext[i]=t.data.data[i],isNaN(t.data.data[i]-0)||(e.user_ext[i]=t.data.data[i]-0);e.values.sex=a.sex,a.except=a.auth_group_id,a.birth_day=a.birth_date,console.log(a),e.detail=a,y.a.set("detail",a)})},saveinfo:function(){console.log(11111);var t={},e=this,a=JSON.parse(y.a.get("detail"));for(var i in e.user_ext)e.user_ext[i]&&e.user_ext[i]!==a[i]&&(t[i]=e.user_ext[i]);e.axios.post("/api/v1/user/saveExtInfo",t).then(function(t){console.log(t),0==t.data.code?e.$message("编辑学生扩展信息成功"):e.$message(t.data.msg)})},setstudent:function(){this.values.password,this.values.repassword,this.values.name=this.detail.name,this.values.sex,this.values.birth_day=this.detail.birth_date,this.values.id_card=this.detail.id_card,this.values.phone=this.detail.phone,this.values.sex=this.values.sex+"";var t=this,e={};console.log(this.values);var a=JSON.parse(y.a.get("detail"));if(this.values.password||this.values.repassword){if(this.values.password!==this.values.repassword)return void this.$message("两次输入密码不相同");if(this.values.password.length<4||this.values.password.length>20)return void this.$message("密码字符集在4到20区间，请输入正确的位数");this.values.password=q()(this.values.password),this.values.repassword=q()(this.values.repassword)}for(var i in this.values)this.values[i]&&this.values[i]!==a[i]&&(console.log(this.values.password,this.values.repassword,e),e[i]=this.values[i]);console.log(this.values.password,this.values.repassword,e),"{}"!=c()(e)&&t.axios.post("/api/v1/user/saveBaseInfo",e).then(function(e){console.log(e),0==e.data.code?t.$message("编辑学生基本信息成功"):t.$message(e.data.msg)})},returnback:function(){this.$router.go(-1)},checkSex:function(t){"男"==t.target.value?(this.values.sex=0,console.log(this.values.sex,this.values.group)):this.values.sex=1,this.$refs.sex1.style.backgroundColor="",this.$refs.sex2.style.backgroundColor="",t.target.style.backgroundColor="#5bb95a"},fileChange:function(t){var e=this,a=t.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;if(!(a.size/1024<200))return this.$message.error("上传文件大小不能超过 200k!"),!1;if(window.FileReader){var i=new FileReader;i.readAsDataURL(a),i.onload=function(t){e.option.imgsrc=t.target.result,console.log(e.option.imgsrc,t.target),e.cropper=!0}}},cutimg:function(){var t=this;this.$refs.cropper.startCrop(),this.$refs.cropper.getCropData(function(e){t.newimgsrc=e,t.$refs.cropper.clearCrop(),t.cropper=!1})},saves:function(){this.save=!1}},components:{headson:H.a,schoolcheck:W,tables:at,pagination:Y.a,VueCropper:b.VueCropper}},hs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,i){return a("li",{key:i,class:{tabactive:t.tabindex-1==i},on:{click:function(e){t.tab(i)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"luru"},[t._v("学生资料")]),t._v(" "),a("table",{staticClass:"a1"},[a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("ID：")]),t._v(" "),a("td",[a("span",[t._v(t._s(t.detail.user_id))])])]),t._v(" "),t.disabledInput?t._e():a("tr",{},[a("td",[t._v("密码：")]),t._v(" "),a("td",[[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.password,expression:"values.password"}],attrs:{type:"password",placeholder:"英文大小写，数字，符号 4-20位"},domProps:{value:t.values.password},on:{input:function(e){e.target.composing||t.$set(t.values,"password",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),t.disabledInput?t._e():a("tr",{},[a("td",[t._v("确认密码：")]),t._v(" "),a("td",[[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.repassword,expression:"values.repassword"}],attrs:{type:"password",placeholder:"英文大小写，数字，符号 4-20位"},domProps:{value:t.values.repassword},on:{input:function(e){e.target.composing||t.$set(t.values,"repassword",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("姓名：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.name,expression:"detail.name"}],attrs:{type:"text",placeholder:"请输入姓名",disabled:t.disabledInput},domProps:{value:t.detail.name},on:{input:function(e){e.target.composing||t.$set(t.detail,"name",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("性别：")]),t._v(" "),a("td",[[a("input",{ref:"sex1",style:{backgroundColor:1==t.values.sex?"#5bb95a":""},attrs:{type:"button",name:"sex1",value:"男",disabled:t.disabledInput},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("input",{ref:"sex2",style:{backgroundColor:0==t.values.sex?"#5bb95a":""},attrs:{name:"sex2",type:"button",value:"女",disabled:t.disabledInput},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("出生日期：")]),t._v(" "),a("td",[[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1,disabled:t.disabledInput},model:{value:t.detail.birth_date,callback:function(e){t.$set(t.detail,"birth_date",e)},expression:"detail.birth_date"}})]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("身份证号：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.id_card,expression:"detail.id_card"}],attrs:{type:"text",placeholder:"18位身份证号",disabled:t.disabledInput},domProps:{value:t.detail.id_card},on:{input:function(e){e.target.composing||t.$set(t.detail,"id_card",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("手机：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.phone,expression:"detail.phone"}],attrs:{type:"text",placeholder:"请输入手机号",disabled:t.disabledInput},domProps:{value:t.detail.phone},on:{input:function(e){e.target.composing||t.$set(t.detail,"phone",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td"),t._v(" "),a("td",[[a("div",[a("div",{style:{"text-align":"center",width:"200px","vertical-align":"center"}},[t._v("带*必填")]),t._v(" "),t.disabledInput?a("input",{staticClass:"add1",attrs:{type:"button",value:"修改"},on:{click:t.changedisable}}):a("input",{staticClass:"add",staticStyle:{color:"#fff",cursor:"pointer"},attrs:{type:"button",value:"保存"},on:{click:t.setstudent}}),t._v(" "),a("input",{staticClass:"return",attrs:{type:"button",value:"返回"},on:{click:t.returnback}})])]],2)])])]),t._v(" "),t.toux?a("div",{staticClass:"a2"},[a("div",{staticClass:"xs"},[t._v("(上传图片不超过200k,800*600像素内)")]),t._v(" "),a("div",{staticClass:"headimg"},[a("vueCropper",{ref:"cropper",staticStyle:{width:"200px",height:"200px"},attrs:{img:t.option.imgsrc,outputSize:t.option.outputSize,outputType:t.option.outputType,info:t.option.info,canScale:t.option.canScale,autoCrop:t.option.autoCrop,autoCropWidth:t.option.autoCropWidth,autoCropHeight:t.option.autoCropHeight,fixed:t.option.fixed,fixedNumber:t.option.fixedNumber}}),t._v(" "),a("ul",[a("li",[a("input",{ref:"file_input",staticStyle:{"margin-left":"20px","margin-top":"15px"},attrs:{id:"file_input",type:"file",capture:"camera"},on:{change:function(e){t.fileChange(e)}}}),t._v(" "),a("i",{staticClass:"choose",on:{click:t.cutimg}},[t._v("选择图片")])]),t._v(" "),a("li",[a("input",{staticClass:"cutimg",attrs:{type:"button",value:"保存"},on:{click:t.cutimg}})])]),t._v(" "),a("div",{staticClass:"newimg"},[a("div",[t._v("图片：")]),t._v(" "),a("img",{attrs:{src:t.newimgsrc,alt:""}})]),t._v(" "),a("div",{staticClass:"personone"},[t._v("个人简介:")])],1)]):t._e()]):2==t.tabindex?a("li",{staticClass:"data2"},[a("div",{staticClass:"luru"},[t._v("参数设置")]),t._v(" "),a("fieldset",{staticClass:"a2"},[a("table",{attrs:{width:"100%"}},[a("tbody",[a("tr",[a("td",[t._v("1、民族")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.nation,expression:"user_ext['nation']"}],staticClass:"text",attrs:{type:"text",name:"q_1"},domProps:{value:t.user_ext.nation},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"nation",e.target.value)}}})]),t._v(" "),a("td",[t._v("2、父亲年龄")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_age,expression:"user_ext['father_age']"}],staticClass:"text",attrs:{type:"number",name:"q_2"},domProps:{value:t.user_ext.father_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("3、父亲职业")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_job,expression:"user_ext['father_job']"}],staticClass:"text",attrs:{type:"text",name:"q_3"},domProps:{value:t.user_ext.father_job},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_job",e.target.value)}}})]),t._v(" "),a("td",[t._v("4、如果父亲不在世，请问发生在___岁时。（父亲健在的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_die_age,expression:"user_ext['father_die_age']"}],staticClass:"text",attrs:{type:"number",name:"q_4"},domProps:{value:t.user_ext.father_die_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_die_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("5、母亲年龄")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_age,expression:"user_ext['mother_age']"}],staticClass:"text",attrs:{type:"number",name:"q_5"},domProps:{value:t.user_ext.mother_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_age",e.target.value)}}})]),t._v(" "),a("td",[t._v("6、母亲职业")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_job,expression:"user_ext['mother_job']"}],staticClass:"text",attrs:{type:"text",name:"q_6"},domProps:{value:t.user_ext.mother_job},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_job",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("7、如果母亲不在世，请问发生在___岁时。（母亲健在的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_die_age,expression:"user_ext['mother_die_age']"}],staticClass:"text",attrs:{type:"number",name:"q_7"},domProps:{value:t.user_ext.mother_die_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_die_age",e.target.value)}}})]),t._v(" "),a("td",[t._v("8、父母婚姻状况")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.parent_marriage_status,callback:function(e){t.$set(t.user_ext,"parent_marriage_status",e)},expression:"user_ext['parent_marriage_status']"}},[a("el-radio",{attrs:{label:1}},[t._v("良好")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("一般")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("较差")]),t._v(" "),a("el-radio",{attrs:{label:4}},[t._v("离异")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("9、如果父母离异的话，请问发生在___岁时。（父母未离异的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.parent_divorced_age,expression:"user_ext['parent_divorced_age']"}],staticClass:"text",attrs:{type:"number",name:"q_9"},domProps:{value:t.user_ext.parent_divorced_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"parent_divorced_age",e.target.value)}}})]),t._v(" "),a("td",[t._v("10、是否有寄养经历")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.foster_flag,callback:function(e){t.$set(t.user_ext,"foster_flag",e)},expression:"user_ext['foster_flag']"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("否")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("11、寄养时的年龄（无寄养经历的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.foster_age,expression:"user_ext['foster_age']"}],staticClass:"text",attrs:{type:"number",name:"q_11"},domProps:{value:t.user_ext.foster_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"foster_age",e.target.value)}}})]),t._v(" "),a("td",[t._v("12、生源类型")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.stu_type,callback:function(e){t.$set(t.user_ext,"stu_type",e)},expression:"user_ext['stu_type']"}},[a("el-radio",{attrs:{label:1}},[t._v("农村")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("城市")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("城镇")]),t._v(" "),a("el-radio",{attrs:{label:4}},[t._v("留学生")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("13、独生子女")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.only_child,callback:function(e){t.$set(t.user_ext,"only_child",e)},expression:"user_ext['only_child']"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("否")])],1)],1)]),t._v(" "),a("td",[t._v("14、家庭经济状况")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.economy,callback:function(e){t.$set(t.user_ext,"economy",e)},expression:"user_ext['economy']"}},[a("el-radio",{attrs:{label:1}},[t._v("困难")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("不困难")])],1)],1)])])])]),t._v(" "),a("div",{staticStyle:{"margin-top":"50px","text-align":"center"}},[a("el-button",{attrs:{type:"primary",round:""},on:{click:t.saveinfo}},[t._v("保存")])],1),t._v(" "),a("input",{attrs:{type:"hidden",name:"qnum",value:"27"}})])]):t._e()])],1)},staticRenderFns:[]};var fs=a("VU/8")(ps,hs,!1,function(t){a("6zRq")},"data-v-61a39b94",null).exports,gs={data:function(){return{type:[],checkAll:!1,isIndeterminate:!0,checked:[],headson:["学生个人档案","个人档案资料导出记录"],group:[{type:1,name:"留言"},{type:2,name:"咨询"},{type:4,name:"测评"}],activities:[],activities1:[],useid:this.$route.query.id,alldata:[]}},created:function(){console.log(this.checked),this.messages()},methods:{alldata1:function(){},messages:function(){var t=this,e=this;this.axios.post("api/v1/user/message/list",{page:1,size:60}).then(function(a){var i=a.data.data.list;i.map(function(t,a){t.types=1,t.timestamp=t.create_time,e.alldata.push(t)}),console.log(i),t.axios.get("api/v1/counsel/getSelfInfo").then(function(t){console.log(t),t.data.data.map(function(t,a){t.types=2,t.timestamp=t.start_time,e.alldata.push(t)}),e.getscale()})})},getscale:function(t){var e=this;this.axios.post("/api/v1/scale/getScaleTestResult",{page:1,size:60}).then(function(t){0==t.data.code&&(t.data.data.list.map(function(t,a){if(t.types=4,t.timestamp=t.start_test_time,t.birth_date){var i=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,n=Math.floor(i/8640);console.log(n),t.age=n}else t.age="null";t.times=wt()(wt()(t.end_test_time)-wt()(t.start_test_time)).format("HH:mm:ss"),0==t.sex?t.sex="女":t.sex="男",0==t.valid?t.valid="有效":t.valid="无效",2==t.type?t.type="自测":t.type="普查",e.alldata.push(t)}),console.log(e.alldata),e.alldata=e.sortDataArray(e.alldata),e.alldata.map(function(t,a){t.idnumber=a+1,e.checked.push(t.idnumber)}),e.activities=e.alldata,e.activities1=e.alldata,localStorage.setItem("alldata",c()(e.alldata)))})},sortDataArray:function(t){return t.sort(function(t,e){return Date.parse(e.timestamp)-Date.parse(t.timestamp)})},zixun:function(){this.axios.get("api/v1/admin/counsel/getClientListByUID?uid="+this.useid).then(function(t){console.log(t)})},fangtan:function(){this.axios.get("api/v1/admin/coach/listByUID?uid=="+this.useid).then(function(t){console.log(t)})},cepin:function(){},getlist:function(){var t=this.type,e=[];this.activities1.map(function(a,i){t.map(function(t){a.types==t&&e.push(a),console.log(a,t)})}),this.activities=e,console.log(e,t),this.handleCheckAllChange()},handleCheckAllChange:function(t){var e=this;this.checked?(this.checked=[],this.activities.map(function(t,a){e.checked.push(t.idnumber)})):this.checked=[],console.log(t,this.checked),this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){console.log(t);var e=t.length;this.checkAll=e===this.activities.length,this.isIndeterminate=e>0&&e<this.activities.length},archive:function(){localStorage.setItem("checked",c()(this.checked)),this.$router.push({path:"/student/yaoqing",query:{useid:this.useid}})},changefun:function(){console.log(this.type),this.getlist()}},components:{headson:H.a}},vs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[a("el-checkbox-group",{on:{change:function(e){t.changefun()}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.group,function(e,i){return a("el-checkbox-button",{key:i,attrs:{label:e.type}},[t._v(t._s(e.name))])}),1)],1),t._v(" "),a("li",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.archive}},[a("i",{staticClass:"iconfont icon-daochu1"}),t._v("浏览档案\n        ")])],1)])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"block"},[a("el-timeline",[a("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},t._l(t.activities,function(e,i){return a("el-timeline-item",{key:i,attrs:{placement:"top",color:"#C0D3E1",size:"large",icon:"el-icon-more",type:"primary",timestamp:e.timestamp}},[a("el-card",{class:{aClass:1==e.types,bClass:2==e.types,mClass:3==e.types,nClass:4==e.types}},[a("el-checkbox",{key:e.id,attrs:{label:e.idnumber}},[a("h4",[t._v(t._s(e.timestamp))]),t._v(" "),1==e.types?a("p",[t._v("留言内容："+t._s(e.content))]):2==e.types?a("p",[t._v("咨询内容："+t._s(e.problem))]):3==e.types?a("p",[t._v("访谈干预内容："+t._s(e.proc_idea))]):t._e(),t._v(" "),4==e.types?a("p",[t._v("测评量表"+t._s(e.scale_name))]):t._e()])],1)],1)}),1)],1)],1)]),t._v(" "),a("div")],1)},staticRenderFns:[]};var _s=a("VU/8")(gs,vs,!1,function(t){a("gtCp")},"data-v-cf2440fe",null).exports,bs=a("Te8f"),xs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data",attrs:{id:"calendar"}},[a("table",{staticClass:"trs",attrs:{width:"80%"}},[a("tbody",[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.problem,expression:"form.problem"}],staticClass:"text",staticStyle:{overflow:"hidden","word-wrap":"break-word",resize:"horizontal",height:"37px"},attrs:{name:"question",id:"question"},domProps:{value:t.form.problem},on:{input:function(e){e.target.composing||t.$set(t.form,"problem",e.target.value)}}})])]),t._v(" "),t._m(3),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.last_exp,expression:"form.last_exp"}],staticClass:"text",staticStyle:{overflow:"hidden","word-wrap":"break-word",resize:"horizontal",height:"37px"},attrs:{name:"event1",id:"event1"},domProps:{value:t.form.last_exp},on:{input:function(e){e.target.composing||t.$set(t.form,"last_exp",e.target.value)}}})])]),t._v(" "),t._m(4),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.grow_exp,expression:"form.grow_exp"}],staticClass:"text",staticStyle:{overflow:"hidden","word-wrap":"break-word",resize:"horizontal",height:"37px"},attrs:{name:"event2",id:"event2"},domProps:{value:t.form.grow_exp},on:{input:function(e){e.target.composing||t.$set(t.form,"grow_exp",e.target.value)}}})])]),t._v(" "),t._m(5),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.target,expression:"form.target"}],staticClass:"text",staticStyle:{overflow:"hidden","word-wrap":"break-word",resize:"horizontal",height:"37px"},attrs:{name:"purpose",id:"purpose"},domProps:{value:t.form.target},on:{input:function(e){e.target.composing||t.$set(t.form,"target",e.target.value)}}})])]),t._v(" "),t._m(6),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.other,expression:"form.other"}],staticClass:"text",staticStyle:{overflow:"hidden","word-wrap":"break-word",resize:"horizontal",height:"37px"},attrs:{name:"other",id:"other"},domProps:{value:t.form.other},on:{input:function(e){e.target.composing||t.$set(t.form,"other",e.target.value)}}})])]),t._v(" "),t._m(7),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("br"),t._v(" "),a("div",{staticClass:"dayevent"},[a("span",{ref:"toop",staticClass:"toop"},[t._v("提示:"+t._s(t.title))]),t._v(" "),a("full-calendar",{ref:"calendar",staticClass:"test-fc",attrs:{events:t.monthData,config:t.config,"first-day":"1",locale:"fr"},on:{"event-selected":t.eventClick,"day-click":t.dayClick,"event-mouseover":t.eventMouseover,"event-mouseout":t.eventmouseout,"view-render":t.viewrender}})],1)])]),t._v(" "),t._m(8)])])]),t._v(" "),a("div",{staticClass:"add",on:{click:t.makesure}},[t._v("提交预约")]),t._v(" "),a("el-dialog",{attrs:{title:"咨询时间编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{width:"20",align:"right",valign:"top"}},[this._v("■")]),this._v(" "),e("td",[this._v("\n            说明：\n            "),e("br"),this._v("1、请详尽和真实的填写下面所有信息，特别是联系方式，以便及时与您取得联系；\n            "),e("br"),this._v("2、由于可用咨询时间变化很大，请在预约后等待接待人员与您核实具体咨询时间；\n            "),e("br"),this._v("3、心理咨询可能需要持续几周或者更长时间，请事先做好充分的准备。\n          ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"2"}},[e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"right"}},[this._v("■")]),this._v(" "),e("td",[this._v("您现在最需要接受帮助的主要问题是什么？")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"right"}},[this._v("■")]),this._v(" "),e("td",[this._v("在近半年里，是否发生了对您有重大影响的事（如亲友的死亡、法律诉讼、失恋等）？")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"right"}},[this._v("■")]),this._v(" "),e("td",[this._v("在您的成长经历中，是否有对您来说有特殊意义的事情？")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"right"}},[this._v("■")]),this._v(" "),e("td",[this._v("您希望心理咨询能够帮助您达到什么样的目标？")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"right"}},[this._v("■")]),this._v(" "),e("td",[this._v("其他您认为对咨询可能有帮助的事情：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"right"}},[this._v("■")]),this._v(" "),e("td",[this._v("请点击选择您要预约的咨询师和咨询时间：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"2"}},[e("br"),this._v(" "),e("hr"),this._v(" "),e("br")])])}]};var ys=function(t){a("+rYZ")},ws=a("VU/8")(bs.a,xs,!1,ys,"data-v-582f81ea",null).exports,ks={data:function(){return{headson:["中心简介","咨询中心简介"],tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}},created:function(){},methods:{},components:{headson:H.a,pagination:Y.a}},Cs={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("headson",{attrs:{headson:this.headson}}),this._v(" "),this._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"pa"},[e("img",{attrs:{src:a("4QAK"),alt:""}})]),this._v(" "),e("div",{staticClass:"p0"},[this._v("中心简介")]),this._v(" "),e("div",{staticClass:"p1"},[this._v("\n      我校心理健康中心于2015年建成，设计理念优秀，设施先进，由多个不同功能的功能室组成，满足解决来访学生的各种心理问题及心理需求的功能。 建校至今，已有87%的教师具备心理健康教育教师资格，其中3名教师获得南京市中小学心理咨询员资格，咨询师力量雄厚，有足够能力为众多学生提供心理上的帮助！\n      "),e("div",{staticClass:"jinji"},[e("span",[this._v("紧急联系方式:")]),this._v(" "),e("i",[this._v("如有紧急状况请与025-66118399联系。")])])])])}]};var $s=a("VU/8")(ks,Cs,!1,function(t){a("TFKy")},"data-v-3522d853",null).exports,Ss={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["问题留言","当前学生留言记录"],tableData:[],tableData3:[{a:"1",b:"与孩子相处模式",c:" 2019-04-20",d:" hshshhshshshhs",e:" 2019-04-20",f:"处理中"},{a:"1",b:"与孩子相处模式",c:" 2019-04-20",d:" hshshhshshshhs",e:" 2019-04-20",f:"处理中"},{a:"1",b:"与孩子相处模式",c:" 2019-04-20",d:" hshshhshshshhs",e:" 2019-04-20",f:"处理中"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){this.tableData=this.tableData3,0==this.tableData.length&&this.$message("没有确认的访谈邀请")},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;t.id,t.name;console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,i=[];e?i.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){i.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:i}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/user/message/add/msg",{content:t.form.unit_name,theme:t.form.name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:H.a}},zs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div"),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("我要留言")]),t._v(" "),a("el-dialog",{attrs:{title:"留言添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"留言主题","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"留言内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"500px"},attrs:{autocomplete:"off",type:"textarea"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"留言编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Fs=a("VU/8")(Ss,zs,!1,function(t){a("/oPU")},"data-v-6b001d24",null).exports;l()(function(){console.log(111111111),l()("#btn-word").on("click",function(){l()(".content").html2docx("文档")})});var As={data:function(){return{option:"",type:1,detail:"",id:this.$route.query.id,newsinfo:{},tableData:[],alldata:[],messagedata:[],zixundata:[],coachdata:[],scaledata:[],basedetail:{}}},created:function(){var t=this;this.alldata=JSON.parse(localStorage.getItem("alldata"));var e=JSON.parse(localStorage.getItem("checked")),a=[];e.map(function(e,i){t.alldata.map(function(t,i){e==t.idnumber&&a.push(t)})});var i=this;console.log(a),a.map(function(t,e){1==t.types?i.messagedata.push(t):2==t.types?i.zixundata.push(t):3==t.types?i.coachdata.push(t):i.scaledata.push(t)}),i.coachdata.map(function(t,e){1==t.type?t.type="团辅":t.type="个人",t.times=t.start_time+"—"+t.end_time;var a=new Date(t.start_time).getTime(),i=new Date(t.end_time).getTime(),n=(new Date).getTime();n<a&&a<=i?t.staus="未开始":n>i&&i>=a?t.staus="已结束":(console.log(a,i,n),t.staus="正在进行")}),i.zixundata.map(function(t,e){t.times=wt()(t.start_time).format("HH:mm:ss")+"至"+wt()(t.end_time).format("HH:mm:ss"),t.date=wt()(t.start_time).format("YYYY-MM-DD");var a=t.trace_type-0;switch(a){case 0:t.case="无需关注";break;case 1:t.case="学业问题";break;case 2:t.case="恋爱关系";break;case 3:t.case="人际交往";break;case 4:t.case="职业发展";break;case 5:t.case="情绪问题";break;case 6:t.case="躯体疾病"}t.dos=0==a?"未处理":"已处理"}),console.log(i.alldata,i.messagedata,e)},mounted:function(){this.baseinfo(this.$route.query.useid)},beforeCreated:function(){},methods:{ex:function(){console.log(l()(".content"),this.option),l()(".content").html2docx("个人档案",this.option)},getNewsInfo:function(){var t=this;this.$http.get("/api/getnew/"+this.id).then(function(e){0===e.body.status?t.newsinfo=e.body.message[0]:Toast("获取新闻失败！")})},print:function(t){this.type=1==t?1:2==t?2:3,this.draw()},getlist:function(){var t=this;this.axios.get("/api/v1/admin/scale/getTestResultDetail",{params:{id:19}}).then(function(e){0==e.data.code&&(t.detail=e.data.data)})},draw:function(){var t=this.$refs.chart;this.myChart&&this.myChart.clear(),this.myChart=this.$echarts.init(t);var e={title:{text:"危机干预综合信息"},color:["#3398DB"],legend:{data:["销量"]},tooltip:{trigger:"axis",formatter:function(t,e,a){console.log(t);for(var i="",n=t[0].name,s=0;s<t.length;s++){n=t.name;i+=t[s][3]+"--"+n+" 得分："+t[s][2]+"<br>"}return i}},grid:{left:"3%",right:"4%",bottom:"7%",containLabel:!0},xAxis:[{type:"category",data:["潜在风险评估","自杀倾向评估","访谈评估","生活事件动态"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"2015",type:"bar",barWidth:"100",data:[10,52,200,334,390]}]};1==this.type?this.option={title:{text:"剖析图"},color:["#3398DB"],tooltip:{},legend:{x:"center",data:["销量"]},radar:{name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:[{name:"言语（sales）",max:6500},{name:"交际（Administration）",max:16e3},{name:"待人（Information Techology）",max:3e4},{name:"交谈（Customer Support）",max:38e3},{name:"交际（Development）",max:52e3},{name:"市场（Marketing）",max:25e3}]},series:[{name:"预算 vs 开销（Budget vs spending）",type:"radar",data:[{value:[4300,1e4,28e3,35e3,5e4,19e3],name:"预算分配（Allocated Budget）",label:{normal:{show:!0,formatter:function(t){return t.value}}}}]}]}:2==this.type?this.option={xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},tooltip:{},series:[{data:[820,932,901,934,1290,1330,1320],type:"line"}]}:this.option=e,this.myChart.setOption(this.option),this.myChart.resize();this.myChart.on("click",function(t){console.log(t),"潜在风险评估"==t.name||"自杀倾向评估"==t.name||t.name})},baseinfo:function(t){console.log(t);var e=this;e.axios.get("/api/v1/user/viewDetails").then(function(t){console.log(t);var a=t.data.data;a.except=a.auth_group_id,a.birth_day=a.birth_date,console.log(a),e.basedetail=a})}}},Ds={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{attrs:{id:"print"}},[a("input",{attrs:{type:"button",value:"打 印",title:"打印",onclick:"javascript:self.print()"}}),t._v(" "),a("input",{attrs:{type:"button",id:"btn-word",value:"另存为Word"},on:{click:function(e){t.ex()}}})]),t._v(" "),a("div",{attrs:{id:"word-content"}},[a("h1",{staticStyle:{"text-align":"center"}},[t._v("中学管理系统平台版心理档案")]),t._v(" "),a("h2",[t._v("学生个人信息")]),t._v(" "),a("div",{attrs:{id:"english"}},[t._v("Report of Psychological Test")]),t._v(" "),a("div",{staticClass:"info"},[a("ul",[a("li",[t._v("姓名："+t._s(t.basedetail.name))]),t._v(" "),a("li",[t._v("出生："+t._s(t.basedetail.birth_date))]),t._v(" "),a("li",[t._v("性别："+t._s(1==t.basedetail.sex?"男":"女"))]),t._v(" "),a("li",[t._v("电话："+t._s(t.basedetail.phone))])])]),t._v(" "),a("div",{staticClass:"pagebreak"})]),t._v(" "),a("div",[a("h2",[t._v("测试结果记录")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.scaledata}},[a("el-table-column",{attrs:{prop:"scale_name",label:"量表名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stu_name",label:"学生"}}),t._v(" "),a("el-table-column",{attrs:{prop:"start_test_time",label:"测试时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"valid",label:"有效"}})],1)],1),t._v(" "),a("div",[a("h2",[t._v("咨询记录")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.zixundata,border:""}},[a("el-table-column",{attrs:{prop:"problem",label:"问题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"预约日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"咨询时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case",label:"问题类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"proc_idea",label:"处理意见"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dos",label:"状态"}})],1)],1),t._v(" "),a("div",[a("h2",[t._v("问题留言记录")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.messagedata,border:""}},[a("el-table-column",{attrs:{prop:"theme",label:"留言主题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"留言内容"}}),t._v(" "),a("el-table-column",{attrs:{prop:"replys_count",label:"回复数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"更新时间"}})],1)],1)])},staticRenderFns:[]};var Vs=a("VU/8")(As,Ds,!1,function(t){a("zCN6")},"data-v-e4b37c44",null).exports,Es={data:function(){return{dialogFormVisible:!1,headson:["心理咨询预约","可以预约想要的时间段和咨询师"],tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}},methods:{addnumber:function(){this.dialogFormVisible=!0},editsure:function(){this.dialogFormVisible=!1},submit:function(){}},components:{headson:H.a}},Ls={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"contain"},[t._m(1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"date",label:"咨询师列表：",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:""}})],1),t._v(" "),a("div",{staticClass:"jinji"},[a("span",{on:{click:t.addnumber}},[t._v("点击选择咨询师和咨询时间:")]),t._v(" "),a("i",[t._v("咨询师：咨询师H，日期：2019-04-24，时间：08:55-11:22")])]),t._v(" "),a("div",{staticClass:"add",on:{click:t.submit}},[t._v("提交")]),t._v(" "),a("el-dialog",{attrs:{title:"沙盘添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"work"},[e("a",{staticClass:"del",attrs:{href:"javascript:history.back()"}},[e("i",{staticClass:"iconfont icon-chehuisekuai"}),this._v("\n返回")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("tbody",[a("tr",[a("td",{attrs:{width:"20",align:"left",valign:"top"}},[t._v("■")]),t._v(" "),a("td",[t._v("\n              说明：\n              "),a("br"),t._v("1、请详尽和真实的填写下面所有信息，特别是联系方式，以便及时与您取得联系；\n              "),a("br"),t._v("2、由于可用咨询时间变化很大，请在预约后等待接待人员与您核实具体咨询时间；\n              "),a("br"),t._v("3、心理咨询可能需要持续几周或者更长时间，请事先做好充分的准备。\n            ")])]),t._v(" "),a("tr",[a("td",{attrs:{align:"right"}},[t._v("■")]),t._v(" "),a("td",[t._v("您现在最需要接受帮助的主要问题是什么？")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{staticClass:"text",attrs:{name:"question",id:"question"}})])]),t._v(" "),a("tr",[a("td",{attrs:{align:"right"}},[t._v("■")]),t._v(" "),a("td",[t._v("在近半年里，是否发生了对您有重大影响的事（如亲友的死亡、法律诉讼、失恋等）？")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{staticClass:"text",attrs:{name:"question",id:"question"}})])]),t._v(" "),a("tr",[a("td",{attrs:{align:"right"}},[t._v("■")]),t._v(" "),a("td",[t._v("请把您最方便的联系方式写在下面：")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("input",{attrs:{type:"text",name:"",id:""}})])])])])}]};var Ts=a("VU/8")(Es,Ls,!1,function(t){a("3HVV")},"data-v-6cd19c56",null).exports;a("gAs1");l()(function(){});var js={data:function(){return{username:"",password:"",yzm:"",key:"",role:"",sf:"",imgurl:"",logo:""}},computed:{gettoken:function(){return this.$store.state.token}},watch:{},created:function(){this.$store.commit("getToken"),this.getinfo(),this.getyzm();var t=this.$store.state.userInfo;"string"==typeof t&&(t=JSON.parse(t)),this.role=t,console.log(this.role)},mounted:function(){console.log(this.$refs.soli1),this.$refs.soli1.style.cssText="position: relative;bottom: 0px; background-color: #00CBA3;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"},methods:{getlist:function(t,e){this.axios.post("/api/v1/admin/article/column/list",{page:t,size:e}).then(function(t){t.data.code})},login:function(){var t,e=this;t=q()(this.password);var a={account:this.username,pwd:this.password,code:this.yzm};console.log(a,this.key),this.username&&this.password&&this.yzm?this.axios.post("/api/v1/admin/login",{account:this.username,pwd:t,code:this.yzm,key:this.key}).then(function(t){if(console.log(t.data),0==t.data.code){var a=t.data.data.token,i=t.data.data.role;e.role=i;var n=t.data.data.setting;n&&n.logo&&(e.logo="http://115.159.209.142:7006/"+n.logo),1==i.type?i.college_name?e.role.ty=1.1:e.role.sf=1:2==i.type&&(e.role.sf=2),y.a.set("userToken",a,86400),y.a.set("role",i,86400),y.a.set("logo",e.logo,86400),console.log(i),e.$store.commit("setToken",{token:a,role:i,logo:e.logo}),e.$store.commit("getToken"),e.$refs.rember.checked&&(y.a.set("username",e.username),y.a.set("password",e.password)),e.$store.commit("column"),1==i.type||2==i.type?e.$store.state.loginsucess=!1:3==i.type&&e.$router.push({path:"/Evaluation/survey"})}else alert(t.data.msg),e.getyzm()}).catch(function(t){console.log(t),e.imgurl=""}):alert("请输入用户名或密码或验证码")},getinfo:function(){var t=y.a.get("username"),e=y.a.get("password");this.username=t,this.password=e},goindex:function(){var t=JSON.parse(y.a.get("role"));1==t.type?t.college_name?this.$router.push({path:"/admin/teacherindex/teacherschool"}):this.$router.push({path:"/school/localadminschool"}):2==t.type&&this.$router.push({path:"/admin/teacherindex/teacherschool"})},getyzm:function(){var t=this;this.axios.get("/api/v1/verify?v="+Math.random(10)).then(function(e){console.log(e),200==e.status&&(t.key=e.data.data.key,t.imgurl=e.data.data.imgSrc,console.log(t.imgurl))}).catch(function(t){console.log(t)})},logincout:function(){y.a.set("userToken",""),this.$store.commit("setToken",""),this.$store.state.columns="",this.$store.state.loginsucess=!0,this.getyzm()},mouse:function(t){t.target.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: #00CBA3;border-bottom: "";'},first:function(t){"click"==t.type&&this.$router.push({path:"/login"}),this.$store.state.token&&(this.$refs.soli.map(function(t){t.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: #00CBA3;border-bottom: "";'}),this.$refs.soli2.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: #00CBA3;border-bottom: "";'),this.$refs.soli1.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: #00CBA3;border-bottom: "";',t.target.style.cssText="position: relative;bottom: 20px; background-color: #00CBA3;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"},cli:function(t,e,a){this.$store.state.token&&(this.$refs.soli.map(function(t){t.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: #00CBA3;border-bottom: "";'}),this.$refs.soli2.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: #00CBA3;border-bottom: "";'),this.$refs.soli1.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: #00CBA3;border-bottom: "";',"click"==t.type?(this.$router.push({path:"/studentindex/gpartical",query:{id:e,index:a}}),t.target.style.cssText="position: relative;bottom: 0px; background-color: #00CBA3;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"):t.target.style.cssText="position: relative;bottom: 20px; background-color: #00CBA3;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"},handleCommand:function(t){this.$router.push({path:"/studentindex/gpartical",query:{id:t}})},goArtical:function(t,e){this.$router.push({path:"/studentindex/gpartical",query:{id:t,index:e}})},gocale:function(){"click"==event.type&&this.$router.push({path:"/studentindex/gocale"}),this.$store.state.token&&(this.$refs.soli.map(function(t){t.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: #00CBA3;border-bottom: "";'}),this.$refs.soli2.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: #00CBA3;border-bottom: "";'),this.$refs.soli1.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color:#00CBA3;border-bottom: "";',event.target.style.cssText="position: relative;bottom: 20px; background-color: #00CBA3;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"}}},Is={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",{class:["head",t.$store.state.token?"loginhead":"headbac"]},[i("div",{staticClass:"top1"},[t.$store.state.token?i("div",{staticClass:"title"},[t.$store.state.logo?i("img",{attrs:{src:t.$store.state.logo,alt:""}}):i("img",{attrs:{src:a("NKBi"),alt:""}}),t._v(" "),1!==t.role.sf?i("span",[t._v(t._s(t.role.college_name)+"心理系统")]):t._e()]):t._e(),t._v(" "),i("ul",[i("li",{ref:"soli1",on:{click:function(e){return e.stopPropagation(),t.first(e)},mouseover:function(e){return e.stopPropagation(),t.first(e)},mouseout:t.mouse}},[t._v("首页")]),t._v(" "),i("li",{ref:"soli",on:{click:function(e){return e.stopPropagation(),t.gocale(e)},mouseover:function(e){return e.stopPropagation(),t.gocale(e)},mouseout:t.mouse}},[t._v("量表")]),t._v(" "),t._l(t.$store.state.columns,function(e,a){return a<5?i("li",{key:a,ref:"soli",refInFor:!0,staticClass:"soli",on:{click:function(i){i.stopPropagation(),t.cli(i,e.id,a)},mouseover:function(e){e.stopPropagation(),t.cli(e)},mouseout:t.mouse}},[t._v(t._s(e.name))]):t._e()}),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.columns.length>=5,expression:"$store.state.columns.length>=5"}],ref:"soli2",on:{click:function(e){return e.target!==e.currentTarget?null:t.first(e)},mouseover:function(e){return e.target!==e.currentTarget?null:t.first(e)},mouseout:t.mouse}},[i("span",[t._v("更多")]),t._v(" "),i("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.$store.state.columns,function(e,a){return a>=5?i("el-dropdown-item",{key:a,attrs:{icon:"el-icon-plus",command:e.id}},[t._v(t._s(e.name))]):t._e()}),1)],1)],1)],2)])]),t._v(" "),i("div",{staticClass:"banner"},[t.$store.state.token?i("el-carousel",{attrs:{interval:5e3,arrow:"always",height:"800px"}},[i("el-carousel-item",[i("img",{attrs:{src:a("qtSr"),alt:""}})]),t._v(" "),i("el-carousel-item",[i("img",{attrs:{src:a("6SVA"),alt:""}})]),t._v(" "),i("el-carousel-item",[i("img",{attrs:{src:a("oBJz"),alt:""}})])],1):i("div",[t.$store.state.token?t._e():i("img",{staticStyle:{width:"100%"},attrs:{src:a("kLUj"),alt:""}})]),t._v(" "),t.$store.state.loginsucess?[i("form",{staticClass:"loginform",attrs:{action:""}},[i("label",{staticClass:"f1"},[t._v("\n          用户名：\n          "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],ref:"user",attrs:{type:"text",name:"user",placeholder:"请输入用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),i("br"),t._v(" "),i("label",{staticClass:"f2"},[t._v("\n          密   码：\n          "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"password",attrs:{type:"password",name:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),i("br"),t._v(" "),i("label",{staticClass:"f3"},[t._v("\n          验证码：\n          "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.yzm,expression:"yzm"}],attrs:{type:"text",name:"yzm",placeholder:"验证码"},domProps:{value:t.yzm},on:{input:function(e){e.target.composing||(t.yzm=e.target.value)}}}),t._v(" "),i("span",{staticClass:"yPicture",on:{click:t.getyzm}},[i("img",{ref:"yzmimg",attrs:{src:t.imgurl,alt:""}})]),t._v(" "),i("span",{staticClass:"changeimg",on:{click:t.getyzm}},[t._v("换一张")])]),t._v(" "),i("br"),t._v(" "),i("label",{staticClass:"f4"},[i("input",{ref:"rember",attrs:{type:"checkbox",name:"rember"}}),t._v("记住密码   \n          "),i("router-link",{attrs:{tag:"a",to:"/register"}},[t._v("注册")]),t._v(" \n          ")],1),t._v(" "),i("br"),t._v(" "),i("el-button",{staticClass:"start",attrs:{type:"primary",plain:""},on:{click:t.login}},[t._v("马上开始")])],1)]:[i("div",{staticClass:"loginsucess"},[i("div",{staticClass:"longinhead"},[i("span",[t._v("心理咨询管理系统")]),t._v(" "),i("i",{on:{click:t.logincout}},[t._v("[注销登陆]")])]),t._v(" "),i("div",{staticClass:"loginbody"},[t._m(0),t._v(" "),i("div",{staticClass:"right"},[i("ul",[1!==t.role.sf?i("li",[t._v("学校："+t._s(t.role.college_name))]):t._e(),t._v(" "),i("li",[t._v("\n                账号：\n                "),i("i",[t._v(t._s(t.role.name))])]),t._v(" "),i("li",[t._v("\n                身份：\n                "),1==t.role.type&&t.role.college_name?i("i",[t._v("校级超级管理员")]):1==t.role.type?i("i",[t._v("总超级管理员")]):i("i",[t._v("普通管理员")])])])])]),t._v(" "),i("el-button",{staticClass:"loginout",attrs:{type:"primary",plain:""},on:{click:t.goindex}},[t._v("进入系统")])],1)]],2),t._v(" "),t.$store.state.token?i("div",{staticClass:"bottom"},[i("div",{staticClass:"a1"},[i("div",{staticClass:"sons"},[i("ul",{staticClass:"son"},t._l(t.$store.state.columns,function(e,a){return i("li",{key:a,staticClass:"soli",on:{click:function(i){t.goArtical(e.id,a)}}},[t._v(t._s(e.name))])}),0)])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[e("img",{attrs:{src:"",alt:""}})])}]};var Rs=a("VU/8")(js,Is,!1,function(t){a("3pOU")},"data-v-7a3ace5a",null).exports;l()(function(){});var Ps={data:function(){return{username:"",password:"",yzm:"",key:"",role:"",imgurl:""}},created:function(){this.$store.commit("getToken"),this.getinfo(),this.getyzm(),console.log(this.index,this.$refs.soli)},mounted:function(){console.log(this.loginsucess),this.$refs.soli1.style.cssText="position: relative;bottom: 0px; background-color: #aeaeae;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"},methods:{getlist:function(t,e){this.axios.post("/api/v1/admin/article/column/list",{page:t,size:e}).then(function(t){t.data.code})},login:function(){var t=this,e={account:this.username,pwd:this.password,code:this.yzm};console.log(e),this.username&&this.password?(t.role=t.$refs.selects.value,console.log(t.role),"管理员"==t.role?this.axios.post("/api/v1/admin/login",{account:this.username,pwd:this.password,code:this.yzm,key:this.key}).then(function(e){if(console.log(e),0==e.data.code){var a=e.data.data.token;y.a.set("userToken",a),y.a.set("roleType",t.role),t.$store.commit("setToken",a),t.$store.commit("getToken"),t.$refs.rember.checked&&(y.a.set("username",t.username),y.a.set("password",t.password)),t.$store.state.loginsucess=!1}else t.getyzm(),alert(e.data.msg)}).catch(function(t){console.log(t)}):(y.a.set("roleType",t.role),console.log("学生"),t.$store.commit("setToken",1),this.goindex(),t.$store.state.loginsucess=!1)):alert("请输入用户名或密码")},getinfo:function(){var t=y.a.get("username"),e=y.a.get("password");this.username=t,this.password=e},goindex:function(){var t=y.a.get("roleType");console.log(t),"管理员"==t?(console.log(this.$router),this.$router.push({path:"/admin/teacherindex/teacherschool"})):this.$router.push({path:"/studentindex/studentschool"})},getyzm:function(){var t=this;this.axios.get("/api/v1/verify",{}).then(function(e){console.log(e),200==e.status&&(t.key=e.data.data.key,t.imgurl=e.data.data.imgSrc,console.log(t.key))}).catch(function(t){console.log(t)})},logincout:function(){this.$store.commit("setToken",""),this.$store.state.loginsucess=!0},first:function(t){"click"==t.type&&this.$router.push({path:"/login"}),this.$refs.soli.map(function(t){t.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";'}),this.$refs.soli1.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',this.$refs.soli2.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',t.target.style.cssText="position: relative;bottom: 20px; background-color: #aeaeae;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"},cli:function(t,e){this.$refs.soli.map(function(t){t.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";'}),this.$refs.soli1.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',this.$refs.soli2.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',"click"==t.type?(this.$router.push({path:"/studentindex/gpartical",query:{index:e}}),t.target.style.cssText="position: relative;bottom: 0px; background-color: #aeaeae;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"):t.target.style.cssText="position: relative;bottom: 20px; background-color: #aeaeae;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"},handleCommand:function(t){this.$message("click on item "+t),this.$router.push({path:"/studentindex/gpartical"})},goArtical:function(){this.$router.push({path:"/studentindex/gpartical"})}}},Ns={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"head"},[a("div",{staticClass:"top1"},[a("ul",[a("li",{ref:"soli1",on:{click:function(e){return e.stopPropagation(),t.first(e)},mouseover:function(e){return e.stopPropagation(),t.first(e)}}},[t._v("首页")]),t._v(" "),t._l(t.$store.state.columns,function(e,i){return i<5?a("li",{key:i,ref:"soli",refInFor:!0,staticClass:"soli",on:{click:function(e){e.stopPropagation(),t.cli(e,i)},mouseover:function(e){e.stopPropagation(),t.cli(e)}}},[t._v(t._s(e.name))]):t._e()}),t._v(" "),a("li",{ref:"soli2",on:{click:function(e){return e.target!==e.currentTarget?null:t.first(e)},mouseover:function(e){return e.target!==e.currentTarget?null:t.first(e)}}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n              更多\n              "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.$store.state.columns,function(e,i){return i>=5?a("el-dropdown-item",{key:i,attrs:{icon:"el-icon-plus",command:i}},[t._v(t._s(e.name))]):t._e()}),1)],1)],1)],2)])]),t._v(" "),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",[t._v("1")])],1)],1)},staticRenderFns:[]};a("VU/8")(Ps,Ns,!1,function(t){a("ObQt")},"data-v-338b8063",null).exports;var Ws={data:function(){return{disabled:!0,defaultProps:{children:"children",label:"name",value:"id"},options:[],items:[{message:"用手机注册"},{message:"用邮箱注册"}],index:1,select:"",values:{person:"",password:"",againpass:"",ID:"",name:"",time:"",sex:0,family:"",pass:"",class:[],phone:"",college_id:""},pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]}}},created:function(){this.values.time=new Date,this.getList()},methods:{handleItemChange:function(t){console.log(t),this.values.class=t},getgroup:function(t){var e=this;this.axios.get("/api/v1/tools/selectCollegeUnit?id="+t).then(function(t){console.log(t);var a=t.data.data,i=[];e.func(a,i),e.options=i,console.log(i)}),console.log(e.options)},selecrcs:function(){var t=this.values.college_id;t&&(this.getgroup(t),this.disabled=!1)},getList:function(){var t=this;this.axios.get("/api/v1/admin/tool/select/college").then(function(e){0==e.data.code&&(t.select=e.data.data)})},func:function(t,e){for(var a in t)if(e.push(t[a]),0!==t[a].items.length){var i=[];t[a].children=i,this.func(t[a].items,i)}},show:function(t){this.index=t,1==t?(this.$refs.el[1].style.cssText="border-bottom:2px solid #E6E6E6;border-top:2px solid #E6E6E6;",this.$refs.el[0].style.cssText="border-bottom:none;border-top:3px solid #2E7DBF;"):(this.$refs.el[0].style.cssText="border-bottom:2px solid #E6E6E6;border-top:2px solid #E6E6E6;",this.$refs.el[1].style.cssText="border-bottom:none;border-top:3px solid #2E7DBF;")},getphone:function(){this.axios.get("////").then(function(){console.log(1)});var t=this.$refs.getyzm;t.setAttribute("disabled","disabled"),console.log(111),setTimeout(function(){t.style.opacity="0.7"},1e3);var e=60,a=setInterval(function(){t.value=+--e+"秒后获取",0==e&&(console.log(e),t.setAttribute("disabled",!1),clearInterval(a),t.value="重新获取验证码")},1e3)},checkSex:function(t){var e=t.target.value;this.values.sex="男"==e?0:1,this.$refs.sex1.style.backgroundColor="",this.$refs.sex2.style.backgroundColor="",t.target.style.backgroundColor="#5bb95a"},register:function(){if(this.values.class)var t=this.values.class[this.values.class.length-1];if(this.values.person&&this.values.password&&this.values.againpass&&this.values.name&&this.values.class&&this.values.college_id)if(this.values.password===this.values.againpass){var e={},a={account:this.values.person,password:q()(this.values.password),password_confirm:q()(this.values.againpass),job_num:this.values.ID,name:this.values.name,unit_group:t,sex:this.values.sex,birth_date:this.values.time,nation:this.values.family,phone:this.values.phone,id_card:this.values.pass,college_id:this.values.college_id};for(var i in a)a[i]&&(e[i]=a[i]);console.log(e);var n=this;this.axios.post("/api/v1/user/register",e).then(function(t){console.log(t),0==t.data.code?n.$alert("<strong>注册成功</strong>","提示",{dangerouslyUseHTMLString:!0}).then(function(){n.$router.go(-1)}):alert(t.data.msg)})}else this.$message("两次输入密码不相同");else this.$message("带*的输入框必须要填")},check:function(){var t=this.$refs.mmpwd.value,e=this.$refs.mmpd,a=this.$refs.lv1,i=this.$refs.lv2,n=this.$refs.lv3;if(0==t.length)e.innerHTML="密码由数字,字母或下划线组成";else if(t.length<4)e.innerHTML="密码长度不能小于4个字符!",a.style.borderTopColor="",i.style.borderTopColor="",n.style.borderTopColor="";else if(t.length>=4&&t.length<=20){e.innerHTML="";t.match(/^[0-9]{4,20}$|^[a-zA-Z]{4,20}$/)?(console.log(1),a.style.borderTopColor="red",i.style.borderTopColor="",n.style.borderTopColor=""):t.match(/^[A-Za-z0-9]{4,20}$/)?(a.style.borderTopColor="",i.style.borderTopColor="",n.style.borderTopColor="yellow"):t.match(/^\w{4,20}$/)&&(a.style.borderTopColor="",i.style.borderTopColor="",n.style.borderTopColor="green")}else t.length>20&&(e.innerHTML="密码长度不能大于20个字符!",a.style.borderTopColor="gainsboro",i.style.borderTopColor="gainsboro",n.style.borderTopColor="gainsboro")}},components:{schoolcheck:W}},Us={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"back"},[a("div",{staticClass:"register"},[a("div",{staticClass:"box"},[a("div",{staticClass:"heads"},[t._v("\n        注册账号\n        "),a("router-link",{staticStyle:{color:"#009fe7"},attrs:{to:"/login"}},[t._v("[登录]")])],1),t._v(" "),a("ul",{staticClass:"body"},[[a("li",[a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("账号：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.person,expression:"values.person"}],attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:t.values.person},on:{input:function(e){e.target.composing||t.$set(t.values,"person",e.target.value)}}}),t._v(" "),a("i",[t._v("*")])]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.password,expression:"values.password"}],ref:"mmpwd",attrs:{type:"password",id:"mm-pwd",placeholder:"设置密码",name:"password"},domProps:{value:t.values.password},on:{keyup:function(e){t.check()},input:function(e){e.target.composing||t.$set(t.values,"password",e.target.value)}}}),t._v(" "),a("i",[t._v("*")]),t._v(" "),a("br"),t._v(" "),a("span",{ref:"mmpd",staticStyle:{color:"red","font-size":"12px","line-height":"30px"},attrs:{id:"mm-pd"}}),t._v(" "),a("div",{staticClass:"mm-btm"},[a("div",{ref:"lv1",attrs:{id:"lv1"}},[t._v("弱")]),t._v(" "),a("div",{ref:"lv2",attrs:{id:"lv2"}},[t._v("中")]),t._v(" "),a("div",{ref:"lv3",attrs:{id:"lv3"}},[t._v("强")])]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("确认密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.againpass,expression:"values.againpass"}],ref:"againpass",attrs:{type:"password",placeholder:"确认密码",name:"againpass"},domProps:{value:t.values.againpass},on:{input:function(e){e.target.composing||t.$set(t.values,"againpass",e.target.value)}}}),t._v(" "),a("i",[t._v("*")])])]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("学号：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.ID,expression:"values.ID"}],ref:"ID",attrs:{type:"text",placeholder:"请输入学号",name:"ID"},domProps:{value:t.values.ID},on:{input:function(e){e.target.composing||t.$set(t.values,"ID",e.target.value)}}}),t._v(" "),a("i",[t._v("*")])]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("姓名：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.name,expression:"values.name"}],ref:"name",attrs:{type:"text",placeholder:"请输入姓名",name:"name"},domProps:{value:t.values.name},on:{input:function(e){e.target.composing||t.$set(t.values,"name",e.target.value)}}}),t._v(" "),a("i",[t._v("*")])]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("出生日期：")]),t._v(" "),a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1},model:{value:t.values.time,callback:function(e){t.$set(t.values,"time",e)},expression:"values.time"}})],1),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("性别：")]),t._v(" "),a("input",{ref:"sex1",attrs:{type:"button",value:"男",name:"sex1"},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("input",{ref:"sex2",attrs:{type:"button",value:"女",name:"sex2"},on:{click:function(e){t.checkSex(e)}}})]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("民族：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.family,expression:"values.family"}],ref:"name",attrs:{type:"text",placeholder:"请输入名族",name:"name"},domProps:{value:t.values.family},on:{input:function(e){e.target.composing||t.$set(t.values,"family",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("手机：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.phone,expression:"values.phone"}],ref:"phone",attrs:{type:"text",placeholder:"请输入手机",name:"phone"},domProps:{value:t.values.phone},on:{input:function(e){e.target.composing||t.$set(t.values,"phone",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("身份证：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.pass,expression:"values.pass"}],ref:"pass",attrs:{type:"text",placeholder:"请输入身份证",name:"pass"},domProps:{value:t.values.pass},on:{input:function(e){e.target.composing||t.$set(t.values,"pass",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("所属学校：")]),t._v(" "),a("el-select",{staticStyle:{width:"202px"},attrs:{placeholder:"请和你老师的所属学校一致"},on:{change:t.selecrcs},model:{value:t.values.college_id,callback:function(e){t.$set(t.values,"college_id",e)},expression:"values.college_id"}},t._l(t.select,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),t._v(" "),a("i",[t._v("*")])],1),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("班级：")]),t._v(" "),a("div",{staticClass:"schoolcheck"},[a("el-cascader",{attrs:{options:t.options,props:t.defaultProps,disabled:t.disabled},on:{change:t.handleItemChange},model:{value:t.values.class,callback:function(e){t.$set(t.values,"class",e)},expression:"values.class"}}),t._v(" "),a("i",[t._v("*")])],1)]),t._v(" "),a("br"),t._v(" "),a("em",[t._v("注：带*为必填项")]),t._v(" "),a("br"),t._v(" "),a("input",{attrs:{type:"button",value:"提交",name:"btn"},on:{click:t.register}})])]],2)])]),t._v(" "),a("div",{staticClass:"bottom"})])},staticRenderFns:[]};var Bs=a("VU/8")(Ws,Us,!1,function(t){a("40TS")},"data-v-9a7d5142",null).exports,Os={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n    找回密码\n")])},staticRenderFns:[]};var Ms=a("VU/8")({},Os,!1,function(t){a("wtMr")},"data-v-60c678f8",null).exports,qs={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("div",{staticClass:"return"},[e("a",{attrs:{href:"javascript:history.back()"}},[this._v("返回")])]),this._v(" "),e("div",{staticClass:"body"},[e("img",{attrs:{src:a("ed9p"),alt:""}})])])}]};var Hs=a("VU/8")({},qs,!1,function(t){a("ZKlR")},"data-v-06ed24fe",null).exports,Ys={data:function(){return{moduleName:"userInfo",loginloading:!1,logindesc:"",logintitle:"超级管理员心理系统",ruleForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入账号"}],password:[{required:!0,message:"请输入密码"}]}}},created:function(){sessionStorage.removeItem("zsylocalInfo"),sessionStorage.removeItem("zsylocalTabs"),console.clear()},methods:{submitForm:function(){var t=this;t.$refs.ruleForm.validate(function(e){if(e){t.loginloading=!0;var a=t.ruleForm;sessionStorage.setItem("zsylocalInfo",a.username)}})},resetForm:function(){this.$refs.ruleForm.resetFields()}}},Gs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-wrap"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loginloading,expression:"loginloading"}],staticClass:"login-content",attrs:{"element-loading-text":"正在登录..."}},[a("div",{staticClass:"ms-title"},[t._v(t._s(t.logintitle))]),t._v(" "),a("el-form",{ref:"ruleForm",attrs:{"label-position":"right",model:t.ruleForm,rules:t.rules,size:"mini","label-width":"0px"}},[a("el-form-item",{attrs:{label:"",prop:"username"}},[a("el-input",{staticClass:"inputwinth240",attrs:{maxlength:20},model:{value:t.ruleForm.username,callback:function(e){t.$set(t.ruleForm,"username",e)},expression:"ruleForm.username"}},[a("template",{slot:"prepend"},[t._v("帐号")])],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"",prop:"password"}},[a("el-input",{staticClass:"inputwinth240",attrs:{type:"password",maxlength:20},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.submitForm()}},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}},[a("template",{slot:"prepend"},[t._v("密码")])],2)],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"inputwinth240 login-height",attrs:{type:"primary"},on:{click:function(e){t.submitForm()}}},[t._v("登录")])],1)],1)],1)])},staticRenderFns:[]};var Zs=a("VU/8")(Ys,Gs,!1,function(t){a("XbLQ")},"data-v-b46f9326",null).exports,Xs={data:function(){return{data4:[],defaultProps:{children:"children",label:"menu_name"},dialogFormVisible:!1,dialogFormVisible1:!1,dialogFormVisible2:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["学校管理"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/super/college/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list)})},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t)},handleSizeChange:function(t){this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){var t=this;this.axios.post("/api/v1/super/college/save",{id:this.form1.id,name:this.form1.name,desc:this.form1.unit_name}).then(function(e){0==e.data.code?(t.$message("编辑成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelete:function(t,e){var a=this,i=[];if(e)i.push(e.id);else{if(0===this.multipleSelection.length)return void this.$message("请确定选中了选项");this.multipleSelection.map(function(t){i.push(t.id)})}var n=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/super/college/delete",{id:i}).then(function(t){0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;this.axios.post("/api/v1/super/college/save",{name:t.form.name,desc:t.form.unit_name}).then(function(e){0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},navbardata:function(){var t=this;this.axios.get("/api/v1/admin/menu").then(function(e){var a=[];var i=function t(e,a){for(var i in e)if(0!==e[i].items.length){for(var n in e[i].items)if(0==e[i].items[n].flag){e[i].items=[];break}t(e[i].items,a)}return e}(e.data.data,[]);t.func(i,a),t.data4=a})},func:function(t,e){for(var a in t)if(e.push(t[a]),0!==t[a].items){var i=[];t[a].children=i,this.func(t[a].items,i)}},handlepage:function(){this.dialogFormVisible2=!0,this.navbardata()}},components:{headson:H.a}},Js={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data vrdata"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"序号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1+e.$index))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"学校名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"desc",label:"学校简介"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("编辑")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"学校添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"学校名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"学校简介","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"500px"},attrs:{autocomplete:"off",type:"textarea"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"学校管理编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"学校名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"学校简介","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"500px"},attrs:{autocomplete:"off",type:"textarea"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"学校界面管理",visible:t.dialogFormVisible2,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[a("el-tree",{attrs:{"show-checkbox":"",data:t.data4,props:t.defaultProps,"node-key":"id","default-expanded-keys":[5],"default-checked-keys":[5],"expand-on-click-node":!1}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Qs=a("VU/8")(Xs,Js,!1,function(t){a("zt1r")},"data-v-e0ef9462",null).exports,Ks={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["超级管理员管理"],tableData:[],data:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.tableData=this.data,this.axios.post("/api/v1/super/user/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){console.log(e),this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.$router.push({path:"/school/settingtprincipal",query:{id:e.id,name:e.college}})},editsure:function(){var t=this;this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("编辑成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelete:function(t,e){var a=this,i=[];e?i.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){i.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/super/user/delete",{id:i}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.$router.push({path:"/school/addprincipal"})},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:H.a}},to={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n          删除\n          "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data vrdata"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{property:"account",label:"账号"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"校长名字"}}),t._v(" "),a("el-table-column",{attrs:{property:"college",label:"所属学校"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("查看")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"学校添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"学校名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"学校简介","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"学校管理编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"学校名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"学校简介","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var eo=a("VU/8")(Ks,to,!1,function(t){a("6UkJ")},"data-v-478119c9",null).exports,ao={data:function(){return{disabledInput:!0,school:!1,select:[],xz:"1",save:!0,id:this.$route.query.id,name:this.$route.query.name,detail:{},status:"",cropper:!1,newimgsrc:"",visible1:!1,visible2:!1,values:{account:"",password:"",job_num:"",name:"",sex:"",birth_day:"",id_card:"",phone:"",college_id:"",college:""},detaildata:{},gradename:"",pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},headson:["管理员资料修改","修改管理员资料"],tabls:["基本信息"],tabindex:1}},watch:{},created:function(){console.log(this.$refs.schoolcheck1),this.getList(),this.baseinfo(this.id)},methods:{getList:function(){var t=this;this.axios.get("/api/v1/super/college/select").then(function(e){0==e.data.code&&(t.select=e.data.data,console.log(t.select))})},tab:function(t){console.log(t),this.tabindex=t-0+1},baseinfo:function(t){console.log(t);var e=this;e.axios.get("/api/v1/super/user/detail/"+t).then(function(t){var a=t.data.data,i={id:a.college_id,name:e.name};e.select.push(i);e.select.map(function(t,e){t.id==a.college_id&&(a.college=t.name)}),0==a.sex?e.values.sex=0:e.values.sex=1,e.detail=a,y.a.set("detail",a)})},setadmin1:function(){this.disabledInput=!1},setadmin:function(){this.values.password=this.detail.password,this.values.account=this.detail.account,this.values.job_num=this.detail.job_num,this.values.name=this.detail.name,this.values.sex,this.values.birth_day=this.detail.birth_date,this.values.id_card=this.detail.id_card,this.values.phone=this.detail.phone,this.values.college_id=this.detail.college_id;var t=this;console.log(this.values,t.detaildata),this.values.sex=this.values.sex+"";var e={},a=JSON.parse(y.a.get("detail"));for(var i in this.values)this.values[i]&&this.values[i]!==a[i]&&(this.values.password=q()(this.values.password),e[i]=this.values[i]);console.log(e,this.values,a),e.id=this.$route.query.id,t.axios.post("/api/v1/super/user/save",e).then(function(e){0==e.data.code?(t.$message("编辑用户成功"),t.$router.go(-1),t.disabledInput=!0):t.$message(e.data.msg)})},returnback:function(){this.$router.go(-1)},checkSex:function(t){"男"==t.target.value?(this.values.sex=1,console.log(this.values.sex,this.values.group)):this.values.sex=0,this.$refs.sex1.style.backgroundColor="",this.$refs.sex2.style.backgroundColor="",t.target.style.backgroundColor="#5bb95a"}},components:{headson:H.a,schoolcheck:W,tables:at,pagination:Y.a,VueCropper:b.VueCropper}},io={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,i){return a("li",{key:i,class:{tabactive:t.tabindex-1==i},on:{click:function(e){t.tab(i)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"luru"},[t._v("修改校长资料")]),t._v(" "),a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("所属学校：")]),t._v(" "),a("td",[a("el-select",{staticStyle:{width:"202px"},attrs:{disabled:t.disabledInput},model:{value:t.detail.college_id,callback:function(e){t.$set(t.detail,"college_id",e)},expression:"detail.college_id"}},t._l(t.select,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),t._v(" "),a("span",[t._v("*")])],1)]),t._v(" "),a("tr",[a("td",[t._v("账号：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabledInput,placeholder:"请输入账号"},model:{value:t.detail.account,callback:function(e){t.$set(t.detail,"account",e)},expression:"detail.account"}}),t._v(" "),a("span",[t._v("*")])],1)]),t._v(" "),a("tr",{},[a("td",[t._v("密码：")]),t._v(" "),a("td",[[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabledInput,placeholder:"请输入密码",type:"password"},model:{value:t.detail.password,callback:function(e){t.$set(t.detail,"password",e)},expression:"detail.password"}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("工号：")]),t._v(" "),a("td",[[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabledInput,placeholder:"请输入工号"},model:{value:t.detail.job_num,callback:function(e){t.$set(t.detail,"job_num",e)},expression:"detail.job_num"}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("姓名：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabledInput,placeholder:"请输入姓名"},model:{value:t.detail.name,callback:function(e){t.$set(t.detail,"name",e)},expression:"detail.name"}}),t._v(" "),a("span",[t._v("*")])],1)]),t._v(" "),a("tr",{},[a("td",[t._v("性别：")]),t._v(" "),a("td",[[a("input",{ref:"sex1",style:{backgroundColor:1==t.values.sex?"#5bb95a":""},attrs:{disabled:t.disabledInput,type:"button",name:"sex1",value:"男"},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("input",{ref:"sex2",style:{backgroundColor:0==t.values.sex?"#5bb95a":""},attrs:{disabled:t.disabledInput,name:"sex2",type:"button",value:"女"},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("出生日期：")]),t._v(" "),a("td",[[a("el-date-picker",{attrs:{disabled:t.disabledInput,align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1},model:{value:t.detail.birth_date,callback:function(e){t.$set(t.detail,"birth_date",e)},expression:"detail.birth_date"}})]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("身份证号：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabledInput,placeholder:"请输入身份证号"},model:{value:t.detail.id_card,callback:function(e){t.$set(t.detail,"id_card",e)},expression:"detail.id_card"}}),t._v(" "),a("span",[t._v("*")])],1)]),t._v(" "),a("tr",{},[a("td",[t._v("手机：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabledInput,placeholder:"请输入手机号"},model:{value:t.detail.phone,callback:function(e){t.$set(t.detail,"phone",e)},expression:"detail.phone"}})],1)]),t._v(" "),a("tr",{staticClass:"rolegroup"},[a("td",[t._v("角色类型：")]),t._v(" "),a("td",[[a("el-select",{attrs:{disabled:""},model:{value:t.xz,callback:function(e){t.xz=e},expression:"xz"}},[a("el-option",{attrs:{label:"校长",value:"1"}})],1),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td"),t._v(" "),a("td",[[a("div",[a("div",{style:{"text-align":"center",width:"200px","vertical-align":"center"}},[t._v("带*必填")]),t._v(" "),t.disabledInput?a("input",{staticClass:"add",attrs:{type:"button",value:"修改"},on:{click:t.setadmin1}}):a("input",{staticClass:"add",attrs:{type:"button",value:"保存"},on:{click:t.setadmin}}),t._v(" "),a("input",{staticClass:"return",attrs:{type:"button",value:"返回"},on:{click:t.returnback}})])]],2)])])]):t._e()])],1)},staticRenderFns:[]};var no=a("VU/8")(ao,io,!1,function(t){a("wMm/")},"data-v-049f9313",null).exports,so={data:function(){return{disabledInput:!1,select:"",schoolid:1,xz:"1",save:!0,id:this.$route.query.id,status:"",cropper:!1,newimgsrc:"",visible1:!1,visible2:!1,detail:{account:"",password:"",job_num:"",name:"",sex:"",birth_day:"",id_card:"",phone:"",college_id:""},gradename:"",pickerOptions1:{shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},headson:["增加校级管理员","校级的超级管理员"],tabls:["基本信息"],tabindex:1}},watch:{},created:function(){this.getList()},methods:{getList:function(){var t=this;this.axios.get("/api/v1/super/college/select").then(function(e){console.log(e),0==e.data.code&&(t.select=e.data.data)})},tab:function(t){console.log(t),this.tabindex=t-0+1},setadmin:function(){var t=this;this.detail.sex=this.detail.sex+"",this.detail.password&&this.detail.job_num&&this.detail.name&&this.detail.account&&this.detail.sex&&this.detail.college_id&&this.detail.id_card?(this.detail.sex=this.detail.sex-0,this.detail.password=q()(this.detail.password),console.log(t.detail),t.axios.post("/api/v1/super/user/save",t.detail).then(function(e){0==e.data.code?(t.$message("增加校长用户成功"),t.disabledInput=!0):t.$message(e.data.msg)})):t.$message("密码或者工号或者班级，账号 性别，身份证，姓名一定不为空值")},returnback:function(){this.$router.go(-1)},checkSex:function(t){"男"==t.target.value?(this.detail.sex=1,console.log(this.detail.sex)):this.detail.sex=0,this.$refs.sex1.style.backgroundColor="",this.$refs.sex2.style.backgroundColor="",t.target.style.backgroundColor="#5bb95a"}},components:{headson:H.a,schoolcheck:W,tables:at,pagination:Y.a,VueCropper:b.VueCropper}},oo={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,i){return a("li",{key:i,class:{tabactive:t.tabindex-1==i},on:{click:function(e){t.tab(i)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"luru"},[t._v("添加管理员资料")]),t._v(" "),a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("所属学校：")]),t._v(" "),a("td",[a("el-select",{staticStyle:{width:"202px"},attrs:{disabled:t.disabledInput},model:{value:t.detail.college_id,callback:function(e){t.$set(t.detail,"college_id",e)},expression:"detail.college_id"}},t._l(t.select,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),t._v(" "),a("span",[t._v("*")])],1)]),t._v(" "),a("tr",[a("td",[t._v("账号：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabledInput,placeholder:"请输入账号"},model:{value:t.detail.account,callback:function(e){t.$set(t.detail,"account",e)},expression:"detail.account"}}),t._v(" "),a("span",[t._v("*")])],1)]),t._v(" "),a("tr",{},[a("td",[t._v("密码：")]),t._v(" "),a("td",[[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabledInput,type:"password",placeholder:"请输入账密码"},model:{value:t.detail.password,callback:function(e){t.$set(t.detail,"password",e)},expression:"detail.password"}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("工号：")]),t._v(" "),a("td",[[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabledInput,placeholder:"请输入工号"},model:{value:t.detail.job_num,callback:function(e){t.$set(t.detail,"job_num",e)},expression:"detail.job_num"}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("姓名：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabledInput,placeholder:"请输入姓名"},model:{value:t.detail.name,callback:function(e){t.$set(t.detail,"name",e)},expression:"detail.name"}}),t._v(" "),a("span",[t._v("*")])],1)]),t._v(" "),a("tr",{},[a("td",[t._v("性别：")]),t._v(" "),a("td",[[a("input",{ref:"sex1",style:{backgroundColor:1===t.detail.sex?"#5bb95a":""},attrs:{disabled:t.disabledInput,type:"button",name:"sex1",value:"男"},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("input",{ref:"sex2",style:{backgroundColor:0===t.detail.sex?"#5bb95a":""},attrs:{disabled:t.disabledInput,name:"sex2",type:"button",value:"女"},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("出生日期：")]),t._v(" "),a("td",[[a("el-date-picker",{attrs:{disabled:t.disabledInput,align:"right",type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions1},model:{value:t.detail.birth_day,callback:function(e){t.$set(t.detail,"birth_day",e)},expression:"detail.birth_day"}})]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("身份证号：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabledInput,placeholder:"请输入身份证"},model:{value:t.detail.id_card,callback:function(e){t.$set(t.detail,"id_card",e)},expression:"detail.id_card"}}),t._v(" "),a("span",[t._v("*")])],1)]),t._v(" "),a("tr",{},[a("td",[t._v("手机：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabledInput,placeholder:"请输入手机号"},model:{value:t.detail.phone,callback:function(e){t.$set(t.detail,"phone",e)},expression:"detail.phone"}})],1)]),t._v(" "),a("tr",{staticClass:"rolegroup"},[a("td",[t._v("类型：")]),t._v(" "),a("td",[[a("el-select",{attrs:{disabled:""},model:{value:t.xz,callback:function(e){t.xz=e},expression:"xz"}},[a("el-option",{attrs:{label:"校长",value:"1"}})],1)]],2)]),t._v(" "),a("tr",{},[a("td"),t._v(" "),a("td",[[a("div",[a("div",{style:{"text-align":"center",width:"200px","vertical-align":"center"}},[t._v("带*必填")]),t._v(" "),a("input",{staticClass:"add",attrs:{type:"button",value:"保存"},on:{click:t.setadmin}}),t._v(" "),a("input",{staticClass:"return",attrs:{type:"button",value:"返回"},on:{click:t.returnback}})])]],2)])])]):t._e()])],1)},staticRenderFns:[]};var lo=a("VU/8")(so,oo,!1,function(t){a("aysv")},"data-v-0cf3732a",null).exports,ro={data:function(){var t;return{loading:!1,roles:"",activeName:"",mousflag:0,fileList:[],timu:"",dialogFormVisible:!1,dialogFormVisible1:!1,form1:(t={name:"",view_name:"",short_name:"",ctgy_id:"",min_age:""},v()(t,"min_age",""),v()(t,"intro",""),v()(t,"guide",""),t),formLabelWidth:"100px",headson:["系统量表","系统量表管理"],editableTabs:[],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:10,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:"",query:""}},mounted:function(){},created:function(){this.gettype(),this.remoteMethod()},methods:{setstaus:function(t,e){console.log(t,e),this.axios.post("/api/v1/system/scale/saveScaleVisible?id="+e.id,{is_visible:t}).then(function(t){0==t.data.code&&alert("设置成功")})},gettype:function(){var t=this;this.axios.get("/api/v1/tools/selectScaleTypeList").then(function(e){0==e.data.code&&(t.editableTabs=e.data.data,t.editableTabs.map(function(t,e){t.id=t.id+""}),t.activeName=t.editableTabs[0].id,t.getlist(t.page.currentpage,t.page.pagesize))})},remoteMethod:function(t){console.log(t);var e=this;this.axios.get("/api/v1/tools/selectScaleTypeList?id="+t).then(function(t){console.log(t),0==t.data.code&&(e.roles=t.data.data)})},changevalue:function(t){this.roles.map(function(t,e){t.id})},show:function(){this.dialogFormVisible=!0,console.log(1)},useqrcode:function(){var t=document.getElementById("canvas");console.log(1),wa.a.toCanvas(t,"http://psy.hxxlcloud.com/mpsycholo/ ",function(t){t&&console.error(t),console.log("QRCode success!")})},getlist:function(t,e){var a=this;this.axios.post("/api/v1/system/scale/getScaleList",{page:t,size:e,type:a.activeName}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.count,a.tableData=t.data.data.list)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.$router.push({path:"/school/gloEditsheet",query:{id:e.id}})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/system/scale/delScaleBaseInfo",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible1=!0},makesure:function(){if(this.form1.min_age-0>this.form1.max_age-0)return this.$message("最小年龄不能大于最大年龄"),!1;this.dialogFormVisible1=!1;var t=this;this.axios.post("/api/v1/system/scale/saveScaleInfo",this.form1).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleClick:function(t,e){this.activeName=t.name;this.getlist(this.page.currentpage,this.page.pagesize)}},components:{headson:H.a}},co={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.editableTabs,function(t,e){return a("el-tab-pane",{key:e,attrs:{label:t.name,name:t.id}})}),1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"专业名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"view_name",label:"友好名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"short_name",label:"英文简称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"topic_count",label:"题数"}}),t._v(" "),a("el-table-column",{attrs:{label:"适用年龄"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.min_age+" — "+e.row.max_age))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-switch",{attrs:{"active-text":"开","inactive-text":"关","active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},on:{change:function(a){t.setstaus(a,e.row)}},model:{value:e.row.is_visible,callback:function(a){t.$set(e.row,"is_visible",a)},expression:"scope.row.is_visible"}})]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"量表二维码",visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e},opened:t.useqrcode}},[a("canvas",{ref:"canvas",staticStyle:{"margin-left":"150px"},attrs:{id:"canvas"}})]),t._v(" "),a("el-dialog",{attrs:{title:"上传量表",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{ref:"form",attrs:{model:t.form1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别"}},[a("el-select",{attrs:{filterable:"","reserve-keyword":"",placeholder:"请输入关键词搜索",loading:t.loading,"value-key":""},on:{change:t.changevalue},model:{value:t.form1.ctgy_id,callback:function(e){t.$set(t.form1,"ctgy_id",e)},expression:"form1.ctgy_id"}},t._l(t.roles,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"专业名称"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"友好名称"}},[a("el-input",{model:{value:t.form1.view_name,callback:function(e){t.$set(t.form1,"view_name",e)},expression:"form1.view_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"英文简称"}},[a("el-input",{model:{value:t.form1.short_name,callback:function(e){t.$set(t.form1,"short_name",e)},expression:"form1.short_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"适用年龄"}},[a("el-input",{staticStyle:{width:"90px"},attrs:{onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}",rules:[{required:!0,message:"年龄不能为空"},{type:"number",message:"年龄必须为数字值"}]},model:{value:t.form1.min_age,callback:function(e){t.$set(t.form1,"min_age",e)},expression:"form1.min_age"}}),t._v("-\n        "),a("el-input",{staticStyle:{width:"90px"},attrs:{onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}",rules:[{required:!0,message:"年龄不能为空"},{type:"number",message:"年龄必须为数字值"}]},model:{value:t.form1.max_age,callback:function(e){t.$set(t.form1,"max_age",e)},expression:"form1.max_age"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"简介"}},[a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.form1.intro,callback:function(e){t.$set(t.form1,"intro",e)},expression:"form1.intro"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"指导语"}},[a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.form1.guide,callback:function(e){t.$set(t.form1,"guide",e)},expression:"form1.guide"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.makesure}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]};var uo=a("VU/8")(ro,co,!1,function(t){a("djP9")},"data-v-1b6929e0",null).exports,mo={data:function(){var t;return{loading:!1,disabled:!0,roles:"",timu:"",dialogFormVisible:!1,dialogFormVisible1:!1,detail:{},form:(t={name:"",view_name:"",short_name:"",ctgy_id:"",min_age:""},v()(t,"min_age",""),v()(t,"intro",""),v()(t,"guide",""),t),form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["系统量表","系统量表编辑"],topicflag:!1,links:"http://"+window.location.host+"/scale.xlsx"}},created:function(){this.getdetail(this.$route.query.id),this.getquestion(this.$route.query.id),console.log(window.location.host)},methods:{getquestion:function(t){var e=this;this.axios.get("/api/v1/system/scale/getScaleTopic?id="+t).then(function(t){console.log(t),0==t.data.code&&(e.timu=t.data.data,0==e.timu.length?e.topicflag=!1:e.topicflag=!0)})},getdetail:function(t){var e=this;this.axios.get("/api/v1/system/scale/getScaleDetail?id="+t).then(function(t){if(0==t.data.code){e.detail=t.data.data;var a=e.detail.type_name;e.remoteMethod(a)}console.log(t)})},remoteMethod:function(t){console.log(t);var e=this;this.axios.get("/api/v1/tools/selectScaleTypeList?id="+t).then(function(t){console.log(t),0==t.data.code&&(e.roles=t.data.data)})},changevalue:function(t){var e=this;e.roles.map(function(a,i){a.id==t&&(e.counselorname=a.name)})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?that.$message("编辑成功"):that.$message(t.data.msg)})},check:function(){this.disabled=!1},makesure:function(){this.form.ctgy_id||(this.form.ctgy_id=this.detail.type_id),this.form.name=this.detail.name,this.form.view_name=this.detail.view_name,this.form.short_name=this.detail.short_name,this.form.ctgy_id,this.form.min_age=this.detail.min_age,this.form.max_age=this.detail.max_age,this.form.intro=this.detail.intro,this.form.guide=this.detail.guide;var t=this;if(console.log(this.values),this.form.min_age-0>this.form.max_age-0)return this.$message("最小年龄不能大于最大年龄"),!1;this.axios.post("/api/v1/system/scale/saveScaleInfo?id="+this.$route.query.id,this.form).then(function(e){console.log(e),0==e.data.code?t.$message("编辑成功"):t.$message(e.data.msg)})},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},success:function(t,e,a){var i=this,n=t.data.file_name,s=t.data.suffix;i.axios.post("/api/v1/system/scale/importTopic",{id:this.$route.query.id,suffix:s,file_name:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("上传题库成功"),i.getquestion(i.$route.query.id)):i.$message(t.data.msg)})}},components:{headson:H.a}},po={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"data"},[a("table",{staticStyle:{"border-top":"2px solid #6699FF","border-bottom":"2px solid #6699FF"},attrs:{width:"100%",cellpadding:"4"}},[a("tbody",{staticClass:"data1"},[a("tr",[a("td",{attrs:{nowrap:""}},[t._v("量表名称：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabled},model:{value:t.detail.name,callback:function(e){t.$set(t.detail,"name",e)},expression:"detail.name"}})],1)]),t._v(" "),a("tr",[a("td",{attrs:{nowrap:""}},[t._v("量表类别：")]),t._v(" "),a("td",[[a("div",[a("el-select",{staticStyle:{width:"200px"},attrs:{disabled:t.disabled,filterable:"","reserve-keyword":"",placeholder:"请输入关键词搜索",loading:t.loading,"value-key":""},on:{change:t.changevalue},model:{value:t.detail.type_id,callback:function(e){t.$set(t.detail,"type_id",e)},expression:"detail.type_id"}},t._l(t.roles,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)]],2)]),t._v(" "),a("tr",[a("td",{attrs:{nowrap:""}},[t._v("友好名称：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabled},model:{value:t.detail.view_name,callback:function(e){t.$set(t.detail,"view_name",e)},expression:"detail.view_name"}})],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"border-top":"1px solid #6699FF"}},[t._v("英 文：")]),t._v(" "),a("td",{staticStyle:{"border-top":"1px solid #6699FF"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabled},model:{value:t.detail.short_name,callback:function(e){t.$set(t.detail,"short_name",e)},expression:"detail.short_name"}})],1)]),t._v(" "),t.disabled?a("tr",[a("td",{attrs:{nowrap:""}},[t._v("题目数：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:t.disabled,onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}"},model:{value:t.detail.topic_count,callback:function(e){t.$set(t.detail,"topic_count",e)},expression:"detail.topic_count"}})],1)]):t._e(),t._v(" "),a("tr",[a("td",{attrs:{nowrap:""}},[t._v("适用年龄：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"90px"},attrs:{onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}",disabled:t.disabled,rules:[{required:!0,message:"年龄不能为空"},{type:"number",message:"年龄必须为数字值"}]},model:{value:t.detail.min_age,callback:function(e){t.$set(t.detail,"min_age",e)},expression:"detail.min_age"}}),t._v("-\n              "),a("el-input",{staticStyle:{width:"90px"},attrs:{onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}",disabled:t.disabled,rules:[{required:!0,message:"年龄不能为空"},{type:"number",message:"年龄必须为数字值"}]},model:{value:t.detail.max_age,callback:function(e){t.$set(t.detail,"max_age",e)},expression:"detail.max_age"}})],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"border-top":"1px solid #6699FF"},attrs:{valign:"top"}},[t._v("简 介：")]),t._v(" "),a("td",{staticStyle:{"border-top":"1px solid #6699FF"}},[a("el-input",{attrs:{type:"textarea",disabled:t.disabled,autosize:{minRows:7,maxRows:50}},model:{value:t.detail.intro,callback:function(e){t.$set(t.detail,"intro",e)},expression:"detail.intro"}})],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"border-top":"1px solid #6699FF"},attrs:{valign:"top"}},[t._v("指导语：")]),t._v(" "),a("td",{staticStyle:{"border-top":"1px solid #6699FF"}},[a("el-input",{attrs:{type:"textarea",disabled:t.disabled,autosize:{minRows:7,maxRows:50}},model:{value:t.detail.guide,callback:function(e){t.$set(t.detail,"guide",e)},expression:"detail.guide"}})],1)]),t._v(" "),a("tr",[a("td",{attrs:{valign:"top"}},[t._v("测试题：")]),t._v(" "),a("td",[a("el-upload",{staticClass:"upload-demo",staticStyle:{width:"200px",display:"inline-block","vertical-align":"top"},attrs:{action:"/api/v1/system/scale/upload",headers:{"X-Token":this.$store.state.token},"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,"on-exceed":t.handleExceed,"on-success":t.success}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传测试题")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传excel文件")])],1),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"}},[a("a",{staticStyle:{color:"#fff","font-size":"16px"},attrs:{href:t.links,download:""}},[t._v("【点击下载模板】")])])],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"border-top":"1px solid #6699FF"},attrs:{valign:"top"}}),t._v(" "),a("td",{staticStyle:{"border-top":"1px solid #6699FF"}},[t.disabled?a("div",{staticClass:"add",on:{click:t.check}},[t._v("修改")]):a("div",{staticClass:"add",on:{click:t.makesure}},[t._v("保存")])])]),t._v(" "),a("tr",[a("td",[t._v("测试题：")]),t._v(" "),a("td",[t.topicflag?t._e():a("span",{staticStyle:{color:"blue","font-size":"12px"}},[t._v("还没有上传题目")])])]),t._v(" "),t.topicflag?a("tr",[a("td"),t._v(" "),a("td",[a("div",{staticClass:"personinfo"},[a("table",[t._m(0),t._v(" "),t._l(t.timu,function(e,i){return a("tr",{key:i},[a("td",{attrs:{align:"center"}},[t._v(t._s(i+1))]),t._v(" "),a("td",[t._v(t._s(e.topic.content))]),t._v(" "),a("td",t._l(e.topic.option,function(e,i){return a("span",{key:i},[t._v(t._s(e[0])+" |")])}),0)])})],2)])])]):t._e()])])]),t._v(" "),t._m(1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("#")]),this._v(" "),e("th",[this._v("题目")]),this._v(" "),e("th",[this._v("备选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"pages"})])}]};var ho=a("VU/8")(mo,po,!1,function(t){a("eG9V")},"data-v-62272779",null).exports,fo={data:function(){return{fileList1:[],fileList2:[],test:"",loading:!1,isbtnActive:!1,mode:[{value:"1",label:"求和"},{value:"2",label:"平均数"}],standmode:[{value:"1",label:"基底分+标准差"},{value:"2",label:"基底分-标准差"},{value:"3",label:"基底分±标准差（区间值）"}],type:[{value:"1",label:"标准分"},{value:"2",label:"基底分"}],selectscale:[],isactive:"",headson:["量表因子","量表因子和因子结算管理"],tabls:["因子信息","因子结算"],tabindex:1,page:{currentPage:1,total:0,flag:!1,size:20},page2:{currentPage:1,total:0,flag:!1,size:20},index1:"",addflag:!1,values:{value1:"",value2:"",value3:""},thead:["id","因子名称","得分计算","操作"],thead1:["结果描述","所属因子","比较上限","比较下限","操作"],tableData1:[],tableData2:[],submitflag:!0,roles:"",dialogFormVisible1:!1,dialogFormVisible2:!1,dialogFormVisible3:!1,dialogFormVisible4:!1,ida:"",idb:"",form1:{name:"",specification:"",calc_mode:"",standard_calc_mode:"1",base_score:"0",std_score:"0",scale_id:""},form2:{name:"",specification:"",calc_mode:"",standard_calc_mode:"1",base_score:"0",std_score:"0",scale_id:""},form3:{name:"",type:1,min:"",max:"",explain:"",suggest:"",factor_id:""},form4:{name:"",type:1,min:"",max:"",explain:"",suggest:"",factor_id:""},multipleSelection:[]}},watch:{},created:function(){this.getList(this.page.currentPage,this.page.size),this.getList1(this.page2.currentPage,this.page2.size),this.getscale()},methods:{getList:function(t,e){var a=this;this.axios.post("/api/v1/system/scale/getScaleFactorList",{page:t,size:e}).then(function(t){var e=t.data.data.list;console.log(e),e.map(function(t,e){switch(console.log(t.calc_mode),1==t.calc_mode?t.mode="求和":t.mode="平均数",t.standard_calc_mode){case 1:t.standmode="基底分+标准差";break;case 2:t.standmode="基底分-标准差";break;case 3:t.standmode="基底分±标准差（区间值）"}}),a.tableData1=e,a.page.total=t.data.data.total})},getList1:function(t,e){var a=this;this.axios.post("/api/v1/system/scale/getFactorCalcList",{page:t,size:e}).then(function(t){var e=t.data.data.list;console.log(e),e.map(function(t,e){1==t.type?t.types="标准分":t.types="基底分"}),console.log(e),a.tableData2=e,a.page2.total=t.data.data.total})},getscale:function(){var t=this;this.axios.get("/api/v1/system/scale/getSelectFactorList").then(function(e){console.log(e),t.selectscale=e.data.data})},remoteMethod:function(t){console.log(t);var e=this;this.axios.get("/api/v1/system/scale/getSelectScaleList?key="+t).then(function(t){console.log(t),0==t.data.code&&(e.roles=t.data.data)})},changevalue:function(t){this.roles.map(function(t,e){t.id})},handleSizeChange:function(t){this.page.size=t,this.getList(this.page.currentPage,this.page.size)},handleCurrentChange:function(t){this.page.currentPage=t,this.getList(this.page.currentPage,this.page.size)},handleSizeChange2:function(t){this.page2.size=t,this.getList1(this.page2.currentPage,this.page2.size)},handleCurrentChange2:function(t){this.page2.currentPage=t,this.getList1(this.page2.currentPage,this.page2.size)},addnumber1:function(){this.dialogFormVisible1=!0,this.remoteMethod("")},addnumber2:function(){this.addflag=!0,this.dialogFormVisible3=!0},submit1:function(){var t=this;for(var e in this.form1)if(console.log(this.form1[e]),!(this.form1[e]+""))return void this.$message("请填全因子信息在增加");this.dialogFormVisible1=!1,this.axios.post("/api/v1/system/scale/saveScaleFactor",this.form1).then(function(e){0==e.data.code?(t.$message("增加因子成功"),t.getList(t.page.currentPage,t.page.size)):t.$message(e.data.msg)})},submit2:function(){var t=this,e=this;for(var a in this.form3){if(this.form3.min-0>=this.form3.max-0)return void this.$message("上限值一定要大于下限值");if(console.log(this.form3[a]),!(this.form3[a]+""))return void this.$message("请填全因子结算信息在增加")}this.dialogFormVisible3=!1,this.axios.post("/api/v1/system/scale/saveFactorCalc",this.form3).then(function(a){0==a.data.code?(e.$message("增加因子成功"),e.getList1(t.page2.currentPage,t.page2.size)):e.$message(a.data.msg)})},setting1:function(t){this.ida=t,this.dialogFormVisible2=!0;var e=this;e.remoteMethod(""),this.axios.get("/api/v1/system/scale/getScaleFactorDetail?id="+t).then(function(t){if(0==t.data.code){var a=t.data.data;a.scale_name;for(var i in e.form2)e.form2[i]=a[i]+"";e.form2.scale_id=a.scale_id}})},makesure1:function(){this.dialogFormVisible2=!1;var t=this;for(var e in this.form2)if(console.log(this.form2[e]),!(this.form2[e]+""))return void this.$message("请填全因子信息在增加");this.axios.post("/api/v1/system/scale/saveScaleFactor?id="+t.ida,this.form2).then(function(e){0==e.data.code?(t.$message("编辑因子成功"),t.getList(t.page.currentPage,t.page.size)):t.$message(e.data.msg)})},setting2:function(t){this.dialogFormVisible4=!0,this.idb=t;var e=this;this.axios.get("/api/v1/system/scale/getFactorCalcDetail?id="+t).then(function(t){if(0==t.data.code){var a=t.data.data.list;for(var i in e.form4)e.form4[i]=a[i]+"";e.form4.factor_id=a.factor_id}})},makesure2:function(){var t=this;this.dialogFormVisible4=!1;var e=this;for(var a in this.form4)if(console.log(this.form4[a]),!(this.form4[a]+""))return void this.$message("请填全因子结算信息在增加");this.form4.min=this.form4.min-0,this.form4.max=this.form4.max-0,this.axios.post("/api/v1/system/scale/saveFactorCalc?id="+e.idb,this.form4).then(function(a){0==a.data.code?(e.$message("编辑因子结算成功"),t.getList1(t.page2.currentPage,t.page2.size)):e.$message(a.data.msg)})},del1:function(t){var e=this,a=[];if(t)a.push(t);else{for(var i=this.$refs.icheck,n=0;n<i.length;n++)if(i[n].checked){var s=i[n].value;a.push(s)}if(0==a.length)return void this.$message("请至少选择一个删除")}console.log(a);var o=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.post("/api/v1/system/scale/delScaleFactor",{id:a}).then(function(t){console.log(t),0==t.data.code?(o.getList(o.page.currentPage,o.page.size),o.$message("删除成功")):o.$message(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},del2:function(t,e){t=[];if(e)t.push(e.id);else{if(0===this.multipleSelection.length)return void this.$message("请确定选中了选项");this.multipleSelection.map(function(e){t.push(e.id)})}var a=this;this.axios.post("/api/v1/system/scale/delFactorCalc",{id:t}).then(function(t){console.log(t),0==t.data.code?(a.getList1(a.page2.currentPage,a.page2.size),a.$message("删除成功")):a.$message(t.data.msg)})},handleDelAll:function(){},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,i=0;i<e.length;i++)0==e[i].checked&&(a=!1);t.checked=a,event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor=""},handleSelectionChange:function(t){this.multipleSelection=t},handleDownload:function(){this.tableData3;for(var t=this.$refs.icheck,e=[],a=[],i=0;i<t.length;i++)if(t[i].checked){var n=t[i].value;console.log(n),e.push(n)}console.log(e);for(i=0;i<e.length;i++)this.tableData3.map(function(t,n){t.sort==e[i]&&a.push(t)});console.log(a);var s=this.thead;To.handleDownload(s,["id","job_num","name","unit_group","phone","auth_group_id","last_login"],a)},tab:function(t){console.log(t),this.tabindex=t-0+1},showtable:function(){console.log(1)},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},changecolor:function(t){this.isactive=t-0+1},colorcancel:function(){this.isactive=""},checknode:function(){console.log(this.$refs.schoolcheck1.newvalue)},reset:function(){}},components:{schoolcheck:W,headson:H.a,pagination:Y.a}},go={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,i){return a("li",{key:i,class:{tabactive:t.tabindex-1==i},on:{click:function(e){t.tab(i)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"body"},[a("div",{staticClass:"work"},[a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:function(e){t.del1()}}},[t._v("\n            删除\n            "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,i){return a("th",{key:i},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.tableData1,function(e,i){return a("tr",{key:i,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(i)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.id},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.id))]),t._v(" "),a("td",{staticClass:"class"},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("td",{staticClass:"class"},[a("span",[t._v(t._s(e.mode))])]),t._v(" "),a("td",[[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.setting1(e.id)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.del1(e.id)}}},[t._v("删除")])]],2)])}),0)])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber1}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"增加因子",visible:t.dialogFormVisible1,width:"550px"},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"手动录入因子信息"}},[a("el-form",{ref:"form",attrs:{model:t.form1,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"因子名称"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属量表"}},[a("el-select",{attrs:{filterable:"","reserve-keyword":"",placeholder:"请输入关键词搜索",loading:t.loading,"value-key":""},on:{change:t.changevalue},model:{value:t.form1.scale_id,callback:function(e){t.$set(t.form1,"scale_id",e)},expression:"form1.scale_id"}},t._l(t.roles,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"因子解释"}},[a("el-input",{model:{value:t.form1.specification,callback:function(e){t.$set(t.form1,"specification",e)},expression:"form1.specification"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"得分计算"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择"},model:{value:t.form1.calc_mode,callback:function(e){t.$set(t.form1,"calc_mode",e)},expression:"form1.calc_mode"}},t._l(t.mode,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submit1}},[t._v("提交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改因子",visible:t.dialogFormVisible2,width:"550px"},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[a("el-form",{ref:"form",attrs:{model:t.form2,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"因子名称"}},[a("el-input",{model:{value:t.form2.name,callback:function(e){t.$set(t.form2,"name",e)},expression:"form2.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属量表"}},[a("el-select",{attrs:{filterable:"","reserve-keyword":"",placeholder:"请输入关键词搜索",loading:t.loading,"value-key":""},on:{change:t.changevalue},model:{value:t.form2.scale_id,callback:function(e){t.$set(t.form2,"scale_id",e)},expression:"form2.scale_id"}},t._l(t.roles,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"因子解释"}},[a("el-input",{model:{value:t.form2.specification,callback:function(e){t.$set(t.form2,"specification",e)},expression:"form2.specification"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"得分计算"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择"},model:{value:t.form2.calc_mode,callback:function(e){t.$set(t.form2,"calc_mode",e)},expression:"form2.calc_mode"}},t._l(t.mode,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.makesure1}},[t._v("提交")])],1)],1)],1)]):a("li",{staticClass:"data3"},[a("div",{staticClass:"body"},[a("div",{staticClass:"work"},[a("span",{staticClass:"reset",on:{click:t.del2}},[t._v("删除")])]),t._v(" "),a("div",{staticClass:"datas"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData2,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"结果描述"}}),t._v(" "),a("el-table-column",{attrs:{prop:"factor_name",label:"所属因子"}}),t._v(" "),a("el-table-column",{attrs:{prop:"max",label:"比较上限"}}),t._v(" "),a("el-table-column",{attrs:{prop:"min",label:"比较下限"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.setting2(e.row.id)}}},[t._v("修改")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page2.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page2.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page2.total},on:{"size-change":t.handleSizeChange2,"current-change":t.handleCurrentChange2}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber2}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"增加因子结算",visible:t.dialogFormVisible3,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible3=e}}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"手动录入因子结算"}},[a("el-form",{ref:"form",attrs:{model:t.form3,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"比较描述"}},[a("el-input",{model:{value:t.form3.name,callback:function(e){t.$set(t.form3,"name",e)},expression:"form3.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属因子"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择"},model:{value:t.form3.factor_id,callback:function(e){t.$set(t.form3,"factor_id",e)},expression:"form3.factor_id"}},t._l(t.selectscale,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"结果解释"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form3.explain,callback:function(e){t.$set(t.form3,"explain",e)},expression:"form3.explain"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"结果建议"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form3.suggest,callback:function(e){t.$set(t.form3,"suggest",e)},expression:"form3.suggest"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"比较上限"}},[a("el-input",{attrs:{type:"number",min:"0"},model:{value:t.form3.max,callback:function(e){t.$set(t.form3,"max",e)},expression:"form3.max"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"比较下限"}},[a("el-input",{attrs:{type:"number",min:"0"},model:{value:t.form3.min,callback:function(e){t.$set(t.form3,"min",e)},expression:"form3.min"}})],1)],1),t._v(" "),a("div",[a("el-button",{on:{click:function(e){t.dialogFormVisible3=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submit2}},[t._v("提交")])],1)],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改因子结算",visible:t.dialogFormVisible4,width:"450px"},on:{"update:visible":function(e){t.dialogFormVisible4=e}}},[a("el-form",{ref:"form",attrs:{model:t.form4,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"比较描述"}},[a("el-input",{model:{value:t.form4.name,callback:function(e){t.$set(t.form4,"name",e)},expression:"form4.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属因子"}},[a("el-select",{staticStyle:{width:"280px"},attrs:{placeholder:"请选择"},model:{value:t.form4.factor_id,callback:function(e){t.$set(t.form4,"factor_id",e)},expression:"form4.factor_id"}},t._l(t.selectscale,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"结果解释"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form4.explain,callback:function(e){t.$set(t.form4,"explain",e)},expression:"form4.explain"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"结果建议"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form4.suggest,callback:function(e){t.$set(t.form4,"suggest",e)},expression:"form4.suggest"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"比较上限"}},[a("el-input",{attrs:{type:"number",min:"0"},model:{value:t.form4.max,callback:function(e){t.$set(t.form4,"max",e)},expression:"form4.max"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"比较下限"}},[a("el-input",{attrs:{type:"number",min:"0"},model:{value:t.form4.min,callback:function(e){t.$set(t.form4,"min",e)},expression:"form4.min"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible4=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.makesure2}},[t._v("提交")])],1)],1)],1)])])],1)},staticRenderFns:[]};var vo=a("VU/8")(fo,go,!1,function(t){a("RsVE")},"data-v-327b4cfe",null).exports,_o={data:function(){return{select:"",timu:"",dialogFormVisible:!1,dialogFormVisible1:!1,form:{sort:"",name:""},form1:{sort:"",name:"",yname:""},formLabelWidth:"100px",headson:["量表类别","系统量表类别"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:10,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{sortnumber:function(t){return function(e,a){var i=e[t],n=a[t];if(i==n){var s=wt()(e.create_time).format("YYYY-MM-DD HH:mm:ss"),o=wt()(a.create_time).format("YYYY-MM-DD HH:mm:ss");if(wt()(o).isBefore(s))return 1}return i-n}},show:function(){this.dialogFormVisible=!0},useqrcode:function(){var t=document.getElementById("canvas");wa.a.toCanvas(t,"http://psy.hxxlcloud.com/mpsycholo/ ",function(t){t&&console.error(t),console.log("QRCode success!")})},getlist:function(t,e){var a=this;this.axios.post("/api/v1/system/scale/getScaleTypeList",{page:t,size:e}).then(function(t){if(0==t.data.code){a.page.countpage=t.data.data.count;var e=t.data.data.list.sort(a.sortnumber("sort"));console.log(e),a.tableData=e}console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.yname=e.name,this.form1.sort=e.sort},editsure:function(){var t=this;this.form1.name!=this.form1.yname?this.axios.post("/api/v1/system/scale/saveScaleType?id="+this.form1.id,{sort:this.form1.sort,name:this.form1.name}).then(function(e){0==e.data.code?(t.getlist(t.page.currentpage,t.page.pagesize),t.$message("编辑成功"),t.dialogFormVisible1=!1):t.$message(e.data.msg)}):this.$message("量表类别没有修改，请修改后在提交")},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/system/scale/delScaleType",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/system/scale/saveScaleType",{sort:t.form.sort,name:t.form.name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:H.a}},bo={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"序号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.sort))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"类别名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("编辑")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"增加类别",visible:t.dialogFormVisible,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类别名称"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.makesure}},[t._v("提交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改类别名",visible:t.dialogFormVisible1,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{ref:"form",attrs:{model:t.form1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{model:{value:t.form1.sort,callback:function(e){t.$set(t.form1,"sort",e)},expression:"form1.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类别名称"}},[a("el-input",{model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]};var xo=a("VU/8")(_o,bo,!1,function(t){a("k3HC")},"data-v-571a9ae8",null).exports,yo=a("B7zw"),wo=a.n(yo),ko={name:"Navbar",data:function(){return{userId:1,navbardata:[],rightdata:{},leftdata:[],title:"",icon:"",domIindex:0,keys:[],rightflag:!0,routename:""}},components:{SidebarItem:z},watch:{$route:function(){this.handleOpen(this.routename)}},mounted:function(){this.navbardata1()},methods:{hanselect:function(t){},handleOpen:function(t){this.routename=t,console.log(t,this.$route.path)},handleClose:function(t,e){console.log(t,e)},sortnumber:function(t,e){return t-e},navbardata1:function(){var t,e=this,a=wo.a,i=[];for(var n in a)i.push(a[n].sort);i.sort(e.sortnumber),i.map(function(t){for(var i in a)t==a[i].sort&&e.navbardata.push(a[i])}),e.navbardata.map(function(a,i){console.log(e.$route.path.indexOf(a.menu_route)),-1!==e.$route.path.indexOf(a.menu_route)&&(console.log(a.menu_route,i),t=i)}),console.log(e.navbardata,t)},showright:function(t){var e=this.navbardata[this.keys[t]];console.log(e),this.title=e.menu_name,this.icon=e.icon,this.rightdata=e.items,console.log(this.rightdata),this.domIindex=t,0==e.items.length?(console.log(e.menu_route),this.rout(e.menu_route),this.$refs.nav.style.width="122px",this.rightflag=!1):(this.$refs.nav.style.width="332px",this.rightflag=!0)},rout:function(t){console.log(t),this.$router.push("/"+t)},creatdata:function(t,e){var a={};for(var i in t)a[t[i].pid]||(a[t[i].pid]=[]),a[t[i].pid].push(t[i])},findroute:function(t,e){for(var a in t){if(t[a].id==e)return t[a].pid?(e=t[a].pid,this.findroute(t,e)):t[a].id}}}},Co={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"nav",staticClass:"nav"},[a("ul",{directives:[{name:"show",rawName:"v-show",value:t.rightflag,expression:"rightflag"}],staticClass:"right"},[a("li",[a("ul",[a("el-row",{staticClass:"tac"},[a("el-col",{attrs:{span:12}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"text-color":"#fff","active-text-color":"#00CBA3",router:""},on:{select:function(e){t.handleOpen(e)},close:t.handleClose}},t._l(t.navbardata,function(t,e){return a("sidebar-item",{key:e,attrs:{item:t}})}),1)],1)],1)],1)])])])},staticRenderFns:[]};var $o={name:"layout",components:{top:C,Navbar:a("VU/8")(ko,Co,!1,function(t){a("wePy")},"data-v-7d74165b",null).exports}},So={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-wrapper"},[e("div",{staticClass:"head"},[e("top")],1),this._v(" "),e("div",{staticClass:"main-container"},[e("Navbar"),this._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view",[this._v("1")])],1)],1)])},staticRenderFns:[]};var zo=a("VU/8")($o,So,!1,function(t){a("suKp")},"data-v-2aefc0c4",null).exports;a("N+Om");i.default.use(_.a);var Fo=new _.a({routes:[{path:"/login",name:"登陆",component:Rs},{path:"/globalAdminLogin",name:"超级管理员登陆",component:Zs},{path:"/liangbiao",name:"个人量表",component:Hs},{path:"/register",name:"注册",component:Bs},{path:"/getUserPassword",name:"设置密码",component:Ms},{path:"/admin/teacherindex",name:"生涯测评",component:E,children:[{path:"teacherschool",name:"学校",component:j}]},{path:"/school",component:zo,children:[{path:"localadminschool",name:"学校管理",component:Qs,meta:{permission:[]}},{path:"schooladmins",component:eo,meta:{permission:[]}},{path:"settingtprincipal",component:no,meta:{permission:[lo]}},{path:"addprincipal",component:lo,meta:{permission:[]}},{path:"gloablesheet",component:uo,meta:{permission:[]}},{path:"gloEditsheet",component:ho,meta:{permission:[]}},{path:"reasonsheet",component:vo,meta:{permission:[]}},{path:"sheettype",component:xo,meta:{permission:[]}},{path:"system/measure",name:"测量参数",component:Fa}]},v()({path:"/student/archives",name:"个人档案",component:Tt},"name","grade"),{path:"/admin",component:E,children:[{path:"Groupsettings",name:"单位组别",component:O,meta:{permission:[]}},{path:"admindata",name:"管理数据",component:X,meta:{permission:[]}},{path:"admintype",name:"管理类型",component:K,meta:{permission:[]}},{path:"adminlist",name:"管理列表",component:st,meta:{permission:[]}},{path:"setdata",name:"学生资料录入",component:rt,meta:{permission:[]}},{path:"permission",name:"权限设置",component:ut},{path:"addAdmin",name:"管理员增加",component:ht},{path:"stucomment",name:"学生评价",component:vt,meta:{permission:[]}},{path:"comments",name:"学生评语",component:xt},{path:"resports",name:"成长报告",component:$t},{path:"settingStudent",name:"修改学生信息",component:Ft},{path:"setAdmin",name:"修改管理员信息",component:Vt}]},{path:"/Gauge/totalresult",name:"量表分析",component:Qi},{path:"/Gauge/test_export_answer",name:"答题卡选择答案",component:en},{path:"/Gauge/answer_score",name:"答题卡因子分数",component:sn},{path:"/Gauge/statistic",name:"答题卡答题分析",component:ln},{path:"/Gauge",name:"测评",component:E,children:[{path:"alltest",name:"测评量表",component:zi},{path:"selftestSheet",name:"量表类别",component:Li},{path:"reasonSheet",name:"因子管理",component:Ii},{path:"editsheet",name:"编辑量表",component:Di},{path:"warning",name:"量表预警",component:Ni},{path:"result",name:"查看量表",component:Bi},{path:"resultdetail",name:"量表详情",component:qi},{path:"testgroup",name:"量表分发",component:dn},{path:"testdata/handdata",name:"手动录入",component:pn},{path:"testdata/import",name:"导入量表",component:gn}]},{path:"/data/vrdata",name:"数据类",component:E,children:[{path:"presentation",name:"数据报告",component:Ot,meta:{permission:[]}},{path:"vrdetail",name:"个人数据",component:Ht}]},{path:"/data/game",name:"沙盘游戏",component:E,children:[{path:"gameCenter",name:"游戏中心",component:Rt,meta:{permission:[]}},{path:"gamedetail",name:"组内数据",component:Wt}]},{path:"/data",name:"rest",component:E,children:[{path:"Coachdata",name:"身体反馈",component:Zt,meta:{permission:[]}},{path:"Coachdetail",name:"身体反馈详情",component:Qt,meta:{permission:[]}},{path:"feedback",name:"身心放松数据",component:ee},{path:"feedbackdetail",name:"身心放松数据1",component:ne,meta:{permission:[]}},{path:"relex",name:"团体辅导数据",component:le},{path:"relexdetail",name:"团体辅导数据1",component:de,meta:{permission:[]}},{path:"archives/monthwork",name:"月报表",component:ge,meta:{permission:[]}},{path:"archives/daywork",name:"操作日志",component:xe,meta:{permission:[]}},{path:"archives/phyArchive",name:"心理档案",component:pe,meta:{permission:[]}}]},{path:"/artical",name:"文章类",component:E,children:[{path:"column",name:"文章管理",component:ke,meta:{permission:[]}},{path:"articalList",name:"文章列表",component:Fe,meta:{permission:[]}},{path:"publish",name:"发布文章",component:Ve,meta:{permission:[]}},{path:"read",name:"阅读情况",component:Te,meta:{permission:[]}},{path:"books",name:"心理图书",component:Re,meta:{permission:[]}}]},{path:"/Consultation",name:"咨询中心",component:E,children:[{path:"appointment",name:"预约时间",component:Ue},{path:"appointDetail",name:"时间详情",component:Me},{path:"history",name:"咨询记录",component:Ye},{path:"manageTime",name:"咨询时间",component:Xe},{path:"message",name:"留言消息",component:Ke},{path:"arrangement",name:"访谈时间",component:sa},{path:"invitation",name:"邀请记录",component:aa},{path:"historyview",name:"访谈记录",component:ra},{path:"historydetail",name:"访谈记录详细",component:ua},{path:"setting",name:"功能室设置",component:ha},{path:"racking",name:"个案追踪",component:va},{path:"rackdetail",name:"个案追踪相关信息",component:xa}]},{path:"/crisis",name:"危机干预",component:E,children:[{path:"Assessment",name:"评估管理",component:Wa},{path:"asses/check",name:"鉴别评估",component:Ba},{path:"asses/danger",name:"潜在风险评估",component:Ma},{path:"asses/diebefore",name:"自杀倾向评估",component:Ya},{path:"asses/lifeThing",name:"生活事件动态",component:Za},{path:"strategy",name:"应对策略指导",component:pi},{path:"manageTime",name:"咨询时间",component:Xe},{path:"prowarn",name:"预警触发",component:di},{path:"safeplan",name:"安全计划",component:gi},{path:"preTeam",name:"危机预防小组",component:li},{path:"environment",name:"环境安全管理",component:ni},{path:"cases",name:"个案总结",component:Qa},{path:"setting",name:"功能室设置",component:ha},{path:"DeathNotice",name:"学生死亡通知模板",component:ei},{path:"enviromndetail",name:"鉴别管理",component:bi},{path:"preteamdetail",name:"事件动态",component:wi}]},{path:"/system",name:"学生模块",component:E,children:[{path:"setpramas",name:"系统参数",component:$a},{path:"Consultation",name:"咨询参数",component:Ta},{path:"personinfo",name:"个人信息",component:Va},{path:"usepage",name:"页面使用",component:Ra},{path:"measure",name:"测量参数",component:Fa}]},{path:"/Evaluation/studentindex",name:"学生测评",component:kn,children:[{path:"studentschool",name:"学生",component:$n}]},{path:"/studentindex/gpartical",name:"文章详情",component:Vn},{path:"/studentindex/gocale",name:"量表",component:Tn},{path:"/studentindex/questionLogin",name:"量表手机登录",component:Rn},{path:"/studentindex/caleindex",name:"量表开始",component:Nn},{path:"/studentindex/calequestion",name:"手机量表测题",component:Bn},{path:"/studentindex/caleresult",name:"量表测题结果",component:qn},{path:"/Evaluation",name:"测评中心",component:kn,children:[{path:"survey",name:"心理普查",component:Gn},{path:"zice",name:"心理自测",component:Jn},{path:"jilu",name:"心理记录",component:ts},{path:"resultdetail",name:"心理记录",component:os}]},{path:"/test",name:"测试题",component:is},{path:"/student",name:"咨询中心",component:kn,children:[{path:"jianjie",name:"中心简介",component:$s},{path:"history",name:"咨询记录",component:ws},{path:"yaoqing",name:"访谈邀请",component:Vs},{path:"message",name:"问题留言",component:Fs},{path:"addyuyue",name:"增加预约",component:Ts}]},{path:"/group",name:"团体辅导",component:kn,children:[{path:"courselist",name:"课程列表",component:ms},{path:"course",name:"心理课程",component:cs}]},{path:"/Growup",name:"成长档案",component:kn,children:[{path:"record",name:"自我成长报告",component:_s},{path:"comment",name:"评价中心",component:fs}]},{path:"/",redirect:"/login"}]}),Ao=a("NYxO");i.default.use(Ao.a);var Do=new Ao.a.Store({state:{uid:y.a.get("userId"),token:y.a.get("userToken"),userInfo:y.a.get("role"),logo:y.a.get("logo"),roles:[],adminGroup:"",list:[],btnList:["permission"],sandgroups:"",loginsucess:!0,columns:""},mutations:{setToken:function(t,e){t.token=e.token,t.userInfo=e.role,t.logo=e.logo,console.log(t.logo)},getToken:function(t){console.log(t.token,t.userInfo)},loginout:function(t,e){},SET_ROLES:function(t,e){t.roles=e,console.log(e)},setList:function(t,e){t.list=e},setGroup:function(t){Lo.get("/api/v1/admin/user/roleGroup").then(function(e){var a=e.data.data;t.adminGroup=a,console.log(a)}).catch(function(t){alert(t)})},sandgroup:function(t){Lo.post("/api/v1/admin/sand/group/select").then(function(e){console.log(e),0==e.data.code&&(t.sandgroups=e.data.data)})},column:function(t){Lo.post("/api/v1/admin/tool/select/article/column").then(function(e){-1003!=e.code&&(t.columns=e.data)})}},actions:{getpermission:function(t){t.commit;Lo.get("/api/v1/admin/user/roleGroup").then(function(t){Do.commit("setList",[1,2])}).catch(function(t){alert(t)})},sandgroup:function(){Lo.post("/api/v1/admin/sand/group/select").then(function(t){console.log(t)})}},getters:{uid:function(t){return t.uid},token:function(t){return t.token},userInfo:function(t){return t.userInfo},roles:function(t){return t.roles}}}),Vo=Do,Eo=f.a.create({withCredentials:!0,headers:{"Content-Type":"application/json;charset=UTF-8"}});Eo.interceptors.request.use(function(t){return Vo.state.token&&(console.log(Vo.state.token),t.headers["X-Token"]=""+Vo.state.token),t.method,"post"===t.method?t.data=p()({},t.data,{t:Date.parse(new Date)/1e3}):"get"===t.method&&(t.params=p()({t:Date.parse(new Date)/1e3},t.params)),console.log(t),t},function(t){return console.log(22),u.a.reject(t)}),Eo.interceptors.response.use(function(t){if(console.log(t),-1==t.data.code&&"Expired token"==t.data.msg&&(y.a.set("userToken",""),Vo.state.loginsucess=!0,Fo.replace("/login")),-10004!=t.data.code)return t;alert(t.data.msg)},function(t){if(t.message.includes("timeout"))return alert("网络超时"),u.a.reject(t);if(t)switch(console.log(t,14),t.response.status){case 401:Vo.commit(loginout),"login"!==Fo.currentRoute.path&&Fo.replace({path:"/login",query:{redirect:Fo.currentRoute.path}})}return u.a.reject(t.response.data)});var Lo=Eo,To={setGroup:function(){Lo.get("/api/v1/admin/roleGroup").then(function(t){var e=t.data.data;localStorage.setItem("roleGroup",e)}).catch(function(t){alert(t)})},handleDownload:function(t,e,i){a.e(0).then(function(){var n=a("zWO4").export_json_to_excel;if(0!=i.length){var s=To.formatJson(e,i);n(t,s,"导出的列表excel")}else alert("请至少一条数据导入")}.bind(null,a)).catch(a.oe)},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},NestedToFlat:function(t){var e=[];for(var a in t)e.push({id:t[a].id,name:t[a].name,pid:t[a].pid}),0!==t[a].items.length&&(e=e.concat(To.NestedToFlat(t[a].items)));return e},treeData:function(t,e,a,i){var n=JSON.parse(c()(t));return n.filter(function(t){var s=n.filter(function(i){return t[e]==i[a]});return s.length>0&&(t[i]=s),0==t[a]})},actioncheck:function(t){return Vo.state.btnList.indexOf(t)>-1},assecsshave:function(t){Vo.state.btnList.indexOf(t)}},jo=(a("tvR6"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app2"}},[e("router-view")],1)},staticRenderFns:[]});var Io=a("VU/8")({name:"App"},jo,!1,function(t){a("KyHj")},null,null).exports,Ro=a("Myac"),Po=a.n(Ro),No={group:{delid:62,setid:83},usertype:{delid:81,setid:80,addid:82,ruleid:61},useradmin:{delid:85,setid:84,addid:86},user:{delid:87,addid:88},Theme:{delid:89,addid:90,setid:102,funcdel:105},coach:{addid:104,setid:103},artical:{columndelid:106,setlid:107,articaldelid:108}};a("erWL"),a("2bHb");i.default.prototype.$layer=Po()(i.default),i.default.prototype.$echarts=Yi.a,i.default.prototype.axios=Lo,i.default.use(s.a),i.default.prototype.axios=Lo;i.default.prototype.$_has=function(t,e){var a=!1,i=sessionStorage.getItem("buttonspermissions");if(void 0==i||null==i)return!1;for(var n=JSON.parse(i),s=0;s<n.length;s++)if(console.log(No[t][e]),n[s].id==No[t][e]){a=!0;break}return a},i.default.directive("has",{inserted:function(t,e){var a=JSON.parse(e.expression);i.default.prototype.$_has(a[0],a[1])||t.parentNode.removeChild(t)}}),i.default.config.productionTip=!1,Fo.beforeEach(function(t,e,a){if(Vo.getters.token){a();var i=Vo.state.userInfo;"string"==typeof i&&(i=JSON.parse(i)),console.log(i.type),1!=i.type&&2!=i.type||(Vo.state.loginsucess=!1)}else-1!==["/login","/register","/getUserPassword","/studentindex/gpartical","/studentindex/gocale","/studentindex/questionLogin","/studentindex/caleindex","/studentindex/calequestion","/studentindex/caleresult"].indexOf(t.path)?(Vo.state.loginsucess=!0,a()):(Vo.state.loginsucess=!0,a("/login"),alert("没有登录，请去登录"),console.log(e,t))}),Vo.commit("setGroup"),Vo.getters.token&&Vo.commit("column");new i.default({el:"#app",router:Fo,store:Vo,components:{App:Io},template:"<App/>"})},NKBi:function(t,e,a){t.exports=a.p+"static/img/e2a51aafad9aa42d23ca511382c1784.1febba1.png"},NRxK:function(t,e){},NxjI:function(t,e){},"O+pW":function(t,e){},O5bS:function(t,e){},ObQt:function(t,e){},PFxc:function(t,e){},PGnQ:function(t,e){},PNSC:function(t,e){},PX7H:function(t,e){},QJL2:function(t,e){},QJWm:function(t,e,a){"use strict";(function(t){var e,i=a("pFYg"),n=a.n(i),s=a("XLwt"),o=a.n(s),l=a("+aSx"),r=a.n(l);a("3TXs");(e=t).fn.html2docx=function(t,a){if(console.log(window,r.a,t,a),a=a,e(this).length){t=t||"未命名";var i=620,s=0,l=null,c=e(this).first();"undefined"!=typeof layer?layer.msg("正在生成，请稍候...",{icon:16,time:0,shade:[.1,"#000"]}):"object"===("undefined"==typeof AMUI?"undefined":n()(AMUI))?e("#btn-word").prop("disabled",!0).find("i").attr("class","am-icon-circle-o-notch am-icon-spin"):e("#btn-word").prop("disabled",!0).data("value",e("#btn-word").val()).val("请稍候...");var d=[];c.find("svg").length&&"undefined"==typeof html2canvas&&d.push(e.ajax("//cdn.psy.com.cn/scripts/html2canvas.min.js",{dataType:"script",cache:!0})),e.when.apply(null,d).done(function(){var t=c.find("svg");if(t.length){console.log(1111);var a=[];t.each(function(){var t=e(this);a.push(html2canvas(this).then(function(e){t.after('<img src="'+e.toDataURL("image/png")+'">'),t.remove()}))}),e.when.apply(null,a).done(u)}else console.log(1111),u()})}return this;function u(){l=c.clone(!0),console.log(c),l.find("iframe,embed,style").remove(),l.contents().each(function(){var t=e(this);(8===this.nodeType||t.is('input[type="hidden"]')||t.is(".word-hidden")||t.is(".no-word"))&&t.remove()});var t=l.find("img");if(s=t.length,console.log(s),0===s)m();else{var a=document.createElement("canvas"),n=a.getContext("2d");t.each(function(){var t=e(this),s=t.attr("src"),o=c.find('img[src="'+s+'"]').get(0);if(0===s.indexOf("data:"))m();else{var l=Math.min(o.width,i);if(0===l)t.remove(),m();else{var r=o.height*(l/o.width),d=document.createElement("a"),u="";if(d.href=s,d.host===window.location.host)n.clearRect(0,0,a.width,a.height),a.width=l,a.height=r,n.drawImage(o,0,0,l,r),u=a.toDataURL(),t.attr("src",u).removeAttr("width"),m();else{var p="";s=s.replace(/^(http:\/\/|https:\/\/|\/\/)/gi,""),p="images.weserv.nl"===d.host?s+"&encoding=base64":"//images.weserv.nl/?url="+s+"&w="+l+"&encoding=base64",e.get(p,function(e){t.attr("src",e).removeAttr("width"),m()})}d.remove()}}}),a.remove()}}function m(){if(s>1)s--;else{l.find("div.chart").has("canvas,svg").each(function(){var t=e(this).data("option"),a=e(this).attr("id"),n=c.find("#"+a).data("theme");if(console.log(e(this),t),t){console.log(111111111,t,o.a),"string"==typeof t&&(t=JSON.parse(t));var s=e('<div style="width:'+i+'px;height:500px;"></div>'),l=s.get(0);e.extend(!0,t,{animation:!1,toolbox:{show:!1},tooltip:{show:!1,trigger:"none"}}),e(this).after(s);var r=o.a.init(l,n);r.setOption(t);var d=r.getDataURL({backgroundColor:"#fff",excludeComponents:["toolbox","tooltip"]});console.log(0x27797f26d671c8),s.replaceWith('<div style="text-align:center;"><img src="'+d+'"></div>'),r.dispose()}e(this).remove()}),l.find("h1").css({"text-align":"center"}),l.find("p").css({"text-indent":"2em"}),l.find("table").css({"border-collapse":"collapse",width:"100%"}).removeAttr("class"),l.find("th").css({border:"1px solid #000","text-align":"center","background-color":"#e8e8e8"}),l.find("td").css({border:"1px solid #000","text-align":"center"}),l.find(".am-text-primary").css({color:"#5085FF"}).removeClass("am-text-primary"),l.find(".text-left,.am-text-left").css({"text-align":"left"}).removeClass("text-left am-text-left"),l.find(".text-center,.am-text-center").css({"text-align":"center"}).removeClass("text-center am-text-center"),l.find(".text-right,.am-text-right").css({"text-align":"right"}).removeClass("text-right am-text-right"),l.find(".text-top").css({"vertical-align":"top"}).removeClass("text-top"),l.find('[class=""]').removeAttr("class"),l.find("[contenteditable]").removeAttr("contenteditable"),l.find("script").remove();var a="<!DOCTYPE html><html><body>"+l.html()+"</body></html>",d=window.htmlDocx.asBlob(a);l.remove(),"undefined"!=typeof layer?layer.closeAll():"object"===("undefined"==typeof AMUI?"undefined":n()(AMUI))?e("#btn-word").prop("disabled",!1).find("i").attr("class","am-icon-file-word-o"):e("#btn-word").prop("disabled",!1).val(e("#btn-word").data("value")),r.a.saveAs(d,t+".docx")}}}}).call(e,a("7t+N"))},QNdV:function(t,e){},Qrcc:function(t,e){},RsVE:function(t,e){},SdNX:function(t,e){},SnYm:function(t,e){},TFKy:function(t,e){},Te8f:function(t,e,a){"use strict";(function(t){var i=a("2T5n"),n=a("spLH"),s=a("QaH6"),o=a("E0VQ"),l=(a.n(o),a("PJh5")),r=a.n(l);e.a={data:function(){return{title:"",Mouseoverflag:!0,dialogFormVisible:!1,dialogFormVisible1:!1,form:{theme_id:"",problem:"",last_exp:"",grow_exp:"",target:"",other:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",config:{locale:"zh-cn",header:{left:"month",center:"title",right:"today prev,next,prevYear,nextYear "},allDay:!0,defaultView:"month",displayEventTime:!1,eventLimit:4,eventLimitText:"更多",allDayDefault:!1,eventLimitClick:"popover"},monthData:[],timecontent:"",headson:["心理咨询安排","学生咨询预约"],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){},methods:{abs:function(){},viewrender:function(t,e){var a=this.$refs.calendar.fireMethod("getDate")._d,i=this;i.monthData=[],this.axios.post("/api/v1/counsel/getList",{year:a.getFullYear(),month:a.getMonth()+1}).then(function(t){t.data.data.map(function(t,e){t.date=r()(t.start_time).format("YYYY-MM-DD"),t.times=r()(t.start_time).format("HH:mm:ss")+"至"+r()(t.end_time).format("HH:mm:ss")+" "+t.name+" "+t.funcname;var a={};a.title=t.times,a.start=t.start_time,a.end=t.end_time,a.id=t.id,a.content="咨询师："+t.name+"， 日期："+t.date+", 时间："+r()(t.start_time).format("HH:mm:ss")+"至"+r()(t.end_time).format("HH:mm:ss");var n=t.status;switch(n){case 1:case 0:a.backgroundColor="rgb(25, 190, 107)";break;case 2:a.backgroundColor="rgb(45, 140, 240)";break;case 3:a.backgroundColor="rgb(255, 153, 0)";break;case 4:a.backgroundColor="rgb(124, 46, 155)"}0==n&&i.monthData.push(a)})})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;for(var e in this.form)if(!this.form[e])return void this.$message("请填写完整详细基本问题信息和选择咨询时间主题");this.form.problem.length<10||this.form.problem.length>1024?this.$message("主要问题字数过少或者过多，在10个字到1024个区间"):(console.log(this.form),this.axios.post("/api/v1/counsel/addAppointment",t.form).then(function(e){console.log(e),0==e.data.code?(t.$router.go(0),t.$message("增加成功")):t.$message(e.data.msg)}))},handleDelAll:function(){},changevalue:function(){},changeMonth:function(t,e,a){},eventClick:function(e,a,i){this.timecontent=e.content,this.form.theme_id=e.id;for(var n=0;n<t(".test-fc .fc-title").length;n++)t(".test-fc .fc-title")[n].style.color="#fff";a.target.style.color="red"},dayClick:function(t,e){},moreClick:function(t,e,a){console.log("moreCLick",t,e,a)},eventMouseover:function(t,e,a){if(this.Mouseoverflag){this.$refs.toop.style.display="block";var i=document.documentElement.scrollTop||document.body.scrollTop;this.$refs.toop.style.left=e.clientX+"px",this.$refs.toop.style.top=e.clientY+i+"px",this.title=t.title,this.Mouseoverflag=!1}},eventmouseout:function(){this.Mouseoverflag=!0,this.$refs.toop.style.display="none"},eventLimitClick:function(){console.log("ssss")}},components:{headson:i.a,pagination:n.a,"full-calendar":s.a}}}).call(e,a("7t+N"))},TnzV:function(t,e){},UWv1:function(t,e){},Ujg2:function(t,e){},V1CP:function(t,e){},VBMB:function(t,e){},XXr1:function(t,e){},XZF3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAABmCAYAAABGDvaTAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADcWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjU0ZWMyOTgyLTc5NWItMjI0ZC1hNGRlLTM2ODI3YWJlNGZhMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGNDhBNTlDMjMyNTcxMUU5QUEwRUM2QkU2MEFFQTZBQiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGNDhBNTlDMTMyNTcxMUU5QUEwRUM2QkU2MEFFQTZBQiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTRlYzI5ODItNzk1Yi0yMjRkLWE0ZGUtMzY4MjdhYmU0ZmEzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU0ZWMyOTgyLTc5NWItMjI0ZC1hNGRlLTM2ODI3YWJlNGZhMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvTbY5wAAAt9SURBVHja5F0LlFZVFd7/zCgqYIQU+MCWAYpppibUwjBBSwREkTckAWb4QgpfIeAjAc1W2ZiPtBFQEeTl0kYKUcoi0B7LjDQkebYWmiA+GB/YwEz7835/DLNm5n+cc/c9l9lrfWvNzPrn3Hv23Xefb++zz/4ztbW1kpXp8yR0OUcxSXE8f9+umK1YwJ8Tlakjc3+mTNIhvRXnKa6sd88dFacqLlbMUjyqeDvkieyj8Nrw7q+NYgoVfVATnztZcZeir+J6xZpUKDwgjbdWTFD0UpxdwP/1URyjeErxiOLvYSs8DPmG4nu01mLkOOJ8xe2KhYqqUCZXUt/AE0QXxWOKSkVfD+N1VlQonlUMVxwa9xwKVnhC0l5xnWKpYpiihefxu3MxBZs5ujn78EMUI+mrTzJ4ky9UtFIMUHzc3FjKGYorFEON57tFkWlOi2YnxTWKUWQiVrJZMZPMZVdz4OGfVnyLAcqXDOf3X8Vjip+GQhHj9uEtFV9R3KboZvg6f6T4q6JC8XBz4eGn8zX+gqKd4Zz+UYd/724OoX0XxaWK0caKflPxMwVScP/2MF5bxR7Fe6G6FCyCwxU3K44wVHSNYoni54qVHsbrrOivuIT0EfHBbxSrQ7FwBCr9FJcrvm7MfJAzeVBRSWt0kcMUYxTj+ZZm5RT+vVwxV/GfJC38NFr0NxUHGCp6g+LHXBRdFV0qUYIM0W7vRj5zFK8HOnsXF+I9lhbejQmmnhLlpK1kh+J+hunrPYx3ouKHEiXMWuXxeaSB7+UDguL/FDdLgZ/uy6dtqWjIs2Q9v/MwFtaYbzMu6FTg/x7ElMQQxU8Uv1RsLM7CmzZxWMFVEuWoWxrTPCj6SfJr1wAMC/s4ukMXgQv9ARW/kLFGzjRwpu6e5tQ5DX4GPPoiKvsQQ0Wvoet4yoP7aE1DgaLPj+l+XyRTenz6GNmZl8Kn7KvwDlT0JfVWbQs/PZc3v8HDeF/mwt7f6P7BmCbPGCOv5FT4DbM/+flg0iBk804wVHRVHT79oic+fTkNppXYyt/I3+fNHJtZ25TCz+RNDkngBm+ln65xHKsFF7WJYpsoa4y+gtXcqYqv3Ufhk2fVDiblamt4Q29xlb9D8a4HRfejos8ILIWC+d1027jMrjIqG8T+FkNlg20sZu7Dh/sAn76W+ZsQ5TqmBp7MXF9RA175XYlyxqUGF1/BYOMPHsbqSC6N9aadhC3w6YPKuDAONVD20xLtuDxNV+Iajg+iVZ8m6RC4uZ5l6sJbkQLGJZuwaEiUNt3hQdFnKb5PXt1C0iOIBdqU1UasYE8MF6hW/II07zUP431OorK3cUauz7dAx7vjSqWC/N/NvEe141gdGBeMVRwrKZeyWr/7mGtp0aB6rttbJUwwXcP0gqXgjdzON6kD3y5PCvczDkqEZ5Hkb3IcCxvNPRRXK86VpqtmfQtyIHNIV7dR4e350C/24crKPGxkYoRyUj1XAWOaQBdiuSDCvz5ORa9u4CGMp9X/SBzLA31YOLJ693lYwUdT2ccZu48/0w3Oz0EesCZhC7G/m8LdNb5Vij/ukWHeBjTvqwnkOcoLoKu7GEO4KdzDjRf7iiFtipMNAxWfMlT0hxLtScJ9rCvwf7eFxlLykcPoOiaJbX0h4o3lipvoRoqRlu4Kt1V2N+Zsvmb8kP/CdQYJs2JPQ2AR7x0CS8lXuvJV7mqoaNSQYHf9fnE/3QaaOjJNFj7RUNmomELVLKoLXnEcqx2VfaV4ODFi5cMzRgsj/DTKKe5R/MpxrGw5xCTxuNVoVZZWIvGfJ3pVMUOxSNyOlCCaxIlnFDr18q0jKwsv5KBXoYLqVqR/KxgTuEgnug/kcGIpCSkL8PRxvoIsJDadsTX4suNYn1V8h3Q1zr0BU5biU16QqMwM21Yu1VionrqA7qOHxY1bWriP4yabGI4/JO67/ChEnUJ/bSZJRJrFyvMSbUKscxwHfhqbzhdJAhvPaWnf8Y5EtY0uyj5UojQrxjkqqYmkxcJXSfH1KwdKdPr4KrqRRCUtLGW7FFcChxIK7NYMkTD6CsDCU6HyQpWFQs5xDMdbhzSRtPjwzgy1cx3bhnIH0apPCHEiafHhaMGBbhBNtUHDhvPkEPz0/uDDEaBg3xFVYuh98kEdV4MSCiSYUK7XMvSJpCnSRGUv8tpokoCU6x6G5KjZa5+WSaQp8KkbIfaUlEqak1eWgiwkTtN1kcKPGdajWwl3FksBHlAMVgxQ3Os6npWFZyTh1kdFCDKSqP59qM7fqtxdio3G4yqJjkNekuh86CPM4dQVD7WFNoLHujZwRW9WPCPRmc7Xm5hHalgKKp2+KPZHEvMRtADBSTPk26s9phgSZSnwfzgDim49Y8X2eGJjkj1eXi5GXQStA5+3mOdYJlEX5N6STBbvnxIVJQFvFOgaU8nDUTuC+j4UcqJy1urEMHb4UWqHBu/rkph4kpHmTlIubJ1dSjfTJqZr7eZbBWW79FtxprYhJOX/JVHyCccBF4n/1nfIu6BHylBHZSM9fN7+lEvBFhoKcCq5uLoW6G/hgjhb3NvqwbJxQuPc/S2X8hEDDjSlQVZwghTeqwXtT++mol/2cE/deR8D/bCUMAURHvLfOJd/Nd1Brp4nsJ3nZG+BkKt04Bt3s3g8SRd6ehb0LfsNJtMk6rtV0kiUeKNEJ9E+cLwmNjtQNYtd/lPEcw4oLenZVVz4oHB00UefxNZcBKHk3/LhuEoPrh+j4gx8SiUdm8nvksXAv6N/IM4KrRQ/vWGPYCAGy46rGgt6PgAW/jpD3M/HrLDDFZfRGp9zXFif93RP2e+f6CHxH1sEa9rwSQumYTNqsALPK3JxWJYnXSqnX9wme8/jv5nQ2wI/jXKKiWJ3PnT5gikl52QXoGdoeXEJrnMkf8bGLxqK/VGiYp0DjZWNBvLoljzfUNlv0+CiFV81/74a+kTFKrCWmFBd7/fOivsUjyp6xXjdLDop7lA8oTjL4HpZbFGMVx3/ep/QfuHUEnS/HMAw2+pVh3UPJm9GCcSpMVwDbAalyTgUe63EfMKhXgAGOnu26nZxg4GPPgmY/p2kW0gojZCozDduQXNKNDrrw8DlYXEvuBdGh1iozxTbdttrGBcsWzSt5OMmIs3/s/KXqPBsqzurOr2j6evQTRNnd54oMpmFgOUGifrMWioajA8nnh9cNK30jZyhfQNBEPLWPRlaw9Uc20hix7ecyNdxgBTW2/BIWvQIA5pbV3byfu9ZPK10fd65lEbC/HfoX38v0eGj06mQugwkDsn63j5U+twmsn5taRjZb1WxzPnA/c5RVC65MfemfiHKepVuZiAzcfBNVeLenCaXfEYxnVEl/HvXegbTn4HUfGNlg9aOJp+vLCpbmGciaz358xL+vtRgchn6d7i1IbK3n/jBfNssuyevI7FADqfgxjwuOZSlkox0FPuvQ8j6aTRMQHeKohsmhP6dyCFINd0Valec++Vafp9mJoXKxhfm4bsdFvga0NLC09S+FBnJByTqTrHd58BWefAaT5GjhaKXkHmtjuMCxbCUYgU1KKPILEIU+OdbGezFJpZ1KeCt6N4ZWtnySgZYQ+NWtqVLyQpaiW4in+6esKI3S5Qkg6/eanVRS5eSXZex4q+ge8E+4uHGisau/mIuiK9ZP+WkSt1QRYusIHqVoCPzewbXxMPGrhY2ii9LQtkhBD44GXYFrR5KGB7TdbYyQkRF1odJ+jHLwCcXQ3iBFoiGBCd5GhfJtQoqeqMEIEG0tKBgSwo7+SjyQWuk9x3G2k3GMYwL9MZQJhliLgX7qTNp9agZH1Egd0fAgjrw5eLhmN/+bOEN8Xa0tkNNdj5bbagzR/FlP0aLVSFOKhQf3hSzWEGrRbERNiKOr/eZHaR5YDtrQs8dpCU9ixwHEv74DmJU057Mv2PTdi4X3FTI/wQYAI0ADf0E6RTyAAAAAElFTkSuQmCC"},XbLQ:function(t,e){},"Xh+0":function(t,e){t.exports={1:{sort:1,id:1,pid:0,menu_route:"Evaluation",icon:"icon-baobei",menu_name:"测评中心",items:[{id:4,pid:1,menu_route:"Evaluation/survey",icon:null,menu_name:"心理普测",items:[]},{id:7,pid:1,menu_route:"Evaluation/zice",icon:null,menu_name:"心理自测",items:[]},{id:7,pid:1,menu_route:"Evaluation/jilu",icon:null,menu_name:"测评记录",items:[]}]},2:{sort:2,id:2,pid:0,menu_route:"student",icon:"icon-zixun",menu_name:"咨询中心",items:[{id:3,pid:2,menu_route:"student/jianjie",icon:null,menu_name:"中心简介",items:[]},{id:7,pid:2,menu_route:"student/history",icon:null,menu_name:"预约咨询",items:[]},{id:7,pid:2,menu_route:"student/message",icon:null,menu_name:"问题留言",items:[]}]},4:{sort:4,id:2,pid:0,menu_route:"Growup",icon:"icon-edit",menu_name:"个人中心",items:[{id:7,pid:1,menu_route:"Growup/comment",icon:null,menu_name:"个人信息",items:[]},{id:8,pid:2,menu_route:"Growup/record",icon:null,menu_name:"个人档案",items:[]}]}}},Xp7V:function(t,e){},"Y/4O":function(t,e){},Y2Yh:function(t,e){},Y2pp:function(t,e){},YxKm:function(t,e){},ZKlR:function(t,e){},aysv:function(t,e){},dK8Y:function(t,e,a){t.exports=a.p+"static/img/pt@2x.e44bf45.png"},dWVP:function(t,e){},djP9:function(t,e){},eG9V:function(t,e){},eUF5:function(t,e){},"eb/j":function(t,e){},ed9p:function(t,e,a){t.exports=a.p+"static/img/测评报告-翟宇轩(2017080) - www.psy.com.cn.63a3c88.png"},erWL:function(t,e){},f13M:function(t,e){},f4Ga:function(t,e,a){t.exports=a.p+"static/img/2019-04-25_133454.b326fc0.png"},f4Gj:function(t,e){},fLQZ:function(t,e){},fPC1:function(t,e){},fnQU:function(t,e){},ggL9:function(t,e){},gtCp:function(t,e){},hoyp:function(t,e){},ikvL:function(t,e){},k3HC:function(t,e){},kLUj:function(t,e,a){t.exports=a.p+"static/img/15dec97a7f32eeef8008fa21e520764.515e545.png"},ke8S:function(t,e){},loPB:function(t,e){},nelq:function(t,e){},nk9U:function(t,e){},oBJz:function(t,e,a){t.exports=a.p+"static/img/p3.901ad7c.jpg"},ohG3:function(t,e){},pDxi:function(t,e){},paOt:function(t,e){},qEVb:function(t,e){},qcZ2:function(t,e){},qtSr:function(t,e,a){t.exports=a.p+"static/img/p1.2dc4690.jpg"},rTNR:function(t,e){},sHDv:function(t,e){},sYId:function(t,e){},sjCi:function(t,e){},spLH:function(t,e,a){"use strict";var i=a("pFYg"),n=a.n(i),s={data:function(){return{currentpage:this.page.currentpage,countpage:this.page.countpage,pagesize:this.page.pagesize,flag:this.page.flag}},created:function(){console.log(this.page)},methods:{show:function(){this.flag=!this.flag},check:function(){var t=event.target;this.flag=!1,this.currentpage=t.innerHTML},updatepage:function(){console.log(1,this.countpage),this.flag=!1},first:function(){this.currentpage=1},last:function(){this.currentpage=this.countpage},prev:function(){this.currentpage>1&&(this.currentpage=this.currentpage-1,console.log(this.currentpage))},nex:function(){this.currentpage<this.countpage&&(this.currentpage=this.currentpage-0+1,console.log(n()(this.currentpage)))}},props:["page"]},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagi"},[a("div",{staticClass:"pagination"},[a("span",{staticClass:"first iconfont icon-fenyezuiqianye",on:{click:t.first}}),t._v(" "),a("span",{staticClass:"pre iconfont icon-fenyeshangyiye",on:{click:t.prev}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentpage,expression:"currentpage"}],staticClass:"page",attrs:{type:"text"},domProps:{value:t.currentpage},on:{click:t.show,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.updatepage(e):null},input:function(e){e.target.composing||(t.currentpage=e.target.value)}}}),t._v(" "),a("span",{staticClass:"check iconfont icon-xuanzekuang",on:{click:t.show}}),t._v(" "),a("span",{staticClass:"next iconfont icon-pagernext",on:{click:t.nex}}),t._v(" "),a("span",{staticClass:"end iconfont icon-fenyezuihouye",on:{click:t.last}}),t._v(" "),t.flag?a("ul",{staticClass:"pages",on:{click:function(e){t.check()}}},t._l(t.countpage,function(e){return a("li",{key:e},[t._v(t._s(e))])}),0):t._e()])])},staticRenderFns:[]};var l=a("VU/8")(s,o,!1,function(t){a("dWVP")},"data-v-fc3f328e",null);e.a=l.exports},suKp:function(t,e){},swMo:function(t,e){},t7zG:function(t,e){},tlqJ:function(t,e){},tvR6:function(t,e){},upna:function(t,e){},uslO:function(t,e,a){var i={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function n(t){return a(s(t))}function s(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id="uslO"},vErg:function(t,e){},vxQ7:function(t,e){},w98O:function(t,e){},"wMm/":function(t,e){},wUMk:function(t,e){},wePy:function(t,e){},wtMr:function(t,e){},xngq:function(t,e){},yHmg:function(t,e){},yVGC:function(t,e){},"z/0T":function(t,e){},zCN6:function(t,e){},zZLh:function(t,e){},zt1r:function(t,e){}},[0]);
//# sourceMappingURL=app.ac7481733c74352c2ca2.js.map